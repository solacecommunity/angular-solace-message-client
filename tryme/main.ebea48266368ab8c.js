(self.webpackChunksolace_message_client_testing_app=self.webpackChunksolace_message_client_testing_app||[]).push([[179],{355:(gl,_l,to)=>{"use strict";function Ft(t){return"function"==typeof t}function E(t){const e=t(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const B=E(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function c(t,n){if(t){const e=t.indexOf(n);0<=e&&t.splice(e,1)}}class h{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Ft(i))try{i()}catch(s){n=s instanceof B?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{m(s)}catch(o){n=null!=n?n:[],o instanceof B?n=[...n,...o.errors]:n.push(o)}}if(n)throw new B(n)}}add(n){var e;if(n&&n!==this)if(this.closed)m(n);else{if(n instanceof h){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}}_hasParent(n){const{_parentage:e}=this;return e===n||Array.isArray(e)&&e.includes(n)}_addParent(n){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(n),e):e?[e,n]:n}_removeParent(n){const{_parentage:e}=this;e===n?this._parentage=null:Array.isArray(e)&&c(e,n)}remove(n){const{_finalizers:e}=this;e&&c(e,n),n instanceof h&&n._removeParent(this)}}h.EMPTY=(()=>{const t=new h;return t.closed=!0,t})();const _=h.EMPTY;function f(t){return t instanceof h||t&&"closed"in t&&Ft(t.remove)&&Ft(t.add)&&Ft(t.unsubscribe)}function m(t){Ft(t)?t():t.unsubscribe()}const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},p={setTimeout(t,n,...e){const{delegate:i}=p;return(null==i?void 0:i.setTimeout)?i.setTimeout(t,n,...e):setTimeout(t,n,...e)},clearTimeout(t){const{delegate:n}=p;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function v(t){p.setTimeout(()=>{const{onUnhandledError:n}=b;if(!n)throw t;n(t)})}function g(){}const w=A("C",void 0,void 0);function A(t,n,e){return{kind:t,value:n,error:e}}let I=null;function S(t){if(b.useDeprecatedSynchronousErrorHandling){const n=!I;if(n&&(I={errorThrown:!1,error:null}),t(),n){const{errorThrown:e,error:i}=I;if(I=null,e)throw i}}else t()}class F extends h{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,f(n)&&n.add(this)):this.destination=Q}static create(n,e,i){return new G(n,e,i)}next(n){this.isStopped?j(function D(t){return A("N",t,void 0)}(n),this):this._next(n)}error(n){this.isStopped?j(function C(t){return A("E",void 0,t)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?j(w,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const N=Function.prototype.bind;function q(t,n){return N.call(t,n)}class H{constructor(n){this.partialObserver=n}next(n){const{partialObserver:e}=this;if(e.next)try{e.next(n)}catch(i){te(i)}}error(n){const{partialObserver:e}=this;if(e.error)try{e.error(n)}catch(i){te(i)}else te(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(e){te(e)}}}class G extends F{constructor(n,e,i){let r;if(super(),Ft(n)||!n)r={next:null!=n?n:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let s;this&&b.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&q(n.next,s),error:n.error&&q(n.error,s),complete:n.complete&&q(n.complete,s)}):r=n}this.destination=new H(r)}}function te(t){b.useDeprecatedSynchronousErrorHandling?function M(t){b.useDeprecatedSynchronousErrorHandling&&I&&(I.errorThrown=!0,I.error=t)}(t):v(t)}function j(t,n){const{onStoppedNotification:e}=b;e&&p.setTimeout(()=>e(t,n))}const Q={closed:!0,next:g,error:function Z(t){throw t},complete:g},V="function"==typeof Symbol&&Symbol.observable||"@@observable";function ie(t){return t}let T=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new t;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function W(t){return t&&t instanceof F||function U(t){return t&&Ft(t.next)&&Ft(t.error)&&Ft(t.complete)}(t)&&f(t)}(e)?e:new G(e,i,r);return S(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=$(i))((r,s)=>{const o=new G({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[V](){return this}pipe(...e){return function ne(t){return 0===t.length?ie:1===t.length?t[0]:function(e){return t.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=$(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=n=>new t(n),t})();function $(t){var n;return null!==(n=null!=t?t:b.Promise)&&void 0!==n?n:Promise}const se=E(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let le=(()=>{class t extends T{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Me(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new se}next(e){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){S(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?_:(this.currentObservers=null,s.push(e),new h(()=>{this.currentObservers=null,c(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new T;return e.source=this,e}}return t.create=(n,e)=>new Me(n,e),t})();class Me extends le{constructor(n,e){super(),this.destination=n,this.source=e}next(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,n)}error(n){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,n)}complete(){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===e||e.call(n)}_subscribe(n){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(n))&&void 0!==i?i:_}}function Ee(t){return Ft(null==t?void 0:t.lift)}function ye(t){return n=>{if(Ee(n))return n.lift(function(e){try{return t(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,n,e,i,r){return new _e(t,n,e,i,r)}class _e extends F{constructor(n,e,i,r,s,o){super(n),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){n.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function de(t,n){return ye((e,i)=>{let r=0;e.subscribe(ue(i,s=>{i.next(t.call(n,s,r++))}))})}function Ye(t,n,e,i){return new(e||(e=Promise))(function(s,o){function a(d){try{u(i.next(d))}catch(R){o(R)}}function l(d){try{u(i.throw(d))}catch(R){o(R)}}function u(d){d.done?s(d.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(d.value).then(a,l)}u((i=i.apply(t,n||[])).next())})}function me(t){return this instanceof me?(this.v=t,this):new me(t)}function Ae(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(P){i[P]&&(r[P]=function(L){return new Promise(function(K,ce){s.push([P,L,K,ce])>1||a(P,L)})})}function a(P,L){try{!function l(P){P.value instanceof me?Promise.resolve(P.value.v).then(u,d):R(s[0][2],P)}(i[P](L))}catch(K){R(s[0][3],K)}}function u(P){a("next",P)}function d(P){a("throw",P)}function R(P,L){P(L),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ne(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=function y(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],i=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=t[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}const Re=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function dt(t){return Ft(null==t?void 0:t.then)}function pt(t){return Ft(t[V])}function nn(t){return Symbol.asyncIterator&&Ft(null==t?void 0:t[Symbol.asyncIterator])}function _n(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const jn=function rt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function It(t){return Ft(null==t?void 0:t[jn])}function Ci(t){return Ae(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:i,done:r}=yield me(e.read());if(r)return yield me(void 0);yield yield me(i)}}finally{e.releaseLock()}})}function ri(t){return Ft(null==t?void 0:t.getReader)}function Wn(t){if(t instanceof T)return t;if(null!=t){if(pt(t))return function Ko(t){return new T(n=>{const e=t[V]();if(Ft(e.subscribe))return e.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Re(t))return function ml(t){return new T(n=>{for(let e=0;e<t.length&&!n.closed;e++)n.next(t[e]);n.complete()})}(t);if(dt(t))return function yl(t){return new T(n=>{t.then(e=>{n.closed||(n.next(e),n.complete())},e=>n.error(e)).then(null,v)})}(t);if(nn(t))return AE(t);if(It(t))return function OO(t){return new T(n=>{for(const e of t)if(n.next(e),n.closed)return;n.complete()})}(t);if(ri(t))return function NO(t){return AE(Ci(t))}(t)}throw _n(t)}function AE(t){return new T(n=>{(function PO(t,n){var e,i,r,s;return Ye(this,void 0,void 0,function*(){try{for(e=Ne(t);!(i=yield e.next()).done;)if(n.next(i.value),n.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}n.complete()})})(t,n).catch(e=>n.error(e))})}function es(t,n,e,i=0,r=!1){const s=n.schedule(function(){e(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function mn(t,n,e=1/0){return Ft(n)?mn((i,r)=>de((s,o)=>n(i,s,r,o))(Wn(t(i,r))),e):("number"==typeof n&&(e=n),ye((i,r)=>function xO(t,n,e,i,r,s,o,a){const l=[];let u=0,d=0,R=!1;const P=()=>{R&&!l.length&&!u&&n.complete()},L=ce=>u<i?K(ce):l.push(ce),K=ce=>{s&&n.next(ce),u++;let he=!1;Wn(e(ce,d++)).subscribe(ue(n,Te=>{null==r||r(Te),s?L(Te):n.next(Te)},()=>{he=!0},void 0,()=>{if(he)try{for(u--;l.length&&u<i;){const Te=l.shift();o?es(n,o,()=>K(Te)):K(Te)}P()}catch(Te){n.error(Te)}}))};return t.subscribe(ue(n,L,()=>{R=!0,P()})),()=>{null==a||a()}}(i,r,t,e)))}function El(t=1/0){return mn(ie,t)}const ur=new T(t=>t.complete());function ME(t){return t&&Ft(t.schedule)}function Uf(t){return t[t.length-1]}function Bf(t){return Ft(Uf(t))?t.pop():void 0}function bl(t){return ME(Uf(t))?t.pop():void 0}function RE(t,n=0){return ye((e,i)=>{e.subscribe(ue(i,r=>es(i,t,()=>i.next(r),n),()=>es(i,t,()=>i.complete(),n),r=>es(i,t,()=>i.error(r),n)))})}function OE(t,n=0){return ye((e,i)=>{i.add(t.schedule(()=>e.subscribe(i),n))})}function NE(t,n){if(!t)throw new Error("Iterable cannot be null");return new T(e=>{es(e,n,()=>{const i=t[Symbol.asyncIterator]();es(e,n,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Fn(t,n){return n?function $O(t,n){if(null!=t){if(pt(t))return function LO(t,n){return Wn(t).pipe(OE(n),RE(n))}(t,n);if(Re(t))return function BO(t,n){return new T(e=>{let i=0;return n.schedule(function(){i===t.length?e.complete():(e.next(t[i++]),e.closed||this.schedule())})})}(t,n);if(dt(t))return function UO(t,n){return Wn(t).pipe(OE(n),RE(n))}(t,n);if(nn(t))return NE(t,n);if(It(t))return function VO(t,n){return new T(e=>{let i;return es(e,n,()=>{i=t[jn](),es(e,n,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>Ft(null==i?void 0:i.return)&&i.return()})}(t,n);if(ri(t))return function HO(t,n){return NE(Ci(t),n)}(t,n)}throw _n(t)}(t,n):Wn(t)}function hn(...t){const n=bl(t),e=function FO(t,n){return"number"==typeof Uf(t)?t.pop():n}(t,1/0),i=t;return i.length?1===i.length?Wn(i[0]):El(e)(Fn(i,n)):ur}function In(t){return t<=0?()=>ur:ye((n,e)=>{let i=0;n.subscribe(ue(e,r=>{++i<=t&&(e.next(r),t<=i&&e.complete())}))})}function Eu(t={}){const{connector:n=(()=>new le),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o=null,a=null,l=null,u=0,d=!1,R=!1;const P=()=>{null==a||a.unsubscribe(),a=null},L=()=>{P(),o=l=null,d=R=!1},K=()=>{const ce=o;L(),null==ce||ce.unsubscribe()};return ye((ce,he)=>{u++,!R&&!d&&P();const Te=l=null!=l?l:n();he.add(()=>{u--,0===u&&!R&&!d&&(a=Vf(K,r))}),Te.subscribe(he),o||(o=new G({next:ge=>Te.next(ge),error:ge=>{R=!0,P(),a=Vf(L,e,ge),Te.error(ge)},complete:()=>{d=!0,P(),a=Vf(L,i),Te.complete()}}),Fn(ce).subscribe(o))})(s)}}function Vf(t,n,...e){return!0===n?(t(),null):!1===n?null:n(...e).pipe(In(1)).subscribe(()=>t())}function Jt(t){for(let n in t)if(t[n]===Jt)return n;throw Error("Could not find renamed property on target object.")}function Hf(t,n){for(const e in n)n.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=n[e])}function Qt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Qt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const e=n.indexOf("\n");return-1===e?n:n.substring(0,e)}function $f(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const GO=Jt({__forward_ref__:Jt});function Yt(t){return t.__forward_ref__=Yt,t.toString=function(){return Qt(this())},t}function At(t){return PE(t)?t():t}function PE(t){return"function"==typeof t&&t.hasOwnProperty(GO)&&t.__forward_ref__===Yt}class Xe extends Error{constructor(n,e){super(function Gf(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}(n,e)),this.code=n}}function bt(t){return"string"==typeof t?t:null==t?"":String(t)}function di(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():bt(t)}function bu(t,n){const e=n?` in ${n}`:"";throw new Xe(-201,`No provider for ${di(t)} found${e}`)}function Ai(t,n){null==t&&function ln(t,n,e,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${e} ${i} ${n} <=Actual]`))}(n,t,null,"!=")}function Ve(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Tt(t){return{providers:t.providers||[],imports:t.imports||[]}}function jf(t){return xE(t,vu)||xE(t,FE)}function xE(t,n){return t.hasOwnProperty(n)?t[n]:null}function kE(t){return t&&(t.hasOwnProperty(Wf)||t.hasOwnProperty(KO))?t[Wf]:null}const vu=Jt({\u0275prov:Jt}),Wf=Jt({\u0275inj:Jt}),FE=Jt({ngInjectableDef:Jt}),KO=Jt({ngInjectorDef:Jt});var mt=(()=>((mt=mt||{})[mt.Default=0]="Default",mt[mt.Host=1]="Host",mt[mt.Self=2]="Self",mt[mt.SkipSelf=4]="SkipSelf",mt[mt.Optional=8]="Optional",mt))();let zf;function bs(t){const n=zf;return zf=t,n}function LE(t,n,e){const i=jf(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&mt.Optional?null:void 0!==n?n:void bu(Qt(t),"Injector")}function vs(t){return{toString:t}.toString()}var dr=(()=>((dr=dr||{})[dr.OnPush=0]="OnPush",dr[dr.Default=1]="Default",dr))(),hr=(()=>{return(t=hr||(hr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",hr;var t})();const ZO="undefined"!=typeof globalThis&&globalThis,JO="undefined"!=typeof window&&window,eN="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Xt=ZO||"undefined"!=typeof global&&global||JO||eN,Xo={},en=[],Cu=Jt({\u0275cmp:Jt}),qf=Jt({\u0275dir:Jt}),Yf=Jt({\u0275pipe:Jt}),UE=Jt({\u0275mod:Jt}),ns=Jt({\u0275fac:Jt}),vl=Jt({__NG_ELEMENT_ID__:Jt});let tN=0;function Ht(t){return vs(()=>{const e={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===dr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||en,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||hr.Emulated,id:"c",styles:t.styles||en,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,s=t.features,o=t.pipes;return i.id+=tN++,i.inputs=$E(t.inputs,e),i.outputs=$E(t.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(BE):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(VE):null,i})}function BE(t){return si(t)||function Cs(t){return t[qf]||null}(t)}function VE(t){return function no(t){return t[Yf]||null}(t)}const HE={};function Dt(t){return vs(()=>{const n={type:t.type,bootstrap:t.bootstrap||en,declarations:t.declarations||en,imports:t.imports||en,exports:t.exports||en,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(HE[t.id]=t.type),n})}function $E(t,n){if(null==t)return Xo;const e={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,n&&(n[r]=s)}return e}const Ue=Ht;function hi(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function si(t){return t[Cu]||null}function ji(t,n){const e=t[UE]||null;if(!e&&!0===n)throw new Error(`Type ${Qt(t)} does not have '\u0275mod' property.`);return e}function Rr(t){return Array.isArray(t)&&"object"==typeof t[1]}function pr(t){return Array.isArray(t)&&!0===t[1]}function Xf(t){return 0!=(8&t.flags)}function Du(t){return 2==(2&t.flags)}function Iu(t){return 1==(1&t.flags)}function gr(t){return null!==t.template}function aN(t){return 0!=(512&t[2])}function oo(t,n){return t.hasOwnProperty(ns)?t[ns]:null}class uN{constructor(n,e,i){this.previousValue=n,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function An(){return jE}function jE(t){return t.type.prototype.ngOnChanges&&(t.setInput=hN),dN}function dN(){const t=zE(this),n=null==t?void 0:t.current;if(n){const e=t.previous;if(e===Xo)t.previous=n;else for(let i in n)e[i]=n[i];t.current=null,this.ngOnChanges(n)}}function hN(t,n,e,i){const r=zE(t)||function fN(t,n){return t[WE]=n}(t,{previous:Xo,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[e],l=o[a];s[a]=new uN(l&&l.currentValue,n,o===Xo),t[i]=n}An.ngInherit=!0;const WE="__ngSimpleChanges__";function zE(t){return t[WE]||null}let np;function yn(t){return!!t.listen}const qE={createRenderer:(t,n)=>function ip(){return void 0!==np?np:"undefined"!=typeof document?document:void 0}()};function Mn(t){for(;Array.isArray(t);)t=t[0];return t}function Au(t,n){return Mn(n[t])}function qi(t,n){return Mn(n[t.index])}function rp(t,n){return t.data[n]}function na(t,n){return t[n]}function Ri(t,n){const e=n[t];return Rr(e)?e:e[0]}function YE(t){return 4==(4&t[2])}function sp(t){return 128==(128&t[2])}function Ts(t,n){return null==n?null:t[n]}function QE(t){t[18]=0}function op(t,n){t[5]+=n;let e=t,i=t[3];for(;null!==i&&(1===n&&1===e[5]||-1===n&&0===e[5]);)i[5]+=n,e=i,i=i[3]}const yt={lFrame:ib(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function KE(){return yt.bindingsEnabled}function ke(){return yt.lFrame.lView}function $t(){return yt.lFrame.tView}function zt(t){return yt.lFrame.contextLView=t,t[8]}function Ln(){let t=XE();for(;null!==t&&64===t.type;)t=t.parent;return t}function XE(){return yt.lFrame.currentTNode}function Or(t,n){const e=yt.lFrame;e.currentTNode=t,e.isParent=n}function ap(){return yt.lFrame.isParent}function lp(){yt.lFrame.isParent=!1}function Mu(){return yt.isInCheckNoChangesMode}function Ru(t){yt.isInCheckNoChangesMode=t}function fi(){const t=yt.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}function ia(){return yt.lFrame.bindingIndex++}function rs(t){const n=yt.lFrame,e=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,e}function RN(t,n){const e=yt.lFrame;e.bindingIndex=e.bindingRootIndex=t,cp(n)}function cp(t){yt.lFrame.currentDirectiveIndex=t}function up(t){const n=yt.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}function eb(){return yt.lFrame.currentQueryIndex}function dp(t){yt.lFrame.currentQueryIndex=t}function NN(t){const n=t[1];return 2===n.type?n.declTNode:1===n.type?t[6]:null}function tb(t,n,e){if(e&mt.SkipSelf){let r=n,s=t;for(;!(r=r.parent,null!==r||e&mt.Host||(r=NN(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;n=r,t=s}const i=yt.lFrame=nb();return i.currentTNode=n,i.lView=t,!0}function Ou(t){const n=nb(),e=t[1];yt.lFrame=n,n.currentTNode=e.firstChild,n.lView=t,n.tView=e,n.contextLView=t,n.bindingIndex=e.bindingStartIndex,n.inI18n=!1}function nb(){const t=yt.lFrame,n=null===t?null:t.child;return null===n?ib(t):n}function ib(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function rb(){const t=yt.lFrame;return yt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const sb=rb;function Nu(){const t=rb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pi(){return yt.lFrame.selectedIndex}function Ss(t){yt.lFrame.selectedIndex=t}function En(){const t=yt.lFrame;return rp(t.tView,t.selectedIndex)}function Pu(t,n){for(let e=n.directiveStart,i=n.directiveEnd;e<i;e++){const s=t.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-e,o),a&&((t.contentHooks||(t.contentHooks=[])).push(e,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(e,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-e,l),u&&((t.viewHooks||(t.viewHooks=[])).push(e,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(e,u)),null!=d&&(t.destroyHooks||(t.destroyHooks=[])).push(e,d)}}function xu(t,n,e){lb(t,n,3,e)}function ku(t,n,e,i){(3&t[2])===e&&lb(t,n,e,i)}function hp(t,n){let e=t[2];(3&e)===n&&(e&=2047,e+=1,t[2]=e)}function lb(t,n,e,i){const s=null!=i?i:-1,o=n.length-1;let a=0;for(let l=void 0!==i?65535&t[18]:0;l<o;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=i&&a>=i)break}else n[l]<0&&(t[18]+=65536),(a<s||-1==s)&&(BN(t,e,n,l),t[18]=(4294901760&t[18])+l+2),l++}function BN(t,n,e,i){const r=e[i]<0,s=e[i+1],a=t[r?-e[i]:e[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===n){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Dl{constructor(n,e,i){this.factory=n,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Fu(t,n,e){const i=yn(t);let r=0;for(;r<e.length;){const s=e[r];if("number"==typeof s){if(0!==s)break;r++;const o=e[r++],a=e[r++],l=e[r++];i?t.setAttribute(n,a,l,o):n.setAttributeNS(o,a,l)}else{const o=s,a=e[++r];pp(o)?i&&t.setProperty(n,o,a):i?t.setAttribute(n,o,a):n.setAttribute(o,a),r++}}return r}function cb(t){return 3===t||4===t||6===t}function pp(t){return 64===t.charCodeAt(0)}function Lu(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let e=-1;for(let i=0;i<n.length;i++){const r=n[i];"number"==typeof r?e=r:0===e||ub(t,e,r,null,-1===e||2===e?n[++i]:null)}}return t}function ub(t,n,e,i,r){let s=0,o=t.length;if(-1===n)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===n){o=-1;break}if(a>n){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,n),s=o+1),t.splice(s++,0,e),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function db(t){return-1!==t}function ra(t){return 32767&t}function sa(t,n){let e=function jN(t){return t>>16}(t),i=n;for(;e>0;)i=i[15],e--;return i}let gp=!0;function Uu(t){const n=gp;return gp=t,n}let WN=0;function Al(t,n){const e=mp(t,n);if(-1!==e)return e;const i=n[1];i.firstCreatePass&&(t.injectorIndex=n.length,_p(i.data,t),_p(n,null),_p(i.blueprint,null));const r=Bu(t,n),s=t.injectorIndex;if(db(r)){const o=ra(r),a=sa(r,n),l=a[1].data;for(let u=0;u<8;u++)n[s+u]=a[o+u]|l[o+u]}return n[s+8]=r,s}function _p(t,n){t.push(0,0,0,0,0,0,0,0,n)}function mp(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Bu(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,i=null,r=n;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Vu(t,n,e){!function zN(t,n,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(vl)&&(i=e[vl]),null==i&&(i=e[vl]=WN++);const r=255&i;n.data[t+(r>>5)]|=1<<r}(t,n,e)}function pb(t,n,e){if(e&mt.Optional)return t;bu(n,"NodeInjector")}function gb(t,n,e,i){if(e&mt.Optional&&void 0===i&&(i=null),0==(e&(mt.Self|mt.Host))){const r=t[9],s=bs(void 0);try{return r?r.get(n,i,e&mt.Optional):LE(n,i,e&mt.Optional)}finally{bs(s)}}return pb(i,n,e)}function _b(t,n,e,i=mt.Default,r){if(null!==t){const s=function KN(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(vl)?t[vl]:void 0;return"number"==typeof n?n>=0?255&n:YN:n}(e);if("function"==typeof s){if(!tb(n,t,i))return i&mt.Host?pb(r,e,i):gb(n,e,i,r);try{const o=s(i);if(null!=o||i&mt.Optional)return o;bu(e)}finally{sb()}}else if("number"==typeof s){let o=null,a=mp(t,n),l=-1,u=i&mt.Host?n[16][6]:null;for((-1===a||i&mt.SkipSelf)&&(l=-1===a?Bu(t,n):n[a+8],-1!==l&&Eb(i,!1)?(o=n[1],a=ra(l),n=sa(l,n)):a=-1);-1!==a;){const d=n[1];if(yb(s,a,d.data)){const R=QN(a,n,e,o,i,u);if(R!==mb)return R}l=n[a+8],-1!==l&&Eb(i,n[1].data[a+8]===u)&&yb(s,a,n)?(o=d,a=ra(l),n=sa(l,n)):a=-1}}}return gb(n,e,i,r)}const mb={};function YN(){return new oa(Ln(),ke())}function QN(t,n,e,i,r,s){const o=n[1],a=o.data[t+8],d=Hu(a,o,e,null==i?Du(a)&&gp:i!=o&&0!=(3&a.type),r&mt.Host&&s===a);return null!==d?Ml(n,o,d,a):mb}function Hu(t,n,e,i,r){const s=t.providerIndexes,o=n.data,a=1048575&s,l=t.directiveStart,d=s>>20,P=r?a+d:t.directiveEnd;for(let L=i?a:a+d;L<P;L++){const K=o[L];if(L<l&&e===K||L>=l&&K.type===e)return L}if(r){const L=o[l];if(L&&gr(L)&&L.type===e)return l}return null}function Ml(t,n,e,i){let r=t[e];const s=n.data;if(function VN(t){return t instanceof Dl}(r)){const o=r;o.resolving&&function jO(t,n){const e=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new Xe(-200,`Circular dependency in DI detected for ${t}${e}`)}(di(s[e]));const a=Uu(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?bs(o.injectImpl):null;tb(t,i,mt.Default);try{r=t[e]=o.factory(void 0,s,t,i),n.firstCreatePass&&e>=i.directiveStart&&function UN(t,n,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=n.type.prototype;if(i){const o=jE(n);(e.preOrderHooks||(e.preOrderHooks=[])).push(t,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,o)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-t,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t,s))}(e,s[e],n)}finally{null!==l&&bs(l),Uu(a),o.resolving=!1,sb()}}return r}function yb(t,n,e){return!!(e[n+(t>>5)]&1<<t)}function Eb(t,n){return!(t&mt.Self||t&mt.Host&&n)}class oa{constructor(n,e){this._tNode=n,this._lView=e}get(n,e,i){return _b(this._tNode,this._lView,n,i,e)}}function Un(t){return vs(()=>{const n=t.prototype.constructor,e=n[ns]||yp(n),i=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){const s=r[ns]||yp(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function yp(t){return PE(t)?()=>{const n=yp(At(t));return n&&n()}:oo(t)}function Ds(t){return function qN(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const e=t.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(cb(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===n)return e[r+1];r+=2}}}return null}(Ln(),t)}const la="__parameters__";function ua(t,n,e){return vs(()=>{const i=function Ep(t){return function(...e){if(t){const i=t(...e);for(const r in i)this[r]=i[r]}}}(n);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,u,d){const R=l.hasOwnProperty(la)?l[la]:Object.defineProperty(l,la,{value:[]})[la];for(;R.length<=d;)R.push(null);return(R[d]=R[d]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}class He{constructor(n,e){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Ve({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ZN=new He("AnalyzeForEntryComponents");function Yi(t,n){void 0===n&&(n=t);for(let e=0;e<t.length;e++){let i=t[e];Array.isArray(i)?(n===t&&(n=t.slice(0,e)),Yi(i,n)):n!==t&&n.push(i)}return n}function Nr(t,n){t.forEach(e=>Array.isArray(e)?Nr(e,n):n(e))}function vb(t,n,e){n>=t.length?t.push(e):t.splice(n,0,e)}function $u(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Nl(t,n){const e=[];for(let i=0;i<t;i++)e.push(n);return e}function Oi(t,n,e){let i=da(t,n);return i>=0?t[1|i]=e:(i=~i,function tP(t,n,e,i){let r=t.length;if(r==n)t.push(e,i);else if(1===r)t.push(i,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>n;)t[r]=t[r-2],r--;t[n]=e,t[n+1]=i}}(t,i,n,e)),i}function vp(t,n){const e=da(t,n);if(e>=0)return t[1|e]}function da(t,n){return function Sb(t,n,e){let i=0,r=t.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=t[s<<e];if(n===o)return s<<e;o>n?r=s:i=s+1}return~(r<<e)}(t,n,1)}const Pl={},Tp="__NG_DI_FLAG__",ju="ngTempTokenPath",lP=/\n/gm,Db="__source",uP=Jt({provide:String,useValue:Jt});let xl;function Ib(t){const n=xl;return xl=t,n}function dP(t,n=mt.Default){if(void 0===xl)throw new Xe(203,"");return null===xl?LE(t,void 0,n):xl.get(t,n&mt.Optional?null:void 0,n)}function ve(t,n=mt.Default){return(function XO(){return zf}()||dP)(At(t),n)}const Wu=ve;function Sp(t){const n=[];for(let e=0;e<t.length;e++){const i=At(t[e]);if(Array.isArray(i)){if(0===i.length)throw new Xe(900,"");let r,s=mt.Default;for(let o=0;o<i.length;o++){const a=i[o],l=hP(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}n.push(ve(r,s))}else n.push(ve(i))}return n}function kl(t,n){return t[Tp]=n,t.prototype[Tp]=n,t}function hP(t){return t[Tp]}const zu=kl(ua("Inject",t=>({token:t})),-1),Qi=kl(ua("Optional"),8),ao=kl(ua("SkipSelf"),4);let Yu;function fa(t){var n;return(null===(n=function Dp(){if(void 0===Yu&&(Yu=null,Xt.trustedTypes))try{Yu=Xt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Yu}())||void 0===n?void 0:n.createHTML(t))||t}class lo{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wP extends lo{getTypeName(){return"HTML"}}class DP extends lo{getTypeName(){return"Style"}}class IP extends lo{getTypeName(){return"Script"}}class AP extends lo{getTypeName(){return"URL"}}class MP extends lo{getTypeName(){return"ResourceURL"}}function Ni(t){return t instanceof lo?t.changingThisBreaksApplicationSecurity:t}function Pr(t,n){const e=Fb(t);if(null!=e&&e!==n){if("ResourceURL"===e&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===n}function Fb(t){return t instanceof lo&&t.getTypeName()||null}class kP{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const e=(new window.DOMParser).parseFromString(fa(n),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(n):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class FP{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(n){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=fa(n),e;const i=this.inertDocument.createElement("body");return i.innerHTML=fa(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(n){const e=n.attributes;for(let r=e.length-1;0<r;r--){const o=e.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&n.removeAttribute(o)}let i=n.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const UP=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,BP=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ll(t){return(t=String(t)).match(UP)||t.match(BP)?t:"unsafe:"+t}function Ub(t){return(t=String(t)).split(",").map(n=>Ll(n.trim())).join(", ")}function xr(t){const n={};for(const e of t.split(","))n[e]=!0;return n}function Ul(...t){const n={};for(const e of t)for(const i in e)e.hasOwnProperty(i)&&(n[i]=!0);return n}const Bb=xr("area,br,col,hr,img,wbr"),Vb=xr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Hb=xr("rp,rt"),Ap=Ul(Bb,Ul(Vb,xr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ul(Hb,xr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ul(Hb,Vb)),Mp=xr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Rp=xr("srcset"),$b=Ul(Mp,Rp,xr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),VP=xr("script,style,template");class HP{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let e=n.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(n){const e=n.nodeName.toLowerCase();if(!Ap.hasOwnProperty(e))return this.sanitizedSomething=!0,!VP.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=n.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!$b.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;Mp[a]&&(l=Ll(l)),Rp[a]&&(l=Ub(l)),this.buf.push(" ",o,'="',Gb(l),'"')}return this.buf.push(">"),!0}endElement(n){const e=n.nodeName.toLowerCase();Ap.hasOwnProperty(e)&&!Bb.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(n){this.buf.push(Gb(n))}checkClobberedElement(n,e){if(e&&(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return e}}const $P=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,GP=/([^\#-~ |!])/g;function Gb(t){return t.replace(/&/g,"&amp;").replace($P,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(GP,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ku;function jb(t,n){let e=null;try{Ku=Ku||function Lb(t){const n=new FP(t);return function LP(){try{return!!(new window.DOMParser).parseFromString(fa(""),"text/html")}catch(t){return!1}}()?new kP(n):n}(t);let i=n?String(n):"";e=Ku.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Ku.getInertBodyElement(i)}while(i!==s);return fa((new HP).sanitizeChildren(Op(e)||e))}finally{if(e){const i=Op(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Op(t){return"content"in t&&function jP(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var qt=(()=>((qt=qt||{})[qt.NONE=0]="NONE",qt[qt.HTML=1]="HTML",qt[qt.STYLE=2]="STYLE",qt[qt.SCRIPT=3]="SCRIPT",qt[qt.URL=4]="URL",qt[qt.RESOURCE_URL=5]="RESOURCE_URL",qt))();const qb="__ngContext__";function ai(t,n){t[qb]=n}function xp(t){const n=function Vl(t){return t[qb]||null}(t);return n?Array.isArray(n)?n:n.lView:null}function Fp(t){return t.ngOriginalError}function l1(t,...n){t.error(...n)}class Is{constructor(){this._console=console}handleError(n){const e=this._findOriginalError(n),i=function a1(t){return t&&t.ngErrorLogger||l1}(n);i(this._console,"ERROR",n),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(n){let e=n&&Fp(n);for(;e&&Fp(e);)e=Fp(e);return e||null}}const y1=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Xt))();function kr(t){return t instanceof Function?t():t}var Pi=(()=>((Pi=Pi||{})[Pi.Important=1]="Important",Pi[Pi.DashCase=2]="DashCase",Pi))();function Up(t,n){return undefined(t,n)}function Hl(t){const n=t[3];return pr(n)?n[3]:n}function Bp(t){return nv(t[13])}function Vp(t){return nv(t[4])}function nv(t){for(;null!==t&&!pr(t);)t=t[4];return t}function ga(t,n,e,i,r){if(null!=i){let s,o=!1;pr(i)?s=i:Rr(i)&&(o=!0,i=i[0]);const a=Mn(i);0===t&&null!==e?null==r?lv(n,e,a):co(n,e,a,r||null,!0):1===t&&null!==e?co(n,e,a,r||null,!0):2===t?function gv(t,n,e){const i=Xu(t,n);i&&function N1(t,n,e,i){yn(t)?t.removeChild(n,e,i):n.removeChild(e)}(t,i,n,e)}(n,a,o):3===t&&n.destroyNode(a),null!=s&&function k1(t,n,e,i,r){const s=e[7];s!==Mn(e)&&ga(n,t,i,s,r);for(let a=10;a<e.length;a++){const l=e[a];$l(l[1],l,t,n,i,s)}}(n,t,s,e,r)}}function $p(t,n,e){if(yn(t))return t.createElement(n,e);{const i=null!==e?function mN(t){const n=t.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?t.createElement(n):t.createElementNS(i,n)}}function rv(t,n){const e=t[9],i=e.indexOf(n),r=n[3];1024&n[2]&&(n[2]&=-1025,op(r,-1)),e.splice(i,1)}function Gp(t,n){if(t.length<=10)return;const e=10+n,i=t[e];if(i){const r=i[17];null!==r&&r!==t&&rv(r,i),n>0&&(t[e-1][4]=i[4]);const s=$u(t,10+n);!function S1(t,n){$l(t,n,n[11],2,null,null),n[0]=null,n[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function sv(t,n){if(!(256&n[2])){const e=n[11];yn(e)&&e.destroyNode&&$l(t,n,e,3,null,null),function I1(t){let n=t[13];if(!n)return jp(t[1],t);for(;n;){let e=null;if(Rr(n))e=n[13];else{const i=n[10];i&&(e=i)}if(!e){for(;n&&!n[4]&&n!==t;)Rr(n)&&jp(n[1],n),n=n[3];null===n&&(n=t),Rr(n)&&jp(n[1],n),e=n&&n[4]}n=e}}(n)}}function jp(t,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function O1(t,n){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let i=0;i<e.length;i+=2){const r=n[e[i]];if(!(r instanceof Dl)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(t,n),function R1(t,n){const e=t.cleanup,i=n[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+1],a="function"==typeof o?o(n):Mn(n[o]),l=i[r=e[s+2]],u=e[s+3];"boolean"==typeof u?a.removeEventListener(e[s],l,u):u>=0?i[r=u]():i[r=-u].unsubscribe(),s+=2}else{const o=i[r=e[s+1]];e[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();n[7]=null}}(t,n),1===n[1].type&&yn(n[11])&&n[11].destroy();const e=n[17];if(null!==e&&pr(n[3])){e!==n[3]&&rv(e,n);const i=n[19];null!==i&&i.detachView(t)}}}function ov(t,n,e){return function av(t,n,e){let i=n;for(;null!==i&&40&i.type;)i=(n=i).parent;if(null===i)return e[0];if(2&i.flags){const r=t.data[i.directiveStart].encapsulation;if(r===hr.None||r===hr.Emulated)return null}return qi(i,e)}(t,n.parent,e)}function co(t,n,e,i,r){yn(t)?t.insertBefore(n,e,i,r):n.insertBefore(e,i,r)}function lv(t,n,e){yn(t)?t.appendChild(n,e):n.appendChild(e)}function cv(t,n,e,i,r){null!==i?co(t,n,e,i,r):lv(t,n,e)}function Xu(t,n){return yn(t)?t.parentNode(n):n.parentNode}function uv(t,n,e){return hv(t,n,e)}let hv=function dv(t,n,e){return 40&t.type?qi(t,e):null};function Zu(t,n,e,i){const r=ov(t,i,n),s=n[11],a=uv(i.parent||n[6],i,n);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)cv(s,r,e[l],a,!1);else cv(s,r,e,a,!1)}function Ju(t,n){if(null!==n){const e=n.type;if(3&e)return qi(n,t);if(4&e)return zp(-1,t[n.index]);if(8&e){const i=n.child;if(null!==i)return Ju(t,i);{const r=t[n.index];return pr(r)?zp(-1,r):Mn(r)}}if(32&e)return Up(n,t)()||Mn(t[n.index]);{const i=pv(t,n);return null!==i?Array.isArray(i)?i[0]:Ju(Hl(t[16]),i):Ju(t,n.next)}}return null}function pv(t,n){return null!==n?t[16][6].projection[n.projection]:null}function zp(t,n){const e=10+t+1;if(e<n.length){const i=n[e],r=i[1].firstChild;if(null!==r)return Ju(i,r)}return n[7]}function qp(t,n,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===n&&(a&&ai(Mn(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)qp(t,n,e.child,i,r,s,!1),ga(n,t,r,a,s);else if(32&l){const u=Up(e,i);let d;for(;d=u();)ga(n,t,r,d,s);ga(n,t,r,a,s)}else 16&l?_v(t,n,i,e,r,s):ga(n,t,r,a,s);e=o?e.projectionNext:e.next}}function $l(t,n,e,i,r,s){qp(e,i,t.firstChild,n,r,s,!1)}function _v(t,n,e,i,r,s){const o=e[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)ga(n,t,r,l[u],s);else qp(t,n,l,o[3],r,s,!0)}function mv(t,n,e){yn(t)?t.setAttribute(n,"style",e):n.style.cssText=e}function Yp(t,n,e){yn(t)?""===e?t.removeAttribute(n,"class"):t.setAttribute(n,"class",e):n.className=e}function yv(t,n,e){let i=t.length;for(;;){const r=t.indexOf(n,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const s=n.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}e=r+1}}const Ev="ng-template";function L1(t,n,e){let i=0;for(;i<t.length;){let r=t[i++];if(e&&"class"===r){if(r=t[i],-1!==yv(r.toLowerCase(),n,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===n)return!0;return!1}}return!1}function bv(t){return 4===t.type&&t.value!==Ev}function U1(t,n,e){return n===(4!==t.type||e?t.value:Ev)}function B1(t,n,e){let i=4;const r=t.attrs||[],s=function $1(t){for(let n=0;n<t.length;n++)if(cb(t[n]))return n;return t.length}(r);let o=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!U1(t,l,e)||""===l&&1===n.length){if(_r(i))return!1;o=!0}}else{const u=8&i?l:n[++a];if(8&i&&null!==t.attrs){if(!L1(t.attrs,u,e)){if(_r(i))return!1;o=!0}continue}const R=V1(8&i?"class":l,r,bv(t),e);if(-1===R){if(_r(i))return!1;o=!0;continue}if(""!==u){let P;P=R>s?"":r[R+1].toLowerCase();const L=8&i?P:null;if(L&&-1!==yv(L,u,0)||2&i&&u!==P){if(_r(i))return!1;o=!0}}}}else{if(!o&&!_r(i)&&!_r(l))return!1;if(o&&_r(l))continue;o=!1,i=l|1&i}}return _r(i)||o}function _r(t){return 0==(1&t)}function V1(t,n,e,i){if(null===n)return-1;let r=0;if(i||!e){let s=!1;for(;r<n.length;){const o=n[r];if(o===t)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=n[++r];for(;"string"==typeof a;)a=n[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function G1(t,n){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const i=t[e];if("number"==typeof i)return-1;if(i===n)return e;e++}return-1}(n,t)}function vv(t,n,e=!1){for(let i=0;i<n.length;i++)if(B1(t,n[i],e))return!0;return!1}function j1(t,n){e:for(let e=0;e<n.length;e++){const i=n[e];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function Cv(t,n){return t?":not("+n.trim()+")":n}function W1(t){let n=t[0],e=1,i=2,r="",s=!1;for(;e<t.length;){let o=t[e];if("string"==typeof o)if(2&i){const a=t[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!_r(o)&&(n+=Cv(s,r),r=""),i=o,s=s||!_r(i);e++}return""!==r&&(n+=Cv(s,r)),n}const vt={};function Oe(t){Tv($t(),ke(),pi()+t,Mu())}function Tv(t,n,e,i){if(!i)if(3==(3&n[2])){const s=t.preOrderCheckHooks;null!==s&&xu(n,s,e)}else{const s=t.preOrderHooks;null!==s&&ku(n,s,0,e)}Ss(e)}function ed(t,n){return t<<17|n<<2}function mr(t){return t>>17&32767}function Qp(t){return 2|t}function ss(t){return(131068&t)>>2}function Kp(t,n){return-131069&t|n<<2}function Xp(t){return 1|t}function xv(t,n){const e=t.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const o=t.data[s];dp(r),o.contentQueries(2,n[s],s)}}}function Gl(t,n,e,i,r,s,o,a,l,u){const d=n.blueprint.slice();return d[0]=r,d[2]=140|i,QE(d),d[3]=d[15]=t,d[8]=e,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=l||t&&t[12]||null,d[9]=u||t&&t[9]||null,d[6]=s,d[16]=2==n.type?t[16]:d,d}function _a(t,n,e,i,r){let s=t.data[n];if(null===s)s=function og(t,n,e,i,r){const s=XE(),o=ap(),l=t.data[n]=function cx(t,n,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,n,i,r);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(t,n,e,i,r),function MN(){return yt.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function wl(){const t=yt.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Or(s,!0),s}function ma(t,n,e,i){if(0===e)return-1;const r=n.length;for(let s=0;s<e;s++)n.push(i),t.blueprint.push(i),t.data.push(null);return r}function jl(t,n,e){Ou(n);try{const i=t.viewQuery;null!==i&&gg(1,i,e);const r=t.template;null!==r&&kv(t,n,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&xv(t,n),t.staticViewQueries&&gg(2,t.viewQuery,e);const s=t.components;null!==s&&function ox(t,n){for(let e=0;e<n.length;e++)Ix(t,n[e])}(n,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{n[2]&=-5,Nu()}}function ya(t,n,e,i){const r=n[2];if(256==(256&r))return;Ou(n);const s=Mu();try{QE(n),function ZE(t){return yt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&kv(t,n,e,2,i);const o=3==(3&r);if(!s)if(o){const u=t.preOrderCheckHooks;null!==u&&xu(n,u,null)}else{const u=t.preOrderHooks;null!==u&&ku(n,u,0,null),hp(n,0)}if(function wx(t){for(let n=Bp(t);null!==n;n=Vp(n)){if(!n[2])continue;const e=n[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(1024&r[2])&&op(s,1),r[2]|=1024}}}(n),function Sx(t){for(let n=Bp(t);null!==n;n=Vp(n))for(let e=10;e<n.length;e++){const i=n[e],r=i[1];sp(i)&&ya(r,i,r.template,i[8])}}(n),null!==t.contentQueries&&xv(t,n),!s)if(o){const u=t.contentCheckHooks;null!==u&&xu(n,u)}else{const u=t.contentHooks;null!==u&&ku(n,u,1),hp(n,1)}!function rx(t,n){const e=t.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Ss(~r);else{const s=r,o=e[++i],a=e[++i];RN(o,s),a(2,n[s])}}}finally{Ss(-1)}}(t,n);const a=t.components;null!==a&&function sx(t,n){for(let e=0;e<n.length;e++)Dx(t,n[e])}(n,a);const l=t.viewQuery;if(null!==l&&gg(2,l,i),!s)if(o){const u=t.viewCheckHooks;null!==u&&xu(n,u)}else{const u=t.viewHooks;null!==u&&ku(n,u,2),hp(n,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(n[2]&=-73),1024&n[2]&&(n[2]&=-1025,op(n[3],-1))}finally{Nu()}}function ax(t,n,e,i){const r=n[10],s=!Mu(),o=YE(n);try{s&&!o&&r.begin&&r.begin(),o&&jl(t,n,i),ya(t,n,e,i)}finally{s&&!o&&r.end&&r.end()}}function kv(t,n,e,i,r){const s=pi(),o=2&i;try{Ss(-1),o&&n.length>20&&Tv(t,n,20,Mu()),e(i,r)}finally{Ss(s)}}function Fv(t,n,e){if(Xf(n)){const r=n.directiveEnd;for(let s=n.directiveStart;s<r;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function ag(t,n,e){!KE()||(function _x(t,n,e,i){const r=e.directiveStart,s=e.directiveEnd;t.firstCreatePass||Al(e,n),ai(i,n);const o=e.initialInputs;for(let a=r;a<s;a++){const l=t.data[a],u=gr(l);u&&vx(n,e,l);const d=Ml(n,t,a,e);ai(d,n),null!==o&&Cx(0,a-r,d,l,0,o),u&&(Ri(e.index,n)[8]=d)}}(t,n,e,qi(e,n)),128==(128&e.flags)&&function mx(t,n,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,a=function ON(){return yt.lFrame.currentDirectiveIndex}();try{Ss(o);for(let l=i;l<r;l++){const u=t.data[l],d=n[l];cp(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&jv(u,d)}}finally{Ss(-1),cp(a)}}(t,n,e))}function lg(t,n,e=qi){const i=n.localNames;if(null!==i){let r=n.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(n,t):t[o];t[r++]=a}}}function Lv(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=id(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):n}function id(t,n,e,i,r,s,o,a,l,u){const d=20+i,R=d+r,P=function lx(t,n){const e=[];for(let i=0;i<n;i++)e.push(i<t?null:vt);return e}(d,R),L="function"==typeof u?u():u;return P[1]={type:t,blueprint:P,template:e,queries:null,viewQuery:a,declTNode:n,data:P.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:L,incompleteFirstPass:!1}}function Vv(t,n,e,i){const r=Kv(n);null===e?r.push(i):(r.push(e),t.firstCreatePass&&Xv(t).push(i,r.length-1))}function Hv(t,n,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(n,r):e[i]=[n,r]}return e}function xi(t,n,e,i,r,s,o,a){const l=qi(n,e);let d,u=n.inputs;!a&&null!=u&&(d=u[i])?(eC(t,e,d,i,r),Du(n)&&function hx(t,n){const e=Ri(n,t);16&e[2]||(e[2]|=64)}(e,n.index)):3&n.type&&(i=function dx(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=o?o(r,n.value||"",i):r,yn(s)?s.setProperty(l,i,r):pp(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function cg(t,n,e,i){let r=!1;if(KE()){const s=function yx(t,n,e){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];vv(e,o.selectors,!1)&&(r||(r=[]),Vu(Al(e,n),t,o.type),gr(o)?(Wv(t,e),r.unshift(o)):r.push(o))}return r}(t,n,e),o=null===i?null:{"":-1};if(null!==s){r=!0,zv(e,t.data.length,s.length);for(let d=0;d<s.length;d++){const R=s[d];R.providersResolver&&R.providersResolver(R)}let a=!1,l=!1,u=ma(t,n,s.length,null);for(let d=0;d<s.length;d++){const R=s[d];e.mergedAttrs=Lu(e.mergedAttrs,R.hostAttrs),qv(t,e,n,u,R),bx(u,R,o),null!==R.contentQueries&&(e.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(e.flags|=128);const P=R.type.prototype;!a&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e.index),a=!0),!l&&(P.ngOnChanges||P.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e.index),l=!0),u++}!function ux(t,n){const i=n.directiveEnd,r=t.data,s=n.attrs,o=[];let a=null,l=null;for(let u=n.directiveStart;u<i;u++){const d=r[u],R=d.inputs,P=null===s||bv(n)?null:Tx(R,s);o.push(P),a=Hv(R,u,a),l=Hv(d.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(n.flags|=16),a.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=o,n.inputs=a,n.outputs=l}(t,e)}o&&function Ex(t,n,e){if(n){const i=t.localNames=[];for(let r=0;r<n.length;r+=2){const s=e[n[r+1]];if(null==s)throw new Xe(-301,!1);i.push(n[r],s)}}}(e,i,o)}return e.mergedAttrs=Lu(e.mergedAttrs,e.attrs),r}function Gv(t,n,e,i,r,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~n.index;(function gx(t){let n=t.length;for(;n>0;){const e=t[--n];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,o)}}function jv(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Wv(t,n){n.flags|=2,(t.components||(t.components=[])).push(n.index)}function bx(t,n,e){if(e){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)e[n.exportAs[i]]=t;gr(n)&&(e[""]=t)}}function zv(t,n,e){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+e,t.providerIndexes=n}function qv(t,n,e,i,r){t.data[i]=r;const s=r.factory||(r.factory=oo(r.type)),o=new Dl(s,gr(r),null);t.blueprint[i]=o,e[i]=o,Gv(t,n,0,i,ma(t,e,r.hostVars,vt),r)}function vx(t,n,e){const i=qi(n,t),r=Lv(e),s=t[10],o=rd(t,Gl(t,r,null,e.onPush?64:16,i,n,s,s.createRenderer(i,e),null,null));t[n.index]=o}function Fr(t,n,e,i,r,s){const o=qi(t,n);!function ug(t,n,e,i,r,s,o){if(null==s)yn(t)?t.removeAttribute(n,r,e):n.removeAttribute(r);else{const a=null==o?bt(s):o(s,i||"",r);yn(t)?t.setAttribute(n,r,a,e):e?n.setAttributeNS(e,r,a):n.setAttribute(r,a)}}(n[11],o,s,t.value,e,i,r)}function Cx(t,n,e,i,r,s){const o=s[n];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const u=o[l++],d=o[l++],R=o[l++];null!==a?i.setInput(e,R,u,d):e[d]=R}}}function Tx(t,n){let e=null,i=0;for(;i<n.length;){const r=n[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,t[r],n[i+1])),i+=2}else i+=2;else i+=4}return e}function Yv(t,n,e,i){return new Array(t,!0,!1,n,null,0,i,e,null,null)}function Dx(t,n){const e=Ri(n,t);if(sp(e)){const i=e[1];80&e[2]?ya(i,e,i.template,e[8]):e[5]>0&&dg(e)}}function dg(t){for(let i=Bp(t);null!==i;i=Vp(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];ya(o,s,o.template,s[8])}else s[5]>0&&dg(s)}const e=t[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Ri(e[i],t);sp(r)&&r[5]>0&&dg(r)}}function Ix(t,n){const e=Ri(n,t),i=e[1];(function Ax(t,n){for(let e=n.length;e<t.blueprint.length;e++)n.push(t.blueprint[e])})(i,e),jl(i,e,e[8])}function rd(t,n){return t[13]?t[14][4]=n:t[13]=n,t[14]=n,n}function hg(t){for(;t;){t[2]|=64;const n=Hl(t);if(aN(t)&&!n)return t;t=n}return null}function pg(t,n,e){const i=n[10];i.begin&&i.begin();try{ya(t,n,t.template,e)}catch(r){throw Jv(n,r),r}finally{i.end&&i.end()}}function Qv(t){!function fg(t){for(let n=0;n<t.components.length;n++){const e=t.components[n],i=xp(e),r=i[1];ax(r,i,r.template,e)}}(t[8])}function gg(t,n,e){dp(0),n(t,e)}const Nx=(()=>Promise.resolve(null))();function Kv(t){return t[7]||(t[7]=[])}function Xv(t){return t.cleanup||(t.cleanup=[])}function Zv(t,n,e){return(null===t||gr(t))&&(e=function bN(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(e[n.index])),e[11]}function Jv(t,n){const e=t[9],i=e?e.get(Is,null):null;i&&i.handleError(n)}function eC(t,n,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],l=n[o],u=t.data[o];null!==u.setInput?u.setInput(l,r,i,a):l[a]=r}}function os(t,n,e){const i=Au(n,t);!function iv(t,n,e){yn(t)?t.setValue(n,e):n.textContent=e}(t[11],i,e)}function sd(t,n,e){let i=e?t.styles:null,r=e?t.classes:null,s=0;if(null!==n)for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?s=a:1==s?r=$f(r,a):2==s&&(i=$f(i,a+": "+n[++o]+";"))}e?t.styles=i:t.stylesWithoutHost=i,e?t.classes=r:t.classesWithoutHost=r}const _g=new He("INJECTOR",-1);class tC{get(n,e=Pl){if(e===Pl){const i=new Error(`NullInjectorError: No provider for ${Qt(n)}!`);throw i.name="NullInjectorError",i}return e}}const mg=new He("Set Injector scope."),Wl={},kx={};let yg;function nC(){return void 0===yg&&(yg=new tC),yg}function iC(t,n=null,e=null,i){const r=rC(t,n,e,i);return r._resolveInjectorDefTypes(),r}function rC(t,n=null,e=null,i){return new Fx(t,e,n||nC(),i)}class Fx{constructor(n,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];e&&Nr(e,a=>this.processProvider(a,n,e)),Nr([n],a=>this.processInjectorType(a,[],s)),this.records.set(_g,Ea(void 0,this));const o=this.records.get(mg);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof n?null:Qt(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,e=Pl,i=mt.Default){this.assertNotDestroyed();const r=Ib(this),s=bs(void 0);try{if(!(i&mt.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=function jx(t){return"function"==typeof t||"object"==typeof t&&t instanceof He}(n)&&jf(n);a=l&&this.injectableDefInScope(l)?Ea(Eg(n),Wl):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(i&mt.Self?nC():this.parent).get(n,e=i&mt.Optional&&e===Pl?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[ju]=o[ju]||[]).unshift(Qt(n)),r)throw o;return function fP(t,n,e,i){const r=t[ju];throw n[Db]&&r.unshift(n[Db]),t.message=function pP(t,n,e,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=Qt(n);if(Array.isArray(n))r=n.map(Qt).join(" -> ");else if("object"==typeof n){let s=[];for(let o in n)if(n.hasOwnProperty(o)){let a=n[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Qt(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${t.replace(lP,"\n  ")}`}("\n"+t.message,r,e,i),t.ngTokenPath=r,t[ju]=null,t}(o,n,"R3InjectorError",this.source)}throw o}finally{bs(s),Ib(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((i,r)=>n.push(Qt(r))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processInjectorType(n,e,i){if(!(n=At(n)))return!1;let r=kE(n);const s=null==r&&n.ngModule||void 0,o=void 0===s?n:s,a=-1!==i.indexOf(o);if(void 0!==s&&(r=kE(s)),null==r)return!1;if(null!=r.imports&&!a){let d;i.push(o);try{Nr(r.imports,R=>{this.processInjectorType(R,e,i)&&(void 0===d&&(d=[]),d.push(R))})}finally{}if(void 0!==d)for(let R=0;R<d.length;R++){const{ngModule:P,providers:L}=d[R];Nr(L,K=>this.processProvider(K,P,L||en))}}this.injectorDefTypes.add(o);const l=oo(o)||(()=>new o);this.records.set(o,Ea(l,Wl));const u=r.providers;if(null!=u&&!a){const d=n;Nr(u,R=>this.processProvider(R,d,u))}return void 0!==s&&void 0!==n.providers}processProvider(n,e,i){let r=ba(n=At(n))?n:At(n&&n.provide);const s=function Ux(t,n,e){return oC(t)?Ea(void 0,t.useValue):Ea(sC(t),Wl)}(n);if(ba(n)||!0!==n.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=Ea(void 0,Wl,!0),o.factory=()=>Sp(o.multi),this.records.set(r,o)),r=n,o.multi.push(n)}this.records.set(r,s)}hydrate(n,e){return e.value===Wl&&(e.value=kx,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Gx(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(n){if(!n.providedIn)return!1;const e=At(n.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Eg(t){const n=jf(t),e=null!==n?n.factory:oo(t);if(null!==e)return e;if(t instanceof He)throw new Xe(204,!1);if(t instanceof Function)return function Lx(t){const n=t.length;if(n>0)throw Nl(n,"?"),new Xe(204,!1);const e=function YO(t){const n=t&&(t[vu]||t[FE]);if(n){const e=function QO(t){if(t.hasOwnProperty("name"))return t.name;const n=(""+t).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),n}return null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Xe(204,!1)}function sC(t,n,e){let i;if(ba(t)){const r=At(t);return oo(r)||Eg(r)}if(oC(t))i=()=>At(t.useValue);else if(function Vx(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...Sp(t.deps||[]));else if(function Bx(t){return!(!t||!t.useExisting)}(t))i=()=>ve(At(t.useExisting));else{const r=At(t&&(t.useClass||t.provide));if(!function $x(t){return!!t.deps}(t))return oo(r)||Eg(r);i=()=>new r(...Sp(t.deps))}return i}function Ea(t,n,e=!1){return{factory:t,value:n,multi:e?[]:void 0}}function oC(t){return null!==t&&"object"==typeof t&&uP in t}function ba(t){return"function"==typeof t}let sn=(()=>{class t{static create(e,i){var r;if(Array.isArray(e))return iC({name:""},i,e,"");{const s=null!==(r=e.name)&&void 0!==r?r:"";return iC({name:s},e.parent,e.providers,s)}}}return t.THROW_IF_NOT_FOUND=Pl,t.NULL=new tC,t.\u0275prov=Ve({token:t,providedIn:"any",factory:()=>ve(_g)}),t.__NG_ELEMENT_ID__=-1,t})();function Zx(t,n){Pu(xp(t)[1],Ln())}function st(t){let n=function yC(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const i=[t];for(;n;){let r;if(gr(t))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Xe(903,"");r=n.\u0275dir}if(r){if(e){i.push(r);const o=t;o.inputs=Cg(t.inputs),o.declaredInputs=Cg(t.declaredInputs),o.outputs=Cg(t.outputs);const a=r.hostBindings;a&&nk(t,a);const l=r.viewQuery,u=r.contentQueries;if(l&&ek(t,l),u&&tk(t,u),Hf(t.inputs,r.inputs),Hf(t.declaredInputs,r.declaredInputs),Hf(t.outputs,r.outputs),gr(r)&&r.data.animation){const d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===st&&(e=!1)}}n=Object.getPrototypeOf(n)}!function Jx(t){let n=0,e=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Lu(r.hostAttrs,e=Lu(e,r.hostAttrs))}}(i)}function Cg(t){return t===Xo?{}:t===en?[]:t}function ek(t,n){const e=t.viewQuery;t.viewQuery=e?(i,r)=>{n(i,r),e(i,r)}:n}function tk(t,n){const e=t.contentQueries;t.contentQueries=e?(i,r,s)=>{n(i,r,s),e(i,r,s)}:n}function nk(t,n){const e=t.hostBindings;t.hostBindings=e?(i,r)=>{n(i,r),e(i,r)}:n}let od=null;function va(){if(!od){const t=Xt.Symbol;if(t&&t.iterator)od=t.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<n.length;++e){const i=n[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(od=i)}}}return od}function zl(t){return!!Tg(t)&&(Array.isArray(t)||!(t instanceof Map)&&va()in t)}function Tg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Lr(t,n,e){return t[n]=e}function li(t,n,e){return!Object.is(t[n],e)&&(t[n]=e,!0)}function uo(t,n,e,i){const r=li(t,n,e);return li(t,n+1,i)||r}function Kt(t,n,e,i){const r=ke();return li(r,ia(),n)&&($t(),Fr(En(),r,t,n,e,i)),Kt}function Ta(t,n,e,i){return li(t,ia(),e)?n+bt(e)+i:vt}function Sa(t,n,e,i,r,s){const a=uo(t,function is(){return yt.lFrame.bindingIndex}(),e,r);return rs(2),a?n+bt(e)+i+bt(r)+s:vt}function Je(t,n,e,i,r,s,o,a){const l=ke(),u=$t(),d=t+20,R=u.firstCreatePass?function ck(t,n,e,i,r,s,o,a,l){const u=n.consts,d=_a(n,t,4,o||null,Ts(u,a));cg(n,e,d,Ts(u,l)),Pu(n,d);const R=d.tViews=id(2,d,i,r,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u);return null!==n.queries&&(n.queries.template(n,d),R.queries=n.queries.embeddedTView(d)),d}(d,u,l,n,e,i,r,s,o):u.data[d];Or(R,!1);const P=l[11].createComment("");Zu(u,l,P,R),ai(P,l),rd(l,l[d]=Yv(P,l,P,R)),Iu(R)&&ag(u,l,R),null!=o&&lg(l,R,a)}function Ur(t){return na(function AN(){return yt.lFrame.contextLView}(),20+t)}function X(t,n=mt.Default){const e=ke();return null===e?ve(t,n):_b(Ln(),e,At(t),n)}function Na(){throw new Error("invalid")}function Pe(t,n,e){const i=ke();return li(i,ia(),n)&&xi($t(),En(),i,t,n,i[11],e,!1),Pe}function Ag(t,n,e,i,r){const o=r?"class":"style";eC(t,e,n.inputs[o],o,i)}function Se(t,n,e,i){const r=ke(),s=$t(),o=20+t,a=r[11],l=r[o]=$p(a,n,function LN(){return yt.lFrame.currentNamespace}()),u=s.firstCreatePass?function Rk(t,n,e,i,r,s,o){const a=n.consts,u=_a(n,t,2,r,Ts(a,s));return cg(n,e,u,Ts(a,o)),null!==u.attrs&&sd(u,u.attrs,!1),null!==u.mergedAttrs&&sd(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(o,s,r,0,n,e,i):s.data[o];Or(u,!0);const d=u.mergedAttrs;null!==d&&Fu(a,l,d);const R=u.classes;null!==R&&Yp(a,l,R);const P=u.styles;return null!==P&&mv(a,l,P),64!=(64&u.flags)&&Zu(s,r,l,u),0===function TN(){return yt.lFrame.elementDepthCount}()&&ai(l,r),function SN(){yt.lFrame.elementDepthCount++}(),Iu(u)&&(ag(s,r,u),Fv(s,u,r)),null!==i&&lg(r,u),Se}function we(){let t=Ln();ap()?lp():(t=t.parent,Or(t,!1));const n=t;!function wN(){yt.lFrame.elementDepthCount--}();const e=$t();return e.firstCreatePass&&(Pu(e,t),Xf(t)&&e.queries.elementEnd(t)),null!=n.classesWithoutHost&&function $N(t){return 0!=(16&t.flags)}(n)&&Ag(e,n,ke(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function GN(t){return 0!=(32&t.flags)}(n)&&Ag(e,n,ke(),n.stylesWithoutHost,!1),we}function Lt(t,n,e,i){return Se(t,n,e,i),we(),Lt}function Er(t,n,e){const i=ke(),r=$t(),s=t+20,o=r.firstCreatePass?function Ok(t,n,e,i,r){const s=n.consts,o=Ts(s,i),a=_a(n,t,8,"ng-container",o);return null!==o&&sd(a,o,!0),cg(n,e,a,Ts(s,r)),null!==n.queries&&n.queries.elementStart(n,a),a}(s,r,i,n,e):r.data[s];Or(o,!0);const a=i[s]=i[11].createComment("");return Zu(r,i,a,o),ai(a,i),Iu(o)&&(ag(r,i,o),Fv(r,o,i)),null!=e&&lg(i,o),Er}function br(){let t=Ln();const n=$t();return ap()?lp():(t=t.parent,Or(t,!1)),n.firstCreatePass&&(Pu(n,t),Xf(t)&&n.queries.elementEnd(t)),br}function cd(t,n,e){return Er(t,n,e),br(),cd}function bn(){return ke()}function Yl(t){return!!t&&"function"==typeof t.then}function UC(t){return!!t&&"function"==typeof t.subscribe}const Mg=UC;function Ke(t,n,e,i){const r=ke(),s=$t(),o=Ln();return BC(s,r,r[11],o,t,n,!!e,i),Ke}function ud(t,n){const e=Ln(),i=ke(),r=$t();return BC(r,i,Zv(up(r.data),e,i),e,t,n,!1),ud}function BC(t,n,e,i,r,s,o,a){const l=Iu(i),d=t.firstCreatePass&&Xv(t),R=n[8],P=Kv(n);let L=!0;if(3&i.type||a){const he=qi(i,n),Te=a?a(he):he,ge=P.length,Ie=a?De=>a(Mn(De[i.index])):i.index;if(yn(e)){let De=null;if(!a&&l&&(De=function Nk(t,n,e,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=n[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,n,r,i.index)),null!==De)(De.__ngLastListenerFn__||De).__ngNextListenerFn__=s,De.__ngLastListenerFn__=s,L=!1;else{s=Rg(i,n,R,s,!1);const Ge=e.listen(Te,r,s);P.push(s,Ge),d&&d.push(r,Ie,ge,ge+1)}}else s=Rg(i,n,R,s,!0),Te.addEventListener(r,s,o),P.push(s),d&&d.push(r,Ie,ge,o)}else s=Rg(i,n,R,s,!1);const K=i.outputs;let ce;if(L&&null!==K&&(ce=K[r])){const he=ce.length;if(he)for(let Te=0;Te<he;Te+=2){const St=n[ce[Te]][ce[Te+1]].subscribe(s),We=P.length;P.push(s,St),d&&d.push(r,i.index,We,-(We+1))}}}function VC(t,n,e,i){try{return!1!==e(i)}catch(r){return Jv(t,r),!1}}function Rg(t,n,e,i,r){return function s(o){if(o===Function)return i;const a=2&t.flags?Ri(t.index,n):n;0==(32&n[2])&&hg(a);let l=VC(n,0,i,o),u=s.__ngNextListenerFn__;for(;u;)l=VC(n,0,u,o)&&l,u=u.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Qe(t=1){return function PN(t){return(yt.lFrame.contextLView=function xN(t,n){for(;t>0;)n=n[15],t--;return n}(t,yt.lFrame.contextLView))[8]}(t)}function Pk(t,n){let e=null;const i=function H1(t){const n=t.attrs;if(null!=n){const e=n.indexOf(5);if(0==(1&e))return n[e+1]}return null}(t);for(let r=0;r<n.length;r++){const s=n[r];if("*"!==s){if(null===i?vv(t,s,!0):j1(i,s))return r}else e=r}return e}function Xi(t){const n=ke()[16][6];if(!n.projection){const i=n.projection=Nl(t?t.length:1,null),r=i.slice();let s=n.child;for(;null!==s;){const o=t?Pk(s,t):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function fn(t,n=0,e){const i=ke(),r=$t(),s=_a(r,20+t,16,null,e||null);null===s.projection&&(s.projection=n),lp(),64!=(64&s.flags)&&function x1(t,n,e){_v(n[11],0,n,e,ov(t,e,n),uv(e.parent||n[6],e,n))}(r,i,s)}function KC(t,n,e,i,r){const s=t[e+1],o=null===n;let a=i?mr(s):ss(s),l=!1;for(;0!==a&&(!1===l||o);){const d=t[a+1];Fk(t[a],n)&&(l=!0,t[a+1]=i?Xp(d):Qp(d)),a=i?mr(d):ss(d)}l&&(t[e+1]=i?Qp(s):Xp(s))}function Fk(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&da(t,n)>=0}const Vn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function XC(t){return t.substring(Vn.key,Vn.keyEnd)}function ZC(t,n){const e=Vn.textEnd;return e===n?-1:(n=Vn.keyEnd=function Vk(t,n,e){for(;n<e&&t.charCodeAt(n)>32;)n++;return n}(t,Vn.key=n,e),Pa(t,n,e))}function Pa(t,n,e){for(;n<e&&t.charCodeAt(n)<=32;)n++;return n}function ho(t,n,e){return vr(t,n,e,!1),ho}function Nt(t,n){return vr(t,n,null,!0),Nt}function Vr(t,n){for(let e=function Uk(t){return function eT(t){Vn.key=0,Vn.keyEnd=0,Vn.value=0,Vn.valueEnd=0,Vn.textEnd=t.length}(t),ZC(t,Pa(t,0,Vn.textEnd))}(n);e>=0;e=ZC(n,e))Oi(t,XC(n),!0)}function vr(t,n,e,i){const r=ke(),s=$t(),o=rs(2);s.firstUpdatePass&&rT(s,t,o,i),n!==vt&&li(r,o,n)&&oT(s,s.data[pi()],r,r[11],t,r[o+1]=function Xk(t,n){return null==t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Qt(Ni(t)))),t}(n,e),i,o)}function iT(t,n){return n>=t.expandoStartIndex}function rT(t,n,e,i){const r=t.data;if(null===r[e+1]){const s=r[pi()],o=iT(t,e);lT(s,i)&&null===n&&!o&&(n=!1),n=function Wk(t,n,e,i){const r=up(t);let s=i?n.residualClasses:n.residualStyles;if(null===r)0===(i?n.classBindings:n.styleBindings)&&(e=Ql(e=Ng(null,t,n,e,i),n.attrs,i),s=null);else{const o=n.directiveStylingLast;if(-1===o||t[o]!==r)if(e=Ng(r,t,n,e,i),null===s){let l=function zk(t,n,e){const i=e?n.classBindings:n.styleBindings;if(0!==ss(i))return t[mr(i)]}(t,n,i);void 0!==l&&Array.isArray(l)&&(l=Ng(null,t,n,l[1],i),l=Ql(l,n.attrs,i),function qk(t,n,e,i){t[mr(e?n.classBindings:n.styleBindings)]=i}(t,n,i,l))}else s=function Yk(t,n,e){let i;const r=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<r;s++)i=Ql(i,t[s].hostAttrs,e);return Ql(i,n.attrs,e)}(t,n,i)}return void 0!==s&&(i?n.residualClasses=s:n.residualStyles=s),e}(r,s,n,i),function xk(t,n,e,i,r,s){let o=s?n.classBindings:n.styleBindings,a=mr(o),l=ss(o);t[i]=e;let d,u=!1;if(Array.isArray(e)){const R=e;d=R[1],(null===d||da(R,d)>0)&&(u=!0)}else d=e;if(r)if(0!==l){const P=mr(t[a+1]);t[i+1]=ed(P,a),0!==P&&(t[P+1]=Kp(t[P+1],i)),t[a+1]=function Y1(t,n){return 131071&t|n<<17}(t[a+1],i)}else t[i+1]=ed(a,0),0!==a&&(t[a+1]=Kp(t[a+1],i)),a=i;else t[i+1]=ed(l,0),0===a?a=i:t[l+1]=Kp(t[l+1],i),l=i;u&&(t[i+1]=Qp(t[i+1])),KC(t,d,i,!0),KC(t,d,i,!1),function kk(t,n,e,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof n&&da(s,n)>=0&&(e[i+1]=Xp(e[i+1]))}(n,d,t,i,s),o=ed(a,l),s?n.classBindings=o:n.styleBindings=o}(r,s,n,e,o,i)}}function Ng(t,n,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=n[a],i=Ql(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(e.directiveStylingLast=a),i}function Ql(t,n,e){const i=e?1:2;let r=-1;if(null!==n)for(let s=0;s<n.length;s++){const o=n[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Oi(t,o,!!e||n[++s]))}return void 0===t?null:t}function oT(t,n,e,i,r,s,o,a){if(!(3&n.type))return;const l=t.data,u=l[a+1];dd(function Dv(t){return 1==(1&t)}(u)?aT(l,n,e,r,ss(u),o):void 0)||(dd(s)||function wv(t){return 2==(2&t)}(u)&&(s=aT(l,null,e,r,a,o)),function F1(t,n,e,i,r){const s=yn(t);if(n)r?s?t.addClass(e,i):e.classList.add(i):s?t.removeClass(e,i):e.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:Pi.DashCase;if(null==r)s?t.removeStyle(e,i,o):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=Pi.Important),s?t.setStyle(e,i,r,o):e.style.setProperty(i,r,a?"important":"")}}}(i,o,Au(pi(),e),r,s))}function aT(t,n,e,i,r,s){const o=null===n;let a;for(;r>0;){const l=t[r],u=Array.isArray(l),d=u?l[1]:l,R=null===d;let P=e[r+1];P===vt&&(P=R?en:void 0);let L=R?vp(P,i):d===i?P:void 0;if(u&&!dd(L)&&(L=vp(l,i)),dd(L)&&(a=L,o))return a;const K=t[r+1];r=o?mr(K):ss(K)}if(null!==n){let l=s?n.residualClasses:n.residualStyles;null!=l&&(a=vp(l,i))}return a}function dd(t){return void 0!==t}function lT(t,n){return 0!=(t.flags&(n?16:32))}function Le(t,n=""){const e=ke(),i=$t(),r=t+20,s=i.firstCreatePass?_a(i,r,1,n,null):i.data[r],o=e[r]=function Hp(t,n){return yn(t)?t.createText(n):t.createTextNode(n)}(e[11],n);Zu(i,e,o,s),Or(s,!1)}function Kn(t){return Rs("",t,""),Kn}function Rs(t,n,e){const i=ke(),r=Ta(i,t,n,e);return r!==vt&&os(i,pi(),r),Rs}function Pg(t,n,e,i,r){const s=ke(),o=Sa(s,t,n,e,i,r);return o!==vt&&os(s,pi(),o),Pg}function _T(t,n,e){!function Cr(t,n,e,i){const r=$t(),s=rs(2);r.firstUpdatePass&&rT(r,null,s,i);const o=ke();if(e!==vt&&li(o,s,e)){const a=r.data[pi()];if(lT(a,i)&&!iT(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=$f(l,e||"")),Ag(r,a,o,e,i)}else!function Kk(t,n,e,i,r,s,o,a){r===vt&&(r=en);let l=0,u=0,d=0<r.length?r[0]:null,R=0<s.length?s[0]:null;for(;null!==d||null!==R;){const P=l<r.length?r[l+1]:void 0,L=u<s.length?s[u+1]:void 0;let ce,K=null;d===R?(l+=2,u+=2,P!==L&&(K=R,ce=L)):null===R||null!==d&&d<R?(l+=2,K=d):(u+=2,K=R,ce=L),null!==K&&oT(t,n,e,i,K,ce,o,a),d=l<r.length?r[l]:null,R=u<s.length?s[u]:null}}(r,a,o,o[11],o[s+1],o[s+1]=function Qk(t,n,e){if(null==e||""===e)return en;const i=[],r=Ni(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&n(i,r);return i}(t,n,e),i,s)}}(Oi,Vr,Ta(ke(),t,n,e),!0)}function fo(t,n,e){const i=ke();return li(i,ia(),n)&&xi($t(),En(),i,t,n,i[11],e,!0),fo}function hd(t,n,e){const i=ke();if(li(i,ia(),n)){const s=$t(),o=En();xi(s,o,i,t,n,Zv(up(s.data),o,i),e,!0)}return hd}const po=void 0;var _F=["en",[["a","p"],["AM","PM"],po],[["AM","PM"],po,po],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],po,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],po,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",po,"{1} 'at' {0}",po],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gF(t){const e=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let xa={};function _i(t){const n=function mF(t){return t.toLowerCase().replace(/_/g,"-")}(t);let e=IT(n);if(e)return e;const i=n.split("-")[0];if(e=IT(i),e)return e;if("en"===i)return _F;throw new Error(`Missing locale data for the locale "${t}".`)}function IT(t){return t in xa||(xa[t]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[t]),xa[t]}var ze=(()=>((ze=ze||{})[ze.LocaleId=0]="LocaleId",ze[ze.DayPeriodsFormat=1]="DayPeriodsFormat",ze[ze.DayPeriodsStandalone=2]="DayPeriodsStandalone",ze[ze.DaysFormat=3]="DaysFormat",ze[ze.DaysStandalone=4]="DaysStandalone",ze[ze.MonthsFormat=5]="MonthsFormat",ze[ze.MonthsStandalone=6]="MonthsStandalone",ze[ze.Eras=7]="Eras",ze[ze.FirstDayOfWeek=8]="FirstDayOfWeek",ze[ze.WeekendRange=9]="WeekendRange",ze[ze.DateFormat=10]="DateFormat",ze[ze.TimeFormat=11]="TimeFormat",ze[ze.DateTimeFormat=12]="DateTimeFormat",ze[ze.NumberSymbols=13]="NumberSymbols",ze[ze.NumberFormats=14]="NumberFormats",ze[ze.CurrencyCode=15]="CurrencyCode",ze[ze.CurrencySymbol=16]="CurrencySymbol",ze[ze.CurrencyName=17]="CurrencyName",ze[ze.Currencies=18]="Currencies",ze[ze.Directionality=19]="Directionality",ze[ze.PluralCase=20]="PluralCase",ze[ze.ExtraData=21]="ExtraData",ze))();const fd="en-US";let AT=fd;function Fg(t,n,e,i,r){if(t=At(t),Array.isArray(t))for(let s=0;s<t.length;s++)Fg(t[s],n,e,i,r);else{const s=$t(),o=ke();let a=ba(t)?t:At(t.provide),l=sC(t);const u=Ln(),d=1048575&u.providerIndexes,R=u.directiveStart,P=u.providerIndexes>>20;if(ba(t)||!t.multi){const L=new Dl(l,r,X),K=Ug(a,n,r?d:d+P,R);-1===K?(Vu(Al(u,o),s,a),Lg(s,t,n.length),n.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(L),o.push(L)):(e[K]=L,o[K]=L)}else{const L=Ug(a,n,d+P,R),K=Ug(a,n,d,d+P),ce=L>=0&&e[L],he=K>=0&&e[K];if(r&&!he||!r&&!ce){Vu(Al(u,o),s,a);const Te=function gL(t,n,e,i,r){const s=new Dl(t,e,X);return s.multi=[],s.index=n,s.componentProviders=0,ZT(s,r,i&&!e),s}(r?pL:fL,e.length,r,i,l);!r&&he&&(e[K].providerFactory=Te),Lg(s,t,n.length,0),n.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(Te),o.push(Te)}else Lg(s,t,L>-1?L:K,ZT(e[r?K:L],l,!r&&i));!r&&i&&he&&e[K].componentProviders++}}}function Lg(t,n,e,i){const r=ba(n),s=function Hx(t){return!!t.useClass}(n);if(r||s){const l=(s?At(n.useClass):n).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&n.multi){const d=u.indexOf(e);-1===d?u.push(e,[i,l]):u[d+1].push(i,l)}else u.push(e,l)}}}function ZT(t,n,e){return e&&t.componentProviders++,t.multi.push(n)-1}function Ug(t,n,e,i){for(let r=e;r<i;r++)if(n[r]===t)return r;return-1}function fL(t,n,e,i){return Bg(this.multi,[])}function pL(t,n,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ml(e,e[1],this.providerFactory.index,i);s=a.slice(0,o),Bg(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Bg(r,s);return s}function Bg(t,n){for(let e=0;e<t.length;e++)n.push((0,t[e])());return n}function Gt(t,n=[]){return e=>{e.providersResolver=(i,r)=>function hL(t,n,e){const i=$t();if(i.firstCreatePass){const r=gr(t);Fg(e,i.data,i.blueprint,r,!0),Fg(n,i.data,i.blueprint,r,!1)}}(i,r?r(t):t,n)}}class JT{}class yL{resolveComponentFactory(n){throw function mL(t){const n=Error(`No component factory found for ${Qt(t)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=t,n}(n)}}let Os=(()=>{class t{}return t.NULL=new yL,t})();function EL(){return Fa(Ln(),ke())}function Fa(t,n){return new ht(qi(t,n))}let ht=(()=>{class t{constructor(e){this.nativeElement=e}}return t.__NG_ELEMENT_ID__=EL,t})();function bL(t){return t instanceof ht?t.nativeElement:t}class ec{}let Hr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function CL(){const t=ke(),e=Ri(Ln().index,t);return function vL(t){return t[11]}(Rr(e)?e:t)}(),t})(),TL=(()=>{class t{}return t.\u0275prov=Ve({token:t,providedIn:"root",factory:()=>null}),t})();class go{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const SL=new go("13.3.2"),Vg={};function yd(t,n,e,i,r=!1){for(;null!==e;){const s=n[e.index];if(null!==s&&i.push(Mn(s)),pr(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&yd(l[1],l,u,i)}const o=e.type;if(8&o)yd(t,n,e.child,i);else if(32&o){const a=Up(e,n);let l;for(;l=a();)i.push(l)}else if(16&o){const a=pv(n,e);if(Array.isArray(a))i.push(...a);else{const l=Hl(n[16]);yd(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class tc{constructor(n,e){this._lView=n,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,e=n[1];return yd(e,n,e.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(pr(n)){const e=n[8],i=e?e.indexOf(this):-1;i>-1&&(Gp(n,i),$u(e,i))}this._attachedToViewContainer=!1}sv(this._lView[1],this._lView)}onDestroy(n){Vv(this._lView[1],this._lView,null,n)}markForCheck(){hg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){pg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Rx(t,n,e){Ru(!0);try{pg(t,n,e)}finally{Ru(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function D1(t,n){$l(t,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Xe(902,"");this._appRef=n}}class wL extends tc{constructor(n){super(n),this._view=n}detectChanges(){Qv(this._view)}checkNoChanges(){!function Ox(t){Ru(!0);try{Qv(t)}finally{Ru(!1)}}(this._view)}get context(){return null}}class tS extends Os{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const e=si(n);return new Hg(e,this.ngModule)}}function nS(t){const n=[];for(let e in t)t.hasOwnProperty(e)&&n.push({propName:t[e],templateName:e});return n}class Hg extends JT{constructor(n,e){super(),this.componentDef=n,this.ngModule=e,this.componentType=n.type,this.selector=function z1(t){return t.map(W1).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return nS(this.componentDef.inputs)}get outputs(){return nS(this.componentDef.outputs)}create(n,e,i,r){const s=(r=r||this.ngModule)?function IL(t,n){return{get:(e,i,r)=>{const s=t.get(e,Vg,r);return s!==Vg||i===Vg?s:n.get(e,i,r)}}}(n,r.injector):n,o=s.get(ec,qE),a=s.get(TL,null),l=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",d=i?function Bv(t,n,e){if(yn(t))return t.selectRootElement(n,e===hr.ShadowDom);let i="string"==typeof n?t.querySelector(n):n;return i.textContent="",i}(l,i,this.componentDef.encapsulation):$p(o.createRenderer(null,this.componentDef),u,function DL(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(u)),R=this.componentDef.onPush?576:528,P=function mC(t,n){return{components:[],scheduler:t||y1,clean:Nx,playerHandler:n||null,flags:0}}(),L=id(0,null,null,1,0,null,null,null,null,null),K=Gl(null,L,P,R,null,null,o,l,a,s);let ce,he;Ou(K);try{const Te=function gC(t,n,e,i,r,s){const o=e[1];e[20]=t;const l=_a(o,20,2,"#host",null),u=l.mergedAttrs=n.hostAttrs;null!==u&&(sd(l,u,!0),null!==t&&(Fu(r,t,u),null!==l.classes&&Yp(r,t,l.classes),null!==l.styles&&mv(r,t,l.styles)));const d=i.createRenderer(t,n),R=Gl(e,Lv(n),null,n.onPush?64:16,e[20],l,i,d,s||null,null);return o.firstCreatePass&&(Vu(Al(l,e),o,n.type),Wv(o,l),zv(l,e.length,1)),rd(e,R),e[20]=R}(d,this.componentDef,K,o,l);if(d)if(i)Fu(l,d,["ng-version",SL.full]);else{const{attrs:ge,classes:Ie}=function q1(t){const n=[],e=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&n.push(s,t[++i]):8===r&&e.push(s);else{if(!_r(r))break;r=s}i++}return{attrs:n,classes:e}}(this.componentDef.selectors[0]);ge&&Fu(l,d,ge),Ie&&Ie.length>0&&Yp(l,d,Ie.join(" "))}if(he=rp(L,20),void 0!==e){const ge=he.projection=[];for(let Ie=0;Ie<this.ngContentSelectors.length;Ie++){const De=e[Ie];ge.push(null!=De?Array.from(De):null)}}ce=function _C(t,n,e,i,r){const s=e[1],o=function px(t,n,e){const i=Ln();t.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),qv(t,i,n,ma(t,n,1,null),e));const r=Ml(n,t,i.directiveStart,i);ai(r,n);const s=qi(i,n);return s&&ai(s,n),r}(s,e,n);if(i.components.push(o),t[8]=o,r&&r.forEach(l=>l(o,n)),n.contentQueries){const l=Ln();n.contentQueries(1,o,l.directiveStart)}const a=Ln();return!s.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Ss(a.index),Gv(e[1],a,0,a.directiveStart,a.directiveEnd,n),jv(n,o)),o}(Te,this.componentDef,K,P,[Zx]),jl(L,K,null)}finally{Nu()}return new ML(this.componentType,ce,Fa(he,K),K,he)}}class ML extends class _L{}{constructor(n,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new wL(r),this.componentType=n}get injector(){return new oa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class as{}class iS{}const La=new Map;class oS extends as{constructor(n,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new tS(this);const i=ji(n);this._bootstrapComponents=kr(i.bootstrap),this._r3Injector=rC(n,e,[{provide:as,useValue:this},{provide:Os,useValue:this.componentFactoryResolver}],Qt(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,e=sn.THROW_IF_NOT_FOUND,i=mt.Default){return n===sn||n===as||n===_g?this:this._r3Injector.get(n,e,i)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class $g extends iS{constructor(n){super(),this.moduleType=n,null!==ji(n)&&function OL(t){const n=new Set;!function e(i){const r=ji(i,!0),s=r.id;null!==s&&(function rS(t,n,e){if(n&&n!==e)throw new Error(`Duplicate module registered for ${t} - ${Qt(n)} vs ${Qt(n.name)}`)}(s,La.get(s),i),La.set(s,i));const o=kr(r.imports);for(const a of o)n.has(a)||(n.add(a),e(a))}(t)}(n)}create(n){return new oS(this.moduleType,n)}}function Gg(t,n,e,i){return lS(ke(),fi(),t,n,e,i)}function nc(t,n){const e=t[n];return e===vt?void 0:e}function lS(t,n,e,i,r,s){const o=n+e;return li(t,o,r)?Lr(t,o+1,s?i.call(s,r):i(r)):nc(t,o+1)}function cS(t,n,e,i,r,s,o){const a=n+e;return uo(t,a,r,s)?Lr(t,a+2,o?i.call(o,r,s):i(r,s)):nc(t,a+2)}function ki(t,n){const e=$t();let i;const r=t+20;e.firstCreatePass?(i=function VL(t,n){if(n)for(let e=n.length-1;e>=0;e--){const i=n[e];if(t===i.name)return i}}(n,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=oo(i.type)),o=bs(X);try{const a=Uu(!1),l=s();return Uu(a),function uk(t,n,e,i){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),n[e]=i}(e,ke(),r,l),l}finally{bs(o)}}function Zi(t,n,e){const i=t+20,r=ke(),s=na(r,i);return ic(r,i)?lS(r,fi(),n,s.transform,e,s):s.transform(e)}function ic(t,n){return t[1].data[n].pure}function jg(t){return n=>{setTimeout(t,void 0,n)}}const et=class jL extends le{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,e,i){var r,s,o;let a=n,l=e||(()=>null),u=i;if(n&&"object"==typeof n){const R=n;a=null===(r=R.next)||void 0===r?void 0:r.bind(R),l=null===(s=R.error)||void 0===s?void 0:s.bind(R),u=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}this.__isAsync&&(l=jg(l),a&&(a=jg(a)),u&&(u=jg(u)));const d=super.subscribe({next:a,error:l,complete:u});return n instanceof h&&n.add(d),d}};function WL(){return this._results[va()]()}class Ua{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=va(),i=Ua.prototype;i[e]||(i[e]=WL)}get changes(){return this._changes||(this._changes=new et)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,e){return this._results.reduce(n,e)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,e){const i=this;i.dirty=!1;const r=Yi(n);(this._changesDetected=!function JN(t,n,e){if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=n[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Xn=(()=>{class t{}return t.__NG_ELEMENT_ID__=YL,t})();const zL=Xn,qL=class extends zL{constructor(n,e,i){super(),this._declarationLView=n,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(n){const e=this._declarationTContainer.tViews,i=Gl(this._declarationLView,e,n,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(e)),jl(e,i,n),new tc(i)}};function YL(){return Ed(Ln(),ke())}function Ed(t,n){return 4&t.type?new qL(n,t,Fa(t,n)):null}let qn=(()=>{class t{}return t.__NG_ELEMENT_ID__=QL,t})();function QL(){return _S(Ln(),ke())}const KL=qn,pS=class extends KL{constructor(n,e,i){super(),this._lContainer=n,this._hostTNode=e,this._hostLView=i}get element(){return Fa(this._hostTNode,this._hostLView)}get injector(){return new oa(this._hostTNode,this._hostLView)}get parentInjector(){const n=Bu(this._hostTNode,this._hostLView);if(db(n)){const e=sa(n,this._hostLView),i=ra(n);return new oa(e[1].data[i+8],e)}return new oa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const e=gS(this._lContainer);return null!==e&&e[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,e,i){const r=n.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(n,e,i,r,s){const o=n&&!function Ol(t){return"function"==typeof t}(n);let a;if(o)a=e;else{const R=e||{};a=R.index,i=R.injector,r=R.projectableNodes,s=R.ngModuleRef}const l=o?n:new Hg(si(n)),u=i||this.parentInjector;if(!s&&null==l.ngModule){const P=(o?u:this.parentInjector).get(as,null);P&&(s=P)}const d=l.create(u,r,void 0,s);return this.insert(d.hostView,a),d}insert(n,e){const i=n._lView,r=i[1];if(function CN(t){return pr(t[3])}(i)){const d=this.indexOf(n);if(-1!==d)this.detach(d);else{const R=i[3],P=new pS(R,R[6],R[3]);P.detach(P.indexOf(n))}}const s=this._adjustIndex(e),o=this._lContainer;!function A1(t,n,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=n),i<s-10?(n[4]=e[r],vb(e,10+i,n)):(e.push(n),n[4]=null),n[3]=e;const o=n[17];null!==o&&e!==o&&function M1(t,n){const e=t[9];n[16]!==n[3][3][16]&&(t[2]=!0),null===e?t[9]=[n]:e.push(n)}(o,n);const a=n[19];null!==a&&a.insertView(t),n[2]|=128}(r,i,o,s);const a=zp(s,o),l=i[11],u=Xu(l,o[7]);return null!==u&&function w1(t,n,e,i,r,s){i[0]=r,i[6]=n,$l(t,i,e,1,r,s)}(r,o[6],l,i,u,a),n.attachToViewContainerRef(),vb(Wg(o),s,n),n}move(n,e){return this.insert(n,e)}indexOf(n){const e=gS(this._lContainer);return null!==e?e.indexOf(n):-1}remove(n){const e=this._adjustIndex(n,-1),i=Gp(this._lContainer,e);i&&($u(Wg(this._lContainer),e),sv(i[1],i))}detach(n){const e=this._adjustIndex(n,-1),i=Gp(this._lContainer,e);return i&&null!=$u(Wg(this._lContainer),e)?new tc(i):null}_adjustIndex(n,e=0){return null==n?this.length+e:n}};function gS(t){return t[8]}function Wg(t){return t[8]||(t[8]=[])}function _S(t,n){let e;const i=n[t.index];if(pr(i))e=i;else{let r;if(8&t.type)r=Mn(i);else{const s=n[11];r=s.createComment("");const o=qi(t,n);co(s,Xu(s,o),r,function P1(t,n){return yn(t)?t.nextSibling(n):n.nextSibling}(s,o),!1)}n[t.index]=e=Yv(i,n,r,t),rd(n,e)}return new pS(e,t,n)}class zg{constructor(n){this.queryList=n,this.matches=null}clone(){return new zg(this.queryList)}setDirty(){this.queryList.setDirty()}}class qg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const e=n.queries;if(null!==e){const i=null!==n.contentQueries?n.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new qg(r)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let e=0;e<this.queries.length;e++)null!==vS(n,e).matches&&this.queries[e].setDirty()}}class mS{constructor(n,e,i=null){this.predicate=n,this.flags=e,this.read=i}}class Yg{constructor(n=[]){this.queries=n}elementStart(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(n,e)}elementEnd(n){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(n)}embeddedTView(n){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(n,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new Yg(e):null}template(n,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(n,e)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Qg{constructor(n,e=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(n,e){this.isApplyingToNode(e)&&this.matchTNode(n,e)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,e){this.elementStart(n,e)}embeddedTView(n,e){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,e),new Qg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=n.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(n,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(n,e,JL(e,s)),this.matchTNodeWithReadOption(n,e,Hu(e,n,s,!1,!1))}else i===Xn?4&e.type&&this.matchTNodeWithReadOption(n,e,-1):this.matchTNodeWithReadOption(n,e,Hu(e,n,i,!1,!1))}matchTNodeWithReadOption(n,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ht||r===qn||r===Xn&&4&e.type)this.addMatch(e.index,-2);else{const s=Hu(e,n,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(n,e){null===this.matches?this.matches=[n,e]:this.matches.push(n,e)}}function JL(t,n){const e=t.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===n)return e[i+1];return null}function t2(t,n,e,i){return-1===e?function e2(t,n){return 11&t.type?Fa(t,n):4&t.type?Ed(t,n):null}(n,t):-2===e?function n2(t,n,e){return e===ht?Fa(n,t):e===Xn?Ed(n,t):e===qn?_S(n,t):void 0}(t,n,i):Ml(t,t[1],e,n)}function yS(t,n,e,i){const r=n[19].queries[i];if(null===r.matches){const s=t.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:t2(n,s[u],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function Kg(t,n,e,i){const r=t.queries.getByIndex(e),s=r.matches;if(null!==s){const o=yS(t,n,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const u=s[a+1],d=n[-l];for(let R=10;R<d.length;R++){const P=d[R];P[17]===P[3]&&Kg(P[1],P,u,i)}if(null!==d[9]){const R=d[9];for(let P=0;P<R.length;P++){const L=R[P];Kg(L[1],L,u,i)}}}}}return i}function gt(t){const n=ke(),e=$t(),i=eb();dp(i+1);const r=vS(e,i);if(t.dirty&&YE(n)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?Kg(e,n,i,[]):yS(e,n,r,i);t.reset(s,bL),t.notifyOnChanges()}return!0}return!1}function Zt(t,n,e){const i=$t();i.firstCreatePass&&(bS(i,new mS(t,n,e),-1),2==(2&n)&&(i.staticViewQueries=!0)),ES(i,ke(),n)}function Rn(t,n,e,i){const r=$t();if(r.firstCreatePass){const s=Ln();bS(r,new mS(n,e,i),s.index),function s2(t,n){const e=t.contentQueries||(t.contentQueries=[]);n!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,n)}(r,t),2==(2&e)&&(r.staticContentQueries=!0)}ES(r,ke(),e)}function _t(){return function r2(t,n){return t[19].queries[n].queryList}(ke(),eb())}function ES(t,n,e){const i=new Ua(4==(4&e));Vv(t,n,i,i.destroy),null===n[19]&&(n[19]=new qg),n[19].queries.push(new zg(i))}function bS(t,n,e){null===t.queries&&(t.queries=new Yg),t.queries.track(new Qg(n,e))}function vS(t,n){return t.queries.getByIndex(n)}function bd(t,n){return Ed(t,n)}function Td(...t){}const n_=new He("Application Initializer");let i_=(()=>{class t{constructor(e){this.appInits=e,this.resolve=Td,this.reject=Td,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Yl(s))e.push(s);else if(Mg(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ve(n_,8))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const sc=new He("AppId",{providedIn:"root",factory:function US(){return`${r_()}${r_()}${r_()}`}});function r_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const BS=new He("Platform Initializer"),Sd=new He("Platform ID"),VS=new He("appBootstrapListener");let HS=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();const ls=new He("LocaleId",{providedIn:"root",factory:()=>Wu(ls,mt.Optional|mt.SkipSelf)||function C2(){return"undefined"!=typeof $localize&&$localize.locale||fd}()});class S2{constructor(n,e){this.ngModuleFactory=n,this.componentFactories=e}}let $S=(()=>{class t{compileModuleSync(e){return new $g(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=kr(ji(e).declarations).reduce((o,a)=>{const l=si(a);return l&&o.push(new Hg(l)),o},[]);return new S2(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const D2=(()=>Promise.resolve(0))();function s_(t){"undefined"==typeof Zone?D2.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class tt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function I2(){let t=Xt.requestAnimationFrame,n=Xt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&n){const e=t[Zone.__symbol__("OriginalDelegate")];e&&(t=e);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function R2(t){const n=()=>{!function M2(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Xt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,a_(t),t.isCheckStableRunning=!0,o_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),a_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{try{return GS(t),e.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&n(),jS(t)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return GS(t),e.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&n(),jS(t)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,a_(t),o_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(tt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,e,i){return this._inner.run(n,e,i)}runTask(n,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,n,A2,Td,Td);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(n,e,i){return this._inner.runGuarded(n,e,i)}runOutsideAngular(n){return this._outer.run(n)}}const A2={};function o_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function a_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function GS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jS(t){t._nesting--,o_(t)}class O2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new et,this.onMicrotaskEmpty=new et,this.onStable=new et,this.onError=new et}run(n,e,i){return n.apply(e,i)}runGuarded(n,e,i){return n.apply(e,i)}runOutsideAngular(n){return n()}runTask(n,e,i,r){return n.apply(e,i)}}let l_=(()=>{class t{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tt.assertNotInAngularZone(),s_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())s_(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return t.\u0275fac=function(e){return new(e||t)(ve(tt))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})(),WS=(()=>{class t{constructor(){this._applications=new Map,c_.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return c_.findTestabilityInTree(this,e,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();class N2{addToWindow(n){}findTestabilityInTree(n,e,i){return null}}let Tr,c_=new N2;const zS=new He("AllowMultipleToken");class qS{constructor(n,e){this.name=n,this.token=e}}function YS(t,n,e=[]){const i=`Platform: ${n}`,r=new He(i);return(s=[])=>{let o=QS();if(!o||o.injector.get(zS,!1))if(t)t(e.concat(s).concat({provide:r,useValue:!0}));else{const a=e.concat(s).concat({provide:r,useValue:!0},{provide:mg,useValue:"platform"});!function F2(t){if(Tr&&!Tr.destroyed&&!Tr.injector.get(zS,!1))throw new Xe(400,"");Tr=t.get(KS);const n=t.get(BS,null);n&&n.forEach(e=>e())}(sn.create({providers:a,name:i}))}return function L2(t){const n=QS();if(!n)throw new Xe(401,"");return n}()}}function QS(){return Tr&&!Tr.destroyed?Tr:null}let KS=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function U2(t,n){let e;return e="noop"===t?new O2:("zone.js"===t?void 0:t)||new tt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:tt,useValue:a}];return a.run(()=>{const u=sn.create({providers:l,parent:this.injector,name:e.moduleType.name}),d=e.create(u),R=d.injector.get(Is,null);if(!R)throw new Xe(402,"");return a.runOutsideAngular(()=>{const P=a.onError.subscribe({next:L=>{R.handleError(L)}});d.onDestroy(()=>{u_(this._modules,d),P.unsubscribe()})}),function B2(t,n,e){try{const i=e();return Yl(i)?i.catch(r=>{throw n.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>t.handleError(i)),i}}(R,a,()=>{const P=d.injector.get(i_);return P.runInitializers(),P.donePromise.then(()=>(function vF(t){Ai(t,"Expected localeId to be defined"),"string"==typeof t&&(AT=t.toLowerCase().replace(/_/g,"-"))}(d.injector.get(ls,fd)||fd),this._moduleDoBootstrap(d),d))})})}bootstrapModule(e,i=[]){const r=XS({},i);return function x2(t,n,e){const i=new $g(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(wd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Xe(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ve(sn))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();function XS(t,n){return Array.isArray(n)?n.reduce(XS,t):Object.assign(Object.assign({},t),n)}let wd=(()=>{class t{constructor(e,i,r,s,o){this._zone=e,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new T(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),l=new T(u=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{tt.assertNotInAngularZone(),s_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{tt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{d.unsubscribe(),R.unsubscribe()}});this.isStable=hn(a,l.pipe(Eu()))}bootstrap(e,i){if(!this._initStatus.done)throw new Xe(405,"");let r;r=e instanceof JT?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(r.componentType);const s=function k2(t){return t.isBoundToModule}(r)?void 0:this._injector.get(as),a=r.create(sn.NULL,[],i||r.selector,s),l=a.location.nativeElement,u=a.injector.get(l_,null),d=u&&a.injector.get(WS);return u&&d&&d.registerApplication(l,u),a.onDestroy(()=>{this.detachView(a.hostView),u_(this.components,a),d&&d.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Xe(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;u_(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(VS,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ve(tt),ve(sn),ve(Is),ve(Os),ve(i_))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function u_(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}let JS=!0,Cn=(()=>{class t{}return t.__NG_ELEMENT_ID__=$2,t})();function $2(t){return function G2(t,n,e){if(Du(t)&&!e){const i=Ri(t.index,n);return new tc(i,i)}return 47&t.type?new tc(n[16],n):null}(Ln(),ke(),16==(16&t))}class s0{constructor(){}supports(n){return zl(n)}create(n){return new Q2(n)}}const Y2=(t,n)=>n;class Q2{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Y2}forEachItem(n){let e;for(e=this._itHead;null!==e;e=e._next)n(e)}forEachOperation(n){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<a0(i,r,s)?e:i,a=a0(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const u=a-r,d=l-r;if(u!=d){for(let P=0;P<u;P++){const L=P<s.length?s[P]:s[P]=0,K=L+P;d<=K&&K<u&&(s[P]=L+1)}s[o.previousIndex]=d-u}}a!==l&&n(o,a,l)}}forEachPreviousItem(n){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachMovedItem(n){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}forEachIdentityChange(n){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)n(e)}diff(n){if(null==n&&(n=[]),!zl(n))throw new Xe(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)s=n[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function lk(t,n){if(Array.isArray(t))for(let e=0;e<t.length;e++)n(t[e]);else{const e=t[va()]();let i;for(;!(i=e.next()).done;)n(i.value)}}(n,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,e,i,r){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._reinsertAfter(n,s,r)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(n.item,e)||this._addIdentityChange(n,e),this._moveAfter(n,s,r)):n=this._addAfter(new K2(e,i),s,r),n}_verifyReinsertion(n,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?n=this._reinsertAfter(s,n._prev,r):n.currentIndex!=r&&(n.currentIndex=r,this._addToMoves(n,r)),n}_truncate(n){for(;null!==n;){const e=n._next;this._addToRemovals(this._unlink(n)),n=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const r=n._prevRemoved,s=n._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(n,e,i),this._addToMoves(n,i),n}_moveAfter(n,e,i){return this._unlink(n),this._insertAfter(n,e,i),this._addToMoves(n,i),n}_addAfter(n,e,i){return this._insertAfter(n,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,e,i){const r=null===e?this._itHead:e._next;return n._next=r,n._prev=e,null===r?this._itTail=n:r._prev=n,null===e?this._itHead=n:e._next=n,null===this._linkedRecords&&(this._linkedRecords=new o0),this._linkedRecords.put(n),n.currentIndex=i,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const e=n._prev,i=n._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,n}_addToMoves(n,e){return n.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new o0),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,e){return n.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class K2{constructor(n,e){this.item=n,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class X2{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,n))return i;return null}remove(n){const e=n._prevDup,i=n._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class o0{constructor(){this.map=new Map}put(n){const e=n.trackById;let i=this.map.get(e);i||(i=new X2,this.map.set(e,i)),i.add(n)}get(n,e){const r=this.map.get(n);return r?r.get(n,e):null}remove(n){const e=n.trackById;return this.map.get(e).remove(n)&&this.map.delete(e),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function a0(t,n,e){const i=t.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+n+r}class l0{constructor(){}supports(n){return n instanceof Map||Tg(n)}create(){return new Z2}}class Z2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let e;for(e=this._mapHead;null!==e;e=e._next)n(e)}forEachPreviousItem(n){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)n(e)}forEachChangedItem(n){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)n(e)}forEachAddedItem(n){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)n(e)}forEachRemovedItem(n){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)n(e)}diff(n){if(n){if(!(n instanceof Map||Tg(n)))throw new Xe(900,"")}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(n,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,e){if(n){const i=n._prev;return e._next=n,e._prev=i,n._prev=e,i&&(i._next=e),n===this._mapHead&&(this._mapHead=e),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(n,e){if(this._records.has(n)){const r=this._records.get(n);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new J2(n);return this._records.set(n,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,e){Object.is(e,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=e,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,e){n instanceof Map?n.forEach(e):Object.keys(n).forEach(i=>e(n[i],i))}}class J2{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function c0(){return new Ad([new s0])}let Ad=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||c0()),deps:[[t,new ao,new Qi]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new Xe(901,"")}}return t.\u0275prov=Ve({token:t,providedIn:"root",factory:c0}),t})();function u0(){return new oc([new l0])}let oc=(()=>{class t{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:i=>t.create(e,i||u0()),deps:[[t,new ao,new Qi]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Xe(901,"")}}return t.\u0275prov=Ve({token:t,providedIn:"root",factory:u0}),t})();const nU=YS(null,"core",[{provide:Sd,useValue:"unknown"},{provide:KS,deps:[sn]},{provide:WS,deps:[]},{provide:HS,deps:[]}]);let iU=(()=>{class t{constructor(e){}}return t.\u0275fac=function(e){return new(e||t)(ve(wd))},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({}),t})(),Md=null;function $r(){return Md}const Ct=new He("DocumentToken");let mo=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:function(){return function aU(){return ve(d0)}()},providedIn:"platform"}),t})();const lU=new He("Location Initialized");let d0=(()=>{class t extends mo{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $r().getBaseHref(this._doc)}onPopState(e){const i=$r().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=$r().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){h0()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){h0()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(ve(Ct))},t.\u0275prov=Ve({token:t,factory:function(){return function cU(){return new d0(ve(Ct))}()},providedIn:"platform"}),t})();function h0(){return!!window.history.pushState}function g_(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function f0(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function cs(t){return t&&"?"!==t[0]?"?"+t:t}let Va=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:function(){return function uU(t){const n=ve(Ct).location;return new p0(ve(mo),n&&n.origin||"")}()},providedIn:"root"}),t})();const __=new He("appBaseHref");let p0=(()=>{class t extends Va{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return g_(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+cs(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+cs(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+cs(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(ve(mo),ve(__,8))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})(),dU=(()=>{class t extends Va{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=g_(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+cs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+cs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return t.\u0275fac=function(e){return new(e||t)(ve(mo),ve(__,8))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})(),ac=(()=>{class t{constructor(e,i){this._subject=new et,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=f0(g0(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+cs(i))}normalize(e){return t.stripTrailingSlash(function fU(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,g0(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+cs(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+cs(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return t.normalizeQueryParams=cs,t.joinWithSlash=g_,t.stripTrailingSlash=f0,t.\u0275fac=function(e){return new(e||t)(ve(Va),ve(mo))},t.\u0275prov=Ve({token:t,factory:function(){return function hU(){return new ac(ve(Va),ve(mo))}()},providedIn:"root"}),t})();function g0(t){return t.replace(/\/index.html$/,"")}var wn=(()=>((wn=wn||{})[wn.Format=0]="Format",wn[wn.Standalone=1]="Standalone",wn))(),kt=(()=>((kt=kt||{})[kt.Narrow=0]="Narrow",kt[kt.Abbreviated=1]="Abbreviated",kt[kt.Wide=2]="Wide",kt[kt.Short=3]="Short",kt))(),pn=(()=>((pn=pn||{})[pn.Short=0]="Short",pn[pn.Medium=1]="Medium",pn[pn.Long=2]="Long",pn[pn.Full=3]="Full",pn))(),ct=(()=>((ct=ct||{})[ct.Decimal=0]="Decimal",ct[ct.Group=1]="Group",ct[ct.List=2]="List",ct[ct.PercentSign=3]="PercentSign",ct[ct.PlusSign=4]="PlusSign",ct[ct.MinusSign=5]="MinusSign",ct[ct.Exponential=6]="Exponential",ct[ct.SuperscriptingExponent=7]="SuperscriptingExponent",ct[ct.PerMille=8]="PerMille",ct[ct.Infinity=9]="Infinity",ct[ct.NaN=10]="NaN",ct[ct.TimeSeparator=11]="TimeSeparator",ct[ct.CurrencyDecimal=12]="CurrencyDecimal",ct[ct.CurrencyGroup=13]="CurrencyGroup",ct))();function Rd(t,n){return er(_i(t)[ze.DateFormat],n)}function Od(t,n){return er(_i(t)[ze.TimeFormat],n)}function Nd(t,n){return er(_i(t)[ze.DateTimeFormat],n)}function Ji(t,n){const e=_i(t),i=e[ze.NumberSymbols][n];if(void 0===i){if(n===ct.CurrencyDecimal)return e[ze.NumberSymbols][ct.Decimal];if(n===ct.CurrencyGroup)return e[ze.NumberSymbols][ct.Group]}return i}function m0(t){if(!t[ze.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ze.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function er(t,n){for(let e=n;e>-1;e--)if(void 0!==t[e])return t[e];throw new Error("Locale data API: locale data undefined")}function y_(t){const[n,e]=t.split(":");return{hours:+n,minutes:+e}}const DU=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lc={},IU=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Hn=(()=>((Hn=Hn||{})[Hn.Short=0]="Short",Hn[Hn.ShortGMT=1]="ShortGMT",Hn[Hn.Long=2]="Long",Hn[Hn.Extended=3]="Extended",Hn))(),ut=(()=>((ut=ut||{})[ut.FullYear=0]="FullYear",ut[ut.Month=1]="Month",ut[ut.Date=2]="Date",ut[ut.Hours=3]="Hours",ut[ut.Minutes=4]="Minutes",ut[ut.Seconds=5]="Seconds",ut[ut.FractionalSeconds=6]="FractionalSeconds",ut[ut.Day=7]="Day",ut))(),Rt=(()=>((Rt=Rt||{})[Rt.DayPeriods=0]="DayPeriods",Rt[Rt.Days=1]="Days",Rt[Rt.Months=2]="Months",Rt[Rt.Eras=3]="Eras",Rt))();function AU(t,n,e,i){let r=function LU(t){if(b0(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[r,s=1,o=1]=t.split("-").map(a=>+a);return Pd(r,s-1,o)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let i;if(i=t.match(DU))return function UU(t){const n=new Date(0);let e=0,i=0;const r=t[8]?n.setUTCFullYear:n.setFullYear,s=t[8]?n.setUTCHours:n.setHours;t[9]&&(e=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(n,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-e,a=Number(t[5]||0)-i,l=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(n,o,a,l,u),n}(i)}const n=new Date(t);if(!b0(n))throw new Error(`Unable to convert "${t}" into a date`);return n}(t);n=us(e,n)||n;let a,o=[];for(;n;){if(a=IU.exec(n),!a){o.push(n);break}{o=o.concat(a.slice(1));const d=o.pop();if(!d)break;n=d}}let l=r.getTimezoneOffset();i&&(l=E0(i,l),r=function FU(t,n,e){const i=e?-1:1,r=t.getTimezoneOffset();return function kU(t,n){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+n),t}(t,i*(E0(n,r)-r))}(r,i,!0));let u="";return o.forEach(d=>{const R=function xU(t){if(b_[t])return b_[t];let n;switch(t){case"G":case"GG":case"GGG":n=on(Rt.Eras,kt.Abbreviated);break;case"GGGG":n=on(Rt.Eras,kt.Wide);break;case"GGGGG":n=on(Rt.Eras,kt.Narrow);break;case"y":n=Nn(ut.FullYear,1,0,!1,!0);break;case"yy":n=Nn(ut.FullYear,2,0,!0,!0);break;case"yyy":n=Nn(ut.FullYear,3,0,!1,!0);break;case"yyyy":n=Nn(ut.FullYear,4,0,!1,!0);break;case"Y":n=Ld(1);break;case"YY":n=Ld(2,!0);break;case"YYY":n=Ld(3);break;case"YYYY":n=Ld(4);break;case"M":case"L":n=Nn(ut.Month,1,1);break;case"MM":case"LL":n=Nn(ut.Month,2,1);break;case"MMM":n=on(Rt.Months,kt.Abbreviated);break;case"MMMM":n=on(Rt.Months,kt.Wide);break;case"MMMMM":n=on(Rt.Months,kt.Narrow);break;case"LLL":n=on(Rt.Months,kt.Abbreviated,wn.Standalone);break;case"LLLL":n=on(Rt.Months,kt.Wide,wn.Standalone);break;case"LLLLL":n=on(Rt.Months,kt.Narrow,wn.Standalone);break;case"w":n=E_(1);break;case"ww":n=E_(2);break;case"W":n=E_(1,!0);break;case"d":n=Nn(ut.Date,1);break;case"dd":n=Nn(ut.Date,2);break;case"c":case"cc":n=Nn(ut.Day,1);break;case"ccc":n=on(Rt.Days,kt.Abbreviated,wn.Standalone);break;case"cccc":n=on(Rt.Days,kt.Wide,wn.Standalone);break;case"ccccc":n=on(Rt.Days,kt.Narrow,wn.Standalone);break;case"cccccc":n=on(Rt.Days,kt.Short,wn.Standalone);break;case"E":case"EE":case"EEE":n=on(Rt.Days,kt.Abbreviated);break;case"EEEE":n=on(Rt.Days,kt.Wide);break;case"EEEEE":n=on(Rt.Days,kt.Narrow);break;case"EEEEEE":n=on(Rt.Days,kt.Short);break;case"a":case"aa":case"aaa":n=on(Rt.DayPeriods,kt.Abbreviated);break;case"aaaa":n=on(Rt.DayPeriods,kt.Wide);break;case"aaaaa":n=on(Rt.DayPeriods,kt.Narrow);break;case"b":case"bb":case"bbb":n=on(Rt.DayPeriods,kt.Abbreviated,wn.Standalone,!0);break;case"bbbb":n=on(Rt.DayPeriods,kt.Wide,wn.Standalone,!0);break;case"bbbbb":n=on(Rt.DayPeriods,kt.Narrow,wn.Standalone,!0);break;case"B":case"BB":case"BBB":n=on(Rt.DayPeriods,kt.Abbreviated,wn.Format,!0);break;case"BBBB":n=on(Rt.DayPeriods,kt.Wide,wn.Format,!0);break;case"BBBBB":n=on(Rt.DayPeriods,kt.Narrow,wn.Format,!0);break;case"h":n=Nn(ut.Hours,1,-12);break;case"hh":n=Nn(ut.Hours,2,-12);break;case"H":n=Nn(ut.Hours,1);break;case"HH":n=Nn(ut.Hours,2);break;case"m":n=Nn(ut.Minutes,1);break;case"mm":n=Nn(ut.Minutes,2);break;case"s":n=Nn(ut.Seconds,1);break;case"ss":n=Nn(ut.Seconds,2);break;case"S":n=Nn(ut.FractionalSeconds,1);break;case"SS":n=Nn(ut.FractionalSeconds,2);break;case"SSS":n=Nn(ut.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":n=kd(Hn.Short);break;case"ZZZZZ":n=kd(Hn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=kd(Hn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":n=kd(Hn.Long);break;default:return null}return b_[t]=n,n}(d);u+=R?R(r,e,l):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Pd(t,n,e){const i=new Date(0);return i.setFullYear(t,n,e),i.setHours(0,0,0),i}function us(t,n){const e=function pU(t){return _i(t)[ze.LocaleId]}(t);if(lc[e]=lc[e]||{},lc[e][n])return lc[e][n];let i="";switch(n){case"shortDate":i=Rd(t,pn.Short);break;case"mediumDate":i=Rd(t,pn.Medium);break;case"longDate":i=Rd(t,pn.Long);break;case"fullDate":i=Rd(t,pn.Full);break;case"shortTime":i=Od(t,pn.Short);break;case"mediumTime":i=Od(t,pn.Medium);break;case"longTime":i=Od(t,pn.Long);break;case"fullTime":i=Od(t,pn.Full);break;case"short":const r=us(t,"shortTime"),s=us(t,"shortDate");i=xd(Nd(t,pn.Short),[r,s]);break;case"medium":const o=us(t,"mediumTime"),a=us(t,"mediumDate");i=xd(Nd(t,pn.Medium),[o,a]);break;case"long":const l=us(t,"longTime"),u=us(t,"longDate");i=xd(Nd(t,pn.Long),[l,u]);break;case"full":const d=us(t,"fullTime"),R=us(t,"fullDate");i=xd(Nd(t,pn.Full),[d,R])}return i&&(lc[e][n]=i),i}function xd(t,n){return n&&(t=t.replace(/\{([^}]+)}/g,function(e,i){return null!=n&&i in n?n[i]:e})),t}function Sr(t,n,e="-",i,r){let s="";(t<0||r&&t<=0)&&(r?t=1-t:(t=-t,s=e));let o=String(t);for(;o.length<n;)o="0"+o;return i&&(o=o.substr(o.length-n)),s+o}function Nn(t,n,e=0,i=!1,r=!1){return function(s,o){let a=function RU(t,n){switch(t){case ut.FullYear:return n.getFullYear();case ut.Month:return n.getMonth();case ut.Date:return n.getDate();case ut.Hours:return n.getHours();case ut.Minutes:return n.getMinutes();case ut.Seconds:return n.getSeconds();case ut.FractionalSeconds:return n.getMilliseconds();case ut.Day:return n.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((e>0||a>-e)&&(a+=e),t===ut.Hours)0===a&&-12===e&&(a=12);else if(t===ut.FractionalSeconds)return function MU(t,n){return Sr(t,3).substr(0,n)}(a,n);const l=Ji(o,ct.MinusSign);return Sr(a,n,l,i,r)}}function on(t,n,e=wn.Format,i=!1){return function(r,s){return function OU(t,n,e,i,r,s){switch(e){case Rt.Months:return function mU(t,n,e){const i=_i(t),s=er([i[ze.MonthsFormat],i[ze.MonthsStandalone]],n);return er(s,e)}(n,r,i)[t.getMonth()];case Rt.Days:return function _U(t,n,e){const i=_i(t),s=er([i[ze.DaysFormat],i[ze.DaysStandalone]],n);return er(s,e)}(n,r,i)[t.getDay()];case Rt.DayPeriods:const o=t.getHours(),a=t.getMinutes();if(s){const u=function vU(t){const n=_i(t);return m0(n),(n[ze.ExtraData][2]||[]).map(i=>"string"==typeof i?y_(i):[y_(i[0]),y_(i[1])])}(n),d=function CU(t,n,e){const i=_i(t);m0(i);const s=er([i[ze.ExtraData][0],i[ze.ExtraData][1]],n)||[];return er(s,e)||[]}(n,r,i),R=u.findIndex(P=>{if(Array.isArray(P)){const[L,K]=P,ce=o>=L.hours&&a>=L.minutes,he=o<K.hours||o===K.hours&&a<K.minutes;if(L.hours<K.hours){if(ce&&he)return!0}else if(ce||he)return!0}else if(P.hours===o&&P.minutes===a)return!0;return!1});if(-1!==R)return d[R]}return function gU(t,n,e){const i=_i(t),s=er([i[ze.DayPeriodsFormat],i[ze.DayPeriodsStandalone]],n);return er(s,e)}(n,r,i)[o<12?0:1];case Rt.Eras:return function yU(t,n){return er(_i(t)[ze.Eras],n)}(n,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,t,n,e,i)}}function kd(t){return function(n,e,i){const r=-1*i,s=Ji(e,ct.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Hn.Short:return(r>=0?"+":"")+Sr(o,2,s)+Sr(Math.abs(r%60),2,s);case Hn.ShortGMT:return"GMT"+(r>=0?"+":"")+Sr(o,1,s);case Hn.Long:return"GMT"+(r>=0?"+":"")+Sr(o,2,s)+":"+Sr(Math.abs(r%60),2,s);case Hn.Extended:return 0===i?"Z":(r>=0?"+":"")+Sr(o,2,s)+":"+Sr(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function y0(t){return Pd(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function E_(t,n=!1){return function(e,i){let r;if(n){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+s)/7)}else{const s=y0(e),o=function PU(t){const n=Pd(t,0,1).getDay();return Pd(t,0,1+(n<=4?4:11)-n)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Sr(r,t,Ji(i,ct.MinusSign))}}function Ld(t,n=!1){return function(e,i){return Sr(y0(e).getFullYear(),t,Ji(i,ct.MinusSign),n)}}const b_={};function E0(t,n){t=t.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?n:e}function b0(t){return t instanceof Date&&!isNaN(t.valueOf())}let Bd=(()=>{class t{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(zl(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Qt(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return t.\u0275fac=function(e){return new(e||t)(X(Ad),X(oc),X(ht),X(Hr))},t.\u0275dir=Ue({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class ZU{constructor(n,e,i,r){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yo=(()=>{class t{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ZU(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),S0(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{S0(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(X(qn),X(Xn),X(Ad))},t.\u0275dir=Ue({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function S0(t,n){t.context.$implicit=n.item}let Fi=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new JU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){w0("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){w0("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return t.\u0275fac=function(e){return new(e||t)(X(qn),X(Xn))},t.\u0275dir=Ue({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class JU{constructor(){this.$implicit=null,this.ngIf=null}}function w0(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Qt(n)}'.`)}class D_{constructor(n,e){this._viewContainerRef=n,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let uc=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ue({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),I_=(()=>{class t{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new D_(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(X(qn),X(Xn),X(uc,9))},t.\u0275dir=Ue({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),D0=(()=>{class t{constructor(e,i,r){r._addDefault(new D_(e,i))}}return t.\u0275fac=function(e){return new(e||t)(X(qn),X(Xn),X(uc,9))},t.\u0275dir=Ue({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),A0=(()=>{class t{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(e){return new(e||t)(X(qn))},t.\u0275dir=Ue({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[An]}),t})();function wr(t,n){return new Xe(2100,"")}class nB{createSubscription(n,e){return n.subscribe({next:e,error:i=>{throw i}})}dispose(n){n.unsubscribe()}onDestroy(n){n.unsubscribe()}}class iB{createSubscription(n,e){return n.then(e,i=>{throw i})}dispose(n){}onDestroy(n){}}const rB=new iB,sB=new nB;let dc=(()=>{class t{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(Yl(e))return rB;if(UC(e))return sB;throw wr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(X(Cn,16))},t.\u0275pipe=hi({name:"async",type:t,pure:!1}),t})();const uB=new He("DATE_PIPE_DEFAULT_TIMEZONE");let M0=(()=>{class t{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){var o;if(null==e||""===e||e!=e)return null;try{return AU(e,i,s||this.locale,null!==(o=null!=r?r:this.defaultTimezone)&&void 0!==o?o:void 0)}catch(a){throw wr()}}}return t.\u0275fac=function(e){return new(e||t)(X(ls,16),X(uB,24))},t.\u0275pipe=hi({name:"date",type:t,pure:!0}),t})(),R0=(()=>{class t{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=O0}transform(e,i=O0){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),s=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(o=>{this.keyValues.push(function gB(t,n){return{key:t,value:n}}(o.key,o.currentValue))})),(r||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return t.\u0275fac=function(e){return new(e||t)(X(oc,16))},t.\u0275pipe=hi({name:"keyvalue",type:t,pure:!1}),t})();function O0(t,n){const e=t.key,i=n.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),s=String(i);return r==s?0:r<s?-1:1}let Dr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({}),t})();const N0="browser";let SB=(()=>{class t{}return t.\u0275prov=Ve({token:t,providedIn:"root",factory:()=>new wB(ve(Ct),window)}),t})();class wB{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function DB(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=P0(this.window.history)||P0(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function P0(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class R_ extends class AB extends class oU{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function sU(t){Md||(Md=t)}(new R_)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function MB(){return hc=hc||document.querySelector("base"),hc?hc.getAttribute("href"):null}();return null==e?null:function RB(t){Vd=Vd||document.createElement("a"),Vd.setAttribute("href",t);const n=Vd.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function KU(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===n)return decodeURIComponent(s)}return null}(document.cookie,n)}}let Vd,hc=null;const x0=new He("TRANSITION_ID"),NB=[{provide:n_,useFactory:function OB(t,n,e){return()=>{e.get(i_).donePromise.then(()=>{const i=$r(),r=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[x0,Ct,sn],multi:!0}];class O_{static init(){!function P2(t){c_=t}(new O_)}addToWindow(n){Xt.getAngularTestability=(i,r=!0)=>{const s=n.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Xt.getAllAngularTestabilities=()=>n.getAllTestabilities(),Xt.getAllAngularRootElements=()=>n.getAllRootElements(),Xt.frameworkStabilizers||(Xt.frameworkStabilizers=[]),Xt.frameworkStabilizers.push(i=>{const r=Xt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(n,e,i){if(null==e)return null;const r=n.getTestability(e);return null!=r?r:i?$r().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let PB=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();const Hd=new He("EventManagerPlugins");let $d=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(ve(Hd),ve(tt))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();class k0{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const r=$r().getGlobalEventTarget(this._doc,n);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let F0=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})(),fc=(()=>{class t extends F0{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(L0),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(L0))}}return t.\u0275fac=function(e){return new(e||t)(ve(Ct))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();function L0(t){$r().remove(t)}const N_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},P_=/%COMP%/g;function Gd(t,n,e){for(let i=0;i<n.length;i++){let r=n[i];Array.isArray(r)?Gd(t,r,e):(r=r.replace(P_,t),e.push(r))}return e}function V0(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let jd=(()=>{class t{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new x_(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case hr.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new BB(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case hr.ShadowDom:return new VB(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Gd(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(ve($d),ve(fc),ve(sc))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();class x_{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(N_[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,i){n&&n.insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,r){if(r){e=r+":"+e;const s=N_[r];s?n.setAttributeNS(s,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const r=N_[i];r?n.removeAttributeNS(r,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,r){r&(Pi.DashCase|Pi.Important)?n.style.setProperty(e,i,r&Pi.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&Pi.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,V0(i)):this.eventManager.addEventListener(n,e,V0(i))}}class BB extends x_{constructor(n,e,i,r){super(n),this.component=i;const s=Gd(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function FB(t){return"_ngcontent-%COMP%".replace(P_,t)}(r+"-"+i.id),this.hostAttr=function LB(t){return"_nghost-%COMP%".replace(P_,t)}(r+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}class VB extends x_{constructor(n,e,i,r){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Gd(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let HB=(()=>{class t extends k0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return t.\u0275fac=function(e){return new(e||t)(ve(Ct))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();const $0=["alt","control","meta","shift"],GB={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},G0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},jB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let WB=(()=>{class t extends k0{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,r){const s=t.parseEventName(i),o=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$r().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=t._normalizeKey(i.pop());let o="";if($0.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(e){let i="",r=function zB(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&G0.hasOwnProperty(n)&&(n=G0[n]))}return GB[n]||n}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),$0.forEach(s=>{s!=r&&jB[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{t.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return t.\u0275fac=function(e){return new(e||t)(ve(Ct))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();const KB=YS(nU,"browser",[{provide:Sd,useValue:N0},{provide:BS,useValue:function qB(){R_.makeCurrent(),O_.init()},multi:!0},{provide:Ct,useFactory:function QB(){return function yN(t){np=t}(document),document},deps:[]}]),XB=[{provide:mg,useValue:"root"},{provide:Is,useFactory:function YB(){return new Is},deps:[]},{provide:Hd,useClass:HB,multi:!0,deps:[Ct,tt,Sd]},{provide:Hd,useClass:WB,multi:!0,deps:[Ct]},{provide:jd,useClass:jd,deps:[$d,fc,sc]},{provide:ec,useExisting:jd},{provide:F0,useExisting:fc},{provide:fc,useClass:fc,deps:[Ct]},{provide:l_,useClass:l_,deps:[tt]},{provide:$d,useClass:$d,deps:[Hd,tt]},{provide:class IB{},useClass:PB,deps:[]}];let j0=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:sc,useValue:e.appId},{provide:x0,useExisting:sc},NB]}}}return t.\u0275fac=function(e){return new(e||t)(ve(t,12))},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({providers:XB,imports:[Dr,iU]}),t})();"undefined"!=typeof window&&window;let F_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:function(e){let i=null;return i=e?new(e||t):ve(q0),i},providedIn:"root"}),t})(),q0=(()=>{class t extends F_{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case qt.NONE:return i;case qt.HTML:return Pr(i,"HTML")?Ni(i):jb(this._doc,String(i)).toString();case qt.STYLE:return Pr(i,"Style")?Ni(i):i;case qt.SCRIPT:if(Pr(i,"Script"))return Ni(i);throw new Error("unsafe value used in a script context");case qt.URL:return Fb(i),Pr(i,"URL")?Ni(i):Ll(String(i));case qt.RESOURCE_URL:if(Pr(i,"ResourceURL"))return Ni(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function RP(t){return new wP(t)}(e)}bypassSecurityTrustStyle(e){return function OP(t){return new DP(t)}(e)}bypassSecurityTrustScript(e){return function NP(t){return new IP(t)}(e)}bypassSecurityTrustUrl(e){return function PP(t){return new AP(t)}(e)}bypassSecurityTrustResourceUrl(e){return function xP(t){return new MP(t)}(e)}}return t.\u0275fac=function(e){return new(e||t)(ve(Ct))},t.\u0275prov=Ve({token:t,factory:function(e){let i=null;return i=e?new e:function l3(t){return new q0(t.get(Ct))}(ve(sn)),i},providedIn:"root"}),t})();function it(...t){return Fn(t,bl(t))}class ci extends le{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return!e.closed&&n.next(this._value),e}getValue(){const{hasError:n,thrownError:e,_value:i}=this;if(n)throw e;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}}const{isArray:c3}=Array,{getPrototypeOf:u3,prototype:d3,keys:h3}=Object;function Y0(t){if(1===t.length){const n=t[0];if(c3(n))return{args:n,keys:null};if(function f3(t){return t&&"object"==typeof t&&u3(t)===d3}(n)){const e=h3(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:p3}=Array;function L_(t){return de(n=>function g3(t,n){return p3(n)?t(...n):t(n)}(t,n))}function Q0(t,n){return t.reduce((e,i,r)=>(e[i]=n[r],e),{})}function K0(...t){const n=bl(t),e=Bf(t),{args:i,keys:r}=Y0(t);if(0===i.length)return Fn([],n);const s=new T(function _3(t,n,e=ie){return i=>{X0(n,()=>{const{length:r}=t,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)X0(n,()=>{const u=Fn(t[l],n);let d=!1;u.subscribe(ue(i,R=>{s[l]=R,d||(d=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,n,r?o=>Q0(r,o):ie));return e?s.pipe(L_(e)):s}function X0(t,n,e){t?es(e,t,n):n()}function tr(t,n){const e=Ft(t)?t:()=>t,i=r=>r.error(e());return new T(n?r=>n.schedule(i,0,r):i)}const Ha=E(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Wd(...t){return function m3(){return El(1)}()(Fn(t,bl(t)))}function $a(t){return new T(n=>{Wn(t()).subscribe(n)})}function Z0(){return ye((t,n)=>{let e=null;t._refCount++;const i=ue(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const r=t._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class y3 extends T{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Ee(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,null==n||n.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new h;const e=this.getSubject();n.add(this.source.subscribe(ue(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=h.EMPTY)}return n}refCount(){return Z0()(this)}}function nr(t,n){return ye((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(ue(i,l=>{null==r||r.unsubscribe();let u=0;const d=s++;Wn(t(l,d)).subscribe(r=ue(i,R=>i.next(n?n(l,R,d,u++):R),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function yi(...t){const n=bl(t);return ye((e,i)=>{(n?Wd(t,e,n):Wd(t,e)).subscribe(i)})}function E3(t,n,e,i,r){return(s,o)=>{let a=e,l=n,u=0;s.subscribe(ue(o,d=>{const R=u++;l=a?t(l,d,R):(a=!0,d),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function J0(t,n){return ye(E3(t,n,arguments.length>=2,!0))}function Dn(t,n){return ye((e,i)=>{let r=0;e.subscribe(ue(i,s=>t.call(n,s,r++)&&i.next(s)))})}function Gr(t){return ye((n,e)=>{let s,i=null,r=!1;i=n.subscribe(ue(e,void 0,void 0,o=>{s=Wn(t(o,Gr(t)(n))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Ga(t,n){return Ft(n)?mn(t,n,1):mn(t,1)}function U_(t){return t<=0?()=>ur:ye((n,e)=>{let i=[];n.subscribe(ue(e,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function ew(t=b3){return ye((n,e)=>{let i=!1;n.subscribe(ue(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(t())))})}function b3(){return new Ha}function tw(t){return ye((n,e)=>{let i=!1;n.subscribe(ue(e,r=>{i=!0,e.next(r)},()=>{i||e.next(t),e.complete()}))})}function Ps(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Dn((r,s)=>t(r,s,i)):ie,In(1),e?tw(n):ew(()=>new Ha))}function Pn(t,n,e){const i=Ft(t)||n||e?{next:t,error:n,complete:e}:t;return i?ye((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(ue(s,l=>{var u;null===(u=i.next)||void 0===u||u.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var u;a=!1,null===(u=i.error)||void 0===u||u.call(i,l),s.error(l)},()=>{var l,u;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(u=i.finalize)||void 0===u||u.call(i)}))}):ie}function pc(t){return ye((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}class ds{constructor(n,e){this.id=n,this.url=e}}class B_ extends ds{constructor(n,e,i="imperative",r=null){super(n,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gc extends ds{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nw extends ds{constructor(n,e,i){super(n,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class C3 extends ds{constructor(n,e,i){super(n,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class T3 extends ds{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S3 extends ds{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w3 extends ds{constructor(n,e,i,r,s){super(n,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class D3 extends ds{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class I3 extends ds{constructor(n,e,i,r){super(n,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iw{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rw{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class A3{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M3{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R3{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class O3{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sw{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xt="primary";class N3{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ja(t){return new N3(t)}const ow="ngNavigationCancelingError";function V_(t){const n=Error("NavigationCancelingError: "+t);return n[ow]=!0,n}function x3(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function jr(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!aw(t[r],n[r]))return!1;return!0}function aw(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((r,s)=>i[s]===r)}return t===n}function lw(t){return Array.prototype.concat.apply([],t)}function cw(t){return t.length>0?t[t.length-1]:null}function Zn(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function Wr(t){return Mg(t)?t:Yl(t)?Fn(Promise.resolve(t)):it(t)}const L3={exact:function hw(t,n,e){if(!bo(t.segments,n.segments)||!zd(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!hw(t.children[i],n.children[i],e))return!1;return!0},subset:fw},uw={exact:function U3(t,n){return jr(t,n)},subset:function B3(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>aw(t[e],n[e]))},ignored:()=>!0};function dw(t,n,e){return L3[e.paths](t.root,n.root,e.matrixParams)&&uw[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function fw(t,n,e){return pw(t,n,n.segments,e)}function pw(t,n,e,i){if(t.segments.length>e.length){const r=t.segments.slice(0,e.length);return!(!bo(r,e)||n.hasChildren()||!zd(r,e,i))}if(t.segments.length===e.length){if(!bo(t.segments,e)||!zd(t.segments,e,i))return!1;for(const r in n.children)if(!t.children[r]||!fw(t.children[r],n.children[r],i))return!1;return!0}{const r=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(bo(t.segments,r)&&zd(t.segments,r,i)&&t.children[xt])&&pw(t.children[xt],n,s,i)}}function zd(t,n,e){return n.every((i,r)=>uw[e](t[r].parameters,i.parameters))}class Eo{constructor(n,e,i){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ja(this.queryParams)),this._queryParamMap}toString(){return $3.serialize(this)}}class Ut{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Zn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qd(this)}}class _c{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ja(this.parameters)),this._parameterMap}toString(){return Ew(this)}}function bo(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}class gw{}class _w{parse(n){const e=new X3(n);return new Eo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${mc(n.root,!0)}`,i=function W3(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(r=>`${Yd(e)}=${Yd(r)}`).join("&"):`${Yd(e)}=${Yd(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function G3(t){return encodeURI(t)}(n.fragment)}`:""}`}}const $3=new _w;function qd(t){return t.segments.map(n=>Ew(n)).join("/")}function mc(t,n){if(!t.hasChildren())return qd(t);if(n){const e=t.children[xt]?mc(t.children[xt],!1):"",i=[];return Zn(t.children,(r,s)=>{s!==xt&&i.push(`${s}:${mc(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function H3(t,n){let e=[];return Zn(t.children,(i,r)=>{r===xt&&(e=e.concat(n(i,r)))}),Zn(t.children,(i,r)=>{r!==xt&&(e=e.concat(n(i,r)))}),e}(t,(i,r)=>r===xt?[mc(t.children[xt],!1)]:[`${r}:${mc(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[xt]?`${qd(t)}/${e[0]}`:`${qd(t)}/(${e.join("//")})`}}function mw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yd(t){return mw(t).replace(/%3B/gi,";")}function H_(t){return mw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qd(t){return decodeURIComponent(t)}function yw(t){return Qd(t.replace(/\+/g,"%20"))}function Ew(t){return`${H_(t.path)}${function j3(t){return Object.keys(t).map(n=>`;${H_(n)}=${H_(t[n])}`).join("")}(t.parameters)}`}const z3=/^[^\/()?;=#]+/;function Kd(t){const n=t.match(z3);return n?n[0]:""}const q3=/^[^=?&#]+/,Q3=/^[^&#]+/;class X3{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[xt]=new Ut(n,e)),i}parseSegment(){const n=Kd(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new _c(Qd(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=Kd(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Kd(this.remaining);r&&(i=r,this.capture(i))}n[Qd(e)]=Qd(i)}parseQueryParam(n){const e=function Y3(t){const n=t.match(q3);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function K3(t){const n=t.match(Q3);return n?n[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=yw(e),s=yw(i);if(n.hasOwnProperty(r)){let o=n[r];Array.isArray(o)||(o=[o],n[r]=o),o.push(s)}else n[r]=s}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Kd(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=xt);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[xt]:new Ut([],o),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class bw{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=$_(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=$_(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=G_(n,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return G_(n,this._root).map(e=>e.value)}}function $_(t,n){if(t===n.value)return n;for(const e of n.children){const i=$_(t,e);if(i)return i}return null}function G_(t,n){if(t===n.value)return[n];for(const e of n.children){const i=G_(t,e);if(i.length)return i.unshift(n),i}return[]}class hs{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Wa(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class vw extends bw{constructor(n,e){super(n),this.snapshot=e,j_(this,n)}toString(){return this.snapshot.toString()}}function Cw(t,n){const e=function Z3(t,n){const o=new Xd([],{},{},"",{},xt,n,null,t.root,-1,{});return new Sw("",new hs(o,[]))}(t,n),i=new ci([new _c("",{})]),r=new ci({}),s=new ci({}),o=new ci({}),a=new ci(""),l=new za(i,r,o,a,s,xt,n,e.root);return l.snapshot=e.root,new vw(new hs(l,[]),e)}class za{constructor(n,e,i,r,s,o,a,l){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(de(n=>ja(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(de(n=>ja(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tw(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function J3(t){return t.reduce((n,e)=>({params:Object.assign(Object.assign({},n.params),e.params),data:Object.assign(Object.assign({},n.data),e.data),resolve:Object.assign(Object.assign({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Xd{constructor(n,e,i,r,s,o,a,l,u,d,R){this.url=n,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=d,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ja(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ja(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sw extends bw{constructor(n,e){super(e),this.url=n,j_(this,e)}toString(){return ww(this._root)}}function j_(t,n){n.value._routerState=t,n.children.forEach(e=>j_(t,e))}function ww(t){const n=t.children.length>0?` { ${t.children.map(ww).join(", ")} } `:"";return`${t.value}${n}`}function W_(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,jr(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),jr(n.params,e.params)||t.params.next(e.params),function k3(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!jr(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),jr(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function z_(t,n){const e=jr(t.params,n.params)&&function V3(t,n){return bo(t,n)&&t.every((e,i)=>jr(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||z_(t.parent,n.parent))}function yc(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const r=function tV(t,n,e){return n.children.map(i=>{for(const r of e.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return yc(t,i,r);return yc(t,i)})}(t,n,e);return new hs(i,r)}{if(t.shouldAttach(n.value)){const s=t.retrieve(n.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(a=>yc(t,a)),o}}const i=function nV(t){return new za(new ci(t.url),new ci(t.params),new ci(t.queryParams),new ci(t.fragment),new ci(t.data),t.outlet,t.component,t)}(n.value),r=n.children.map(s=>yc(t,s));return new hs(i,r)}}function Zd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ec(t){return"object"==typeof t&&null!=t&&t.outlets}function q_(t,n,e,i,r){let s={};if(i&&Zn(i,(a,l)=>{s[l]=Array.isArray(a)?a.map(u=>`${u}`):`${a}`}),t===n)return new Eo(e,s,r);const o=Dw(t,n,e);return new Eo(o,s,r)}function Dw(t,n,e){const i={};return Zn(t.children,(r,s)=>{i[s]=r===n?e:Dw(r,n,e)}),new Ut(t.segments,i)}class Iw{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Zd(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Ec);if(r&&r!==cw(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Y_{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function Aw(t,n,e){if(t||(t=new Ut([],{})),0===t.segments.length&&t.hasChildren())return Jd(t,n,e);const i=function lV(t,n,e){let i=0,r=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=e.length)return s;const o=t.segments[r],a=e[i];if(Ec(a))break;const l=`${a}`,u=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!Rw(l,u,o))return s;i+=2}else{if(!Rw(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,n,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new Ut(t.segments.slice(0,i.pathIndex),{});return s.children[xt]=new Ut(t.segments.slice(i.pathIndex),t.children),Jd(s,0,r)}return i.match&&0===r.length?new Ut(t.segments,{}):i.match&&!t.hasChildren()?Q_(t,n,e):i.match?Jd(t,0,r):Q_(t,n,e)}function Jd(t,n,e){if(0===e.length)return new Ut(t.segments,{});{const i=function aV(t){return Ec(t[0])?t[0].outlets:{[xt]:t}}(e),r={};return Zn(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=Aw(t.children[o],n,s))}),Zn(t.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new Ut(t.segments,r)}}function Q_(t,n,e){const i=t.segments.slice(0,n);let r=0;for(;r<e.length;){const s=e[r];if(Ec(s)){const l=cV(s.outlets);return new Ut(i,l)}if(0===r&&Zd(e[0])){i.push(new _c(t.segments[n].path,Mw(e[0]))),r++;continue}const o=Ec(s)?s.outlets[xt]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&Zd(a)?(i.push(new _c(o,Mw(a))),r+=2):(i.push(new _c(o,{})),r++)}return new Ut(i,{})}function cV(t){const n={};return Zn(t,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[i]=Q_(new Ut([],{}),0,e))}),n}function Mw(t){const n={};return Zn(t,(e,i)=>n[i]=`${e}`),n}function Rw(t,n,e){return t==e.path&&jr(n,e.parameters)}class dV{constructor(n,e,i,r){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),W_(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const r=Wa(e);n.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Zn(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(n,e,i){const r=n.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(n,e,o.children)}else this.deactivateChildRoutes(n,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,s=Wa(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:a})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),r=i&&n.value.component?i.children:e,s=Wa(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(n,e,i){const r=Wa(e);n.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new O3(s.value.snapshot))}),n.children.length&&this.forwardEvent(new M3(n.value.snapshot))}activateRoutes(n,e,i){const r=n.value,s=e?e.value:null;if(W_(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,e,o.children)}else this.activateChildRoutes(n,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),W_(a.route.value),this.activateChildRoutes(n,null,o.children)}else{const a=function hV(t){for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(n,null,o.children)}}else this.activateChildRoutes(n,null,i)}}class K_{constructor(n,e){this.routes=n,this.module=e}}function xs(t){return"function"==typeof t}function vo(t){return t instanceof Eo}const bc=Symbol("INITIAL_VALUE");function vc(){return nr(t=>K0(t.map(n=>n.pipe(In(1),yi(bc)))).pipe(J0((n,e)=>{let i=!1;return e.reduce((r,s,o)=>r!==bc?r:(s===bc&&(i=!0),i||!1!==s&&o!==e.length-1&&!vo(s)?r:s),n)},bc),Dn(n=>n!==bc),de(n=>vo(n)?n:!0===n),In(1)))}class yV{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cc,this.attachRef=null}}class Cc{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const i=this.getOrCreateContext(n);i.outlet=e,this.contexts.set(n,i)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new yV,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}let X_=(()=>{class t{constructor(e,i,r,s,o){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new et,this.deactivateEvents=new et,this.attachEvents=new et,this.detachEvents=new et,this.name=s||xt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const o=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new EV(e,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(X(Cc),X(qn),X(Os),Ds("name"),X(Cn))},t.\u0275dir=Ue({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class EV{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===za?this.route:n===Cc?this.childContexts:this.parent.get(n,e)}}let Ow=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&Lt(0,"router-outlet")},directives:[X_],encapsulation:2}),t})();function Nw(t,n=""){for(let e=0;e<t.length;e++){const i=t[e];bV(i,vV(n,i))}}function bV(t,n){t.children&&Nw(t.children,n)}function vV(t,n){return n?t||n.path?t&&!n.path?`${t}/`:!t&&n.path?n.path:`${t}/${n.path}`:"":t}function Z_(t){const n=t.children&&t.children.map(Z_),e=n?Object.assign(Object.assign({},t),{children:n}):Object.assign({},t);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==xt&&(e.component=Ow),e}function ir(t){return t.outlet||xt}function Pw(t,n){const e=t.filter(i=>ir(i)===n);return e.push(...t.filter(i=>ir(i)!==n)),e}const xw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eh(t,n,e){var i;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},xw):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const s=(n.matcher||x3)(e,t,n);if(!s)return Object.assign({},xw);const o={};Zn(s.posParams,(l,u)=>{o[u]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:e.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function th(t,n,e,i,r="corrected"){if(e.length>0&&function SV(t,n,e){return e.some(i=>nh(t,n,i)&&ir(i)!==xt)}(t,e,i)){const o=new Ut(n,function TV(t,n,e,i){const r={};r[xt]=i,i._sourceSegment=t,i._segmentIndexShift=n.length;for(const s of e)if(""===s.path&&ir(s)!==xt){const o=new Ut([],{});o._sourceSegment=t,o._segmentIndexShift=n.length,r[ir(s)]=o}return r}(t,n,i,new Ut(e,t.children)));return o._sourceSegment=t,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function wV(t,n,e){return e.some(i=>nh(t,n,i))}(t,e,i)){const o=new Ut(t.segments,function CV(t,n,e,i,r,s){const o={};for(const a of i)if(nh(t,e,a)&&!r[ir(a)]){const l=new Ut([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===s?t.segments.length:n.length,o[ir(a)]=l}return Object.assign(Object.assign({},r),o)}(t,n,e,i,t.children,r));return o._sourceSegment=t,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:e}}const s=new Ut(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:e}}function nh(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function kw(t,n,e,i){return!!(ir(t)===i||i!==xt&&nh(n,e,t))&&("**"===t.path||eh(n,t,e).matched)}function Fw(t,n,e){return 0===n.length&&!t.children[e]}class ih{constructor(n){this.segmentGroup=n||null}}class Lw{constructor(n){this.urlTree=n}}function Tc(t){return tr(new ih(t))}function Uw(t){return tr(new Lw(t))}class MV{constructor(n,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=n.get(as)}apply(){const n=th(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ut(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,xt).pipe(de(s=>this.createUrlTree(J_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gr(s=>{if(s instanceof Lw)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof ih?this.noMatchError(s):s}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,xt).pipe(de(r=>this.createUrlTree(J_(r),n.queryParams,n.fragment))).pipe(Gr(r=>{throw r instanceof ih?this.noMatchError(r):r}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,i){const r=n.segments.length>0?new Ut([],{[xt]:n}):n;return new Eo(r,e,i)}expandSegmentGroup(n,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(n,e,i).pipe(de(s=>new Ut([],s))):this.expandSegment(n,i,e,i.segments,r,!0)}expandChildren(n,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return Fn(r).pipe(Ga(s=>{const o=i.children[s],a=Pw(e,s);return this.expandSegmentGroup(n,a,o,s).pipe(de(l=>({segment:l,outlet:s})))}),J0((s,o)=>(s[o.outlet]=o.segment,s),{}),function v3(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Dn((r,s)=>t(r,s,i)):ie,U_(1),e?tw(n):ew(()=>new Ha))}())}expandSegment(n,e,i,r,s,o){return Fn(i).pipe(Ga(a=>this.expandSegmentAgainstRoute(n,e,i,a,r,s,o).pipe(Gr(u=>{if(u instanceof ih)return it(null);throw u}))),Ps(a=>!!a),Gr((a,l)=>{if(a instanceof Ha||"EmptyError"===a.name)return Fw(e,r,s)?it(new Ut([],{})):Tc(e);throw a}))}expandSegmentAgainstRoute(n,e,i,r,s,o,a){return kw(r,e,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,e,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,i,r,s,o):Tc(e):Tc(e)}expandSegmentAgainstRouteUsingRedirect(n,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Uw(s):this.lineralizeSegments(i,s).pipe(mn(o=>{const a=new Ut(o,{});return this.expandSegment(n,a,e,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:d}=eh(e,r,s);if(!a)return Tc(e);const R=this.applyRedirectCommands(l,r.redirectTo,d);return r.redirectTo.startsWith("/")?Uw(R):this.lineralizeSegments(r,R).pipe(mn(P=>this.expandSegment(n,e,i,P.concat(u),o,!1)))}matchSegmentAgainstRoute(n,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?it(i._loadedConfig):this.configLoader.load(n.injector,i)).pipe(de(R=>(i._loadedConfig=R,new Ut(r,{})))):it(new Ut(r,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=eh(e,i,r);return o?this.getChildConfig(n,i,r).pipe(mn(d=>{const R=d.module,P=d.routes,{segmentGroup:L,slicedSegments:K}=th(e,a,l,P),ce=new Ut(L.segments,L.children);if(0===K.length&&ce.hasChildren())return this.expandChildren(R,P,ce).pipe(de(Ie=>new Ut(a,Ie)));if(0===P.length&&0===K.length)return it(new Ut(a,{}));const he=ir(i)===s;return this.expandSegment(R,ce,P,K,he?xt:s,!0).pipe(de(ge=>new Ut(a.concat(ge.segments),ge.children)))})):Tc(e)}getChildConfig(n,e,i){return e.children?it(new K_(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?it(e._loadedConfig):this.runCanLoadGuards(n.injector,e,i).pipe(mn(r=>r?this.configLoader.load(n.injector,e).pipe(de(s=>(e._loadedConfig=s,s))):function IV(t){return tr(V_(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(e))):it(new K_([],n))}runCanLoadGuards(n,e,i){const r=e.canLoad;return r&&0!==r.length?it(r.map(o=>{const a=n.get(o);let l;if(function pV(t){return t&&xs(t.canLoad)}(a))l=a.canLoad(e,i);else{if(!xs(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return Wr(l)})).pipe(vc(),Pn(o=>{if(!vo(o))return;const a=V_(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),de(o=>!0===o)):it(!0)}lineralizeSegments(n,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return it(i);if(r.numberOfChildren>1||!r.children[xt])return tr(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n.redirectTo}'`));r=r.children[xt]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreatreUrlTree(n,e,i,r){const s=this.createSegmentGroup(n,e.root,i,r);return new Eo(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Zn(n,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=e[a]}else i[s]=r}),i}createSegmentGroup(n,e,i,r){const s=this.createSegments(n,e.segments,i,r);let o={};return Zn(e.children,(a,l)=>{o[l]=this.createSegmentGroup(n,a,i,r)}),new Ut(s,o)}createSegments(n,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,r):this.findOrReturn(s,i))}findPosParam(n,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return r}findOrReturn(n,e){let i=0;for(const r of e){if(r.path===n.path)return e.splice(i),r;i++}return n}}function J_(t){const n={};for(const i of Object.keys(t.children)){const s=J_(t.children[i]);(s.segments.length>0||s.hasChildren())&&(n[i]=s)}return function RV(t){if(1===t.numberOfChildren&&t.children[xt]){const n=t.children[xt];return new Ut(t.segments.concat(n.segments),n.children)}return t}(new Ut(t.segments,n))}class Bw{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class rh{constructor(n,e){this.component=n,this.route=e}}function NV(t,n,e){const i=t._root;return Sc(i,n?n._root:null,e,[i.value])}function sh(t,n,e){const i=function xV(t){if(!t)return null;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(i?i.module.injector:e).get(t)}function Sc(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Wa(n);return t.children.forEach(o=>{(function kV(t,n,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=n?n.value:null,a=e?e.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function FV(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!bo(t.url,n.url);case"pathParamsOrQueryParamsChange":return!bo(t.url,n.url)||!jr(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!z_(t,n)||!jr(t.queryParams,n.queryParams);default:return!z_(t,n)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Bw(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Sc(t,n,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new rh(a.outlet.component,o))}else o&&wc(n,a,r),r.canActivateChecks.push(new Bw(i)),Sc(t,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Zn(s,(o,a)=>wc(o,e.getContext(a),r)),r}function wc(t,n,e){const i=Wa(t),r=t.value;Zn(i,(s,o)=>{wc(s,r.component?n?n.children.getContext(o):null:n,e)}),e.canDeactivateChecks.push(new rh(r.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,r))}class WV{}function Vw(t){return new T(n=>n.error(t))}class qV{constructor(n,e,i,r,s,o){this.rootComponentType=n,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const n=th(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,xt);if(null===e)return null;const i=new Xd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new hs(i,e),s=new Sw(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(n){const e=n.value,i=Tw(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(n,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,i)}processChildren(n,e){const i=[];for(const s of Object.keys(e.children)){const o=e.children[s],a=Pw(n,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;i.push(...l)}const r=Hw(i);return function YV(t){t.sort((n,e)=>n.value.outlet===xt?-1:e.value.outlet===xt?1:n.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(n,e,i,r){for(const s of n){const o=this.processSegmentAgainstRoute(s,e,i,r);if(null!==o)return o}return Fw(e,i,r)?[]:null}processSegmentAgainstRoute(n,e,i,r){if(n.redirectTo||!kw(n,e,i,r))return null;let s,o=[],a=[];if("**"===n.path){const L=i.length>0?cw(i).parameters:{};s=new Xd(i,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jw(n),ir(n),n.component,n,$w(e),Gw(e)+i.length,Ww(n))}else{const L=eh(e,n,i);if(!L.matched)return null;o=L.consumedSegments,a=L.remainingSegments,s=new Xd(o,L.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jw(n),ir(n),n.component,n,$w(e),Gw(e)+o.length,Ww(n))}const l=function QV(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(n),{segmentGroup:u,slicedSegments:d}=th(e,o,a,l.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);if(0===d.length&&u.hasChildren()){const L=this.processChildren(l,u);return null===L?null:[new hs(s,L)]}if(0===l.length&&0===d.length)return[new hs(s,[])];const R=ir(n)===r,P=this.processSegment(l,u,d,R?xt:r);return null===P?null:[new hs(s,P)]}}function KV(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function Hw(t){const n=[],e=new Set;for(const i of t){if(!KV(i)){n.push(i);continue}const r=n.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):n.push(i)}for(const i of e){const r=Hw(i.children);n.push(new hs(i.value,r))}return n.filter(i=>!e.has(i))}function $w(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function Gw(t){let n=t,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function jw(t){return t.data||{}}function Ww(t){return t.resolve||{}}function zw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function em(t){return nr(n=>{const e=t(n);return e?Fn(e).pipe(de(()=>n)):it(n)})}class r8 extends class i8{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const tm=new He("ROUTES");class qw{constructor(n,e,i,r){this.injector=n,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(de(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const o=s.create(n);return new K_(lw(o.injector.get(tm,void 0,mt.Self|mt.Optional)).map(Z_),o)}),Gr(s=>{throw e._loader$=void 0,s}));return e._loader$=new y3(r,()=>new le).pipe(Z0()),e._loader$}loadModuleFactory(n){return Wr(n()).pipe(mn(e=>e instanceof iS?it(e):Fn(this.compiler.compileModuleAsync(e))))}}class o8{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function a8(t){throw t}function l8(t,n,e){return n.parse("/")}function Yw(t,n){return it(null)}const c8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},u8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ei=(()=>{class t{constructor(e,i,r,s,o,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new le,this.errorHandler=a8,this.malformedUriErrorHandler=l8,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yw,afterPreactivation:Yw},this.urlHandlingStrategy=new o8,this.routeReuseStrategy=new r8,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(as),this.console=o.get(HS);const R=o.get(tt);this.isNgZoneEnabled=R instanceof tt&&tt.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function F3(){return new Eo(new Ut([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qw(o,a,P=>this.triggerEvent(new iw(P)),P=>this.triggerEvent(new rw(P))),this.routerState=Cw(this.currentUrlTree,this.rootComponentType),this.transitions=new ci({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Dn(r=>0!==r.id),de(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),nr(r=>{let s=!1,o=!1;return it(r).pipe(Pn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),nr(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Qw(a.source)&&(this.browserUrlTree=a.extractedUrl),it(a).pipe(nr(R=>{const P=this.transitions.getValue();return i.next(new B_(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),P!==this.transitions.getValue()?ur:Promise.resolve(R)}),function OV(t,n,e,i){return nr(r=>function AV(t,n,e,i,r){return new MV(t,n,e,i,r).apply()}(t,n,e,r.extractedUrl,i).pipe(de(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Pn(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function XV(t,n,e,i,r){return mn(s=>function zV(t,n,e,i,r="emptyOnly",s="legacy"){try{const o=new qV(t,n,e,i,r,s).recognize();return null===o?Vw(new WV):it(o)}catch(o){return Vw(o)}}(t,n,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe(de(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),Pn(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(L,R)}this.browserUrlTree=R.urlAfterRedirects}const P=new T3(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);i.next(P)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:P,extractedUrl:L,source:K,restoredState:ce,extras:he}=a,Te=new B_(P,this.serializeUrl(L),K,ce);i.next(Te);const ge=Cw(L,this.rootComponentType).snapshot;return it(Object.assign(Object.assign({},a),{targetSnapshot:ge,urlAfterRedirects:L,extras:Object.assign(Object.assign({},he),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),ur}),em(a=>{const{targetSnapshot:l,id:u,extractedUrl:d,rawUrl:R,extras:{skipLocationChange:P,replaceUrl:L}}=a;return this.hooks.beforePreactivation(l,{navigationId:u,appliedUrlTree:d,rawUrlTree:R,skipLocationChange:!!P,replaceUrl:!!L})}),Pn(a=>{const l=new S3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),de(a=>Object.assign(Object.assign({},a),{guards:NV(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function LV(t,n){return mn(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?it(Object.assign(Object.assign({},e),{guardsResult:!0})):function UV(t,n,e,i){return Fn(t).pipe(mn(r=>function jV(t,n,e,i,r){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?it(s.map(a=>{const l=sh(a,n,r);let u;if(function mV(t){return t&&xs(t.canDeactivate)}(l))u=Wr(l.canDeactivate(t,n,e,i));else{if(!xs(l))throw new Error("Invalid CanDeactivate guard");u=Wr(l(t,n,e,i))}return u.pipe(Ps())})).pipe(vc()):it(!0)}(r.component,r.route,e,n,i)),Ps(r=>!0!==r,!0))}(o,i,r,t).pipe(mn(a=>a&&function fV(t){return"boolean"==typeof t}(a)?function BV(t,n,e,i){return Fn(n).pipe(Ga(r=>Wd(function HV(t,n){return null!==t&&n&&n(new A3(t)),it(!0)}(r.route.parent,i),function VV(t,n){return null!==t&&n&&n(new R3(t)),it(!0)}(r.route,i),function GV(t,n,e){const i=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(o=>function PV(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(o)).filter(o=>null!==o).map(o=>$a(()=>it(o.guards.map(l=>{const u=sh(l,o.node,e);let d;if(function _V(t){return t&&xs(t.canActivateChild)}(u))d=Wr(u.canActivateChild(i,t));else{if(!xs(u))throw new Error("Invalid CanActivateChild guard");d=Wr(u(i,t))}return d.pipe(Ps())})).pipe(vc())));return it(s).pipe(vc())}(t,r.path,e),function $V(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return it(!0);const r=i.map(s=>$a(()=>{const o=sh(s,n,e);let a;if(function gV(t){return t&&xs(t.canActivate)}(o))a=Wr(o.canActivate(n,t));else{if(!xs(o))throw new Error("Invalid CanActivate guard");a=Wr(o(n,t))}return a.pipe(Ps())}));return it(r).pipe(vc())}(t,r.route,e))),Ps(r=>!0!==r,!0))}(i,s,t,n):it(a)),de(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Pn(a=>{if(vo(a.guardsResult)){const u=V_(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const l=new w3(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Dn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),em(a=>{if(a.guards.canActivateChecks.length)return it(a).pipe(Pn(l=>{const u=new D3(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),nr(l=>{let u=!1;return it(l).pipe(function ZV(t,n){return mn(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return it(e);let s=0;return Fn(r).pipe(Ga(o=>function JV(t,n,e,i){return function e8(t,n,e,i){const r=zw(t);if(0===r.length)return it({});const s={};return Fn(r).pipe(mn(o=>function t8(t,n,e,i){const r=sh(t,n,i);return Wr(r.resolve?r.resolve(n,e):r(n,e))}(t[o],n,e,i).pipe(Pn(a=>{s[o]=a}))),U_(1),mn(()=>zw(s).length===r.length?it(s):ur))}(t._resolve,t,n,i).pipe(de(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),Tw(t,e).resolve),null)))}(o.route,i,t,n)),Pn(()=>s++),U_(1),mn(o=>s===r.length?it(e):ur))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Pn({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Pn(l=>{const u=new I3(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),em(a=>{const{targetSnapshot:l,id:u,extractedUrl:d,rawUrl:R,extras:{skipLocationChange:P,replaceUrl:L}}=a;return this.hooks.afterPreactivation(l,{navigationId:u,appliedUrlTree:d,rawUrlTree:R,skipLocationChange:!!P,replaceUrl:!!L})}),de(a=>{const l=function eV(t,n,e){const i=yc(t,n._root,e?e._root:void 0);return new vw(i,n)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Pn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,n,e)=>de(i=>(new dV(n,i.targetRouterState,i.currentRouterState,e).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Pn({next(){s=!0},complete(){s=!0}}),pc(()=>{var a;s||o||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Gr(a=>{if(o=!0,function P3(t){return t&&t[ow]}(a)){const l=vo(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const u=new nw(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(u),l?setTimeout(()=>{const d=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),R={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qw(r.source)};this.scheduleNavigation(d,"imperative",null,R,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new C3(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(u){r.reject(u)}}return ur}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},o=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Nw(e),this.config=e.map(Z_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,u=r||this.routerState.root,d=l?this.currentUrlTree.fragment:o;let R=null;switch(a){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=s||null}return null!==R&&(R=this.removeEmptyProps(R)),function iV(t,n,e,i,r){if(0===e.length)return q_(n.root,n.root,n.root,i,r);const s=function rV(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Iw(!0,0,t);let n=0,e=!1;const i=t.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Zn(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?n++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new Iw(e,n,i)}(e);if(s.toRoot())return q_(n.root,n.root,new Ut([],{}),i,r);const o=function sV(t,n,e){if(t.isAbsolute)return new Y_(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new Y_(s,s===n.root,0)}const i=Zd(t.commands[0])?0:1;return function oV(t,n,e){let i=t,r=n,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Y_(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,n,t),a=o.processChildren?Jd(o.segmentGroup,o.index,s.commands):Aw(o.segmentGroup,o.index,s.commands);return q_(n.root,o.segmentGroup,a,i,r)}(u,this.currentUrlTree,e,R,null!=d?d:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=vo(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function d8(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},c8):!1===i?Object.assign({},u8):i,vo(e))return dw(this.currentUrlTree,e,r);const s=this.parseUrl(e);return dw(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new gc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);let u,d,R;o?(u=o.resolve,d=o.reject,R=o.promise):R=new Promise((K,ce)=>{u=K,d=ce});const P=++this.navigationId;let L;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),L=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):L=0,this.setTransition({id:P,targetPageId:L,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:u,reject:d,promise:R,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),R.catch(K=>Promise.reject(K))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new nw(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return t.\u0275fac=function(e){Na()},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();function Qw(t){return"imperative"!==t}class Kw{}class Xw{preload(n,e){return it(null)}}let Zw=(()=>{class t{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new qw(r,i,l=>e.triggerEvent(new iw(l)),l=>e.triggerEvent(new rw(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Dn(e=>e instanceof gc),Ga(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(as);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return Fn(r).pipe(El(),de(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?it(i._loadedConfig):this.loader.load(e.injector,i)).pipe(mn(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(ve(Ei),ve($S),ve(sn),ve(Kw))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})(),rm=(()=>{class t{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof B_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof gc&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof sw&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new sw(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){Na()},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();const Co=new He("ROUTER_CONFIGURATION"),Jw=new He("ROUTER_FORROOT_GUARD"),g8=[ac,{provide:gw,useClass:_w},{provide:Ei,useFactory:function b8(t,n,e,i,r,s,o={},a,l){const u=new Ei(null,t,n,e,i,r,lw(s));return a&&(u.urlHandlingStrategy=a),l&&(u.routeReuseStrategy=l),function v8(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(n.canceledNavigationResolution=t.canceledNavigationResolution)}(o,u),o.enableTracing&&u.events.subscribe(d=>{var R,P;null===(R=console.group)||void 0===R||R.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(P=console.groupEnd)||void 0===P||P.call(console)}),u},deps:[gw,Cc,ac,sn,$S,tm,Co,[class s8{},new Qi],[class n8{},new Qi]]},Cc,{provide:za,useFactory:function C8(t){return t.routerState.root},deps:[Ei]},Zw,Xw,class p8{preload(n,e){return e().pipe(Gr(()=>it(null)))}},{provide:Co,useValue:{enableTracing:!1}}];function _8(){return new qS("Router",Ei)}let eD=(()=>{class t{constructor(e,i){}static forRoot(e,i){return{ngModule:t,providers:[g8,tD(e),{provide:Jw,useFactory:E8,deps:[[Ei,new Qi,new ao]]},{provide:Co,useValue:i||{}},{provide:Va,useFactory:y8,deps:[mo,[new zu(__),new Qi],Co]},{provide:rm,useFactory:m8,deps:[Ei,SB,Co]},{provide:Kw,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Xw},{provide:qS,multi:!0,useFactory:_8},[sm,{provide:n_,multi:!0,useFactory:T8,deps:[sm]},{provide:nD,useFactory:S8,deps:[sm]},{provide:VS,multi:!0,useExisting:nD}]]}}static forChild(e){return{ngModule:t,providers:[tD(e)]}}}return t.\u0275fac=function(e){return new(e||t)(ve(Jw,8),ve(Ei,8))},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({}),t})();function m8(t,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new rm(t,n,e)}function y8(t,n,e={}){return e.useHash?new dU(t,n):new p0(t,n)}function E8(t){return"guarded"}function tD(t){return[{provide:ZN,multi:!0,useValue:t},{provide:tm,multi:!0,useValue:t}]}let sm=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new le}appInitializer(){return this.injector.get(lU,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),s=this.injector.get(Ei),o=this.injector.get(Co);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?it(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Co),r=this.injector.get(Zw),s=this.injector.get(rm),o=this.injector.get(Ei),a=this.injector.get(wd);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(ve(sn))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();function T8(t){return t.appInitializer.bind(t)}function S8(t){return t.bootstrapListener.bind(t)}const nD=new He("Router Initializer");function iD(...t){const n=Bf(t),{args:e,keys:i}=Y0(t),r=new T(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let d=0;d<o;d++){let R=!1;Wn(e[d]).subscribe(ue(s,P=>{R||(R=!0,u--),a[d]=P},()=>l--,void 0,()=>{(!l||!R)&&(u||s.next(i?Q0(i,a):a),s.complete())}))}});return n?r.pipe(L_(n)):r}let rD=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return t.\u0275fac=function(e){return new(e||t)(X(Hr),X(ht))},t.\u0275dir=Ue({type:t}),t})(),To=(()=>{class t extends rD{}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Un(t)))(i||t)}}(),t.\u0275dir=Ue({type:t,features:[st]}),t})();const Ir=new He("NgValueAccessor"),I8={provide:Ir,useExisting:Yt(()=>ks),multi:!0},M8=new He("CompositionEventMode");let ks=(()=>{class t extends rD{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function A8(){const t=$r()?$r().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return t.\u0275fac=function(e){return new(e||t)(X(Hr),X(ht),X(M8,8))},t.\u0275dir=Ue({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Ke("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Gt([I8]),st]}),t})();function Fs(t){return null==t||0===t.length}function oD(t){return null!=t&&"number"==typeof t.length}const Jn=new He("NgValidators"),Ls=new He("NgAsyncValidators"),R8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rr{static min(n){return function aD(t){return n=>{if(Fs(n.value)||Fs(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e<t?{min:{min:t,actual:n.value}}:null}}(n)}static max(n){return function lD(t){return n=>{if(Fs(n.value)||Fs(t))return null;const e=parseFloat(n.value);return!isNaN(e)&&e>t?{max:{max:t,actual:n.value}}:null}}(n)}static required(n){return function cD(t){return Fs(t.value)?{required:!0}:null}(n)}static requiredTrue(n){return function uD(t){return!0===t.value?null:{required:!0}}(n)}static email(n){return function dD(t){return Fs(t.value)||R8.test(t.value)?null:{email:!0}}(n)}static minLength(n){return function hD(t){return n=>Fs(n.value)||!oD(n.value)?null:n.value.length<t?{minlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function fD(t){return n=>oD(n.value)&&n.value.length>t?{maxlength:{requiredLength:t,actualLength:n.value.length}}:null}(n)}static pattern(n){return function pD(t){if(!t)return oh;let n,e;return"string"==typeof t?(e="","^"!==t.charAt(0)&&(e+="^"),e+=t,"$"!==t.charAt(t.length-1)&&(e+="$"),n=new RegExp(e)):(e=t.toString(),n=t),i=>{if(Fs(i.value))return null;const r=i.value;return n.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(n)}static nullValidator(n){return null}static compose(n){return bD(n)}static composeAsync(n){return vD(n)}}function oh(t){return null}function gD(t){return null!=t}function _D(t){const n=Yl(t)?Fn(t):t;return Mg(n),n}function mD(t){let n={};return t.forEach(e=>{n=null!=e?Object.assign(Object.assign({},n),e):n}),0===Object.keys(n).length?null:n}function yD(t,n){return n.map(e=>e(t))}function ED(t){return t.map(n=>function O8(t){return!t.validate}(n)?n:e=>n.validate(e))}function bD(t){if(!t)return null;const n=t.filter(gD);return 0==n.length?null:function(e){return mD(yD(e,n))}}function om(t){return null!=t?bD(ED(t)):null}function vD(t){if(!t)return null;const n=t.filter(gD);return 0==n.length?null:function(e){return iD(yD(e,n).map(_D)).pipe(de(mD))}}function am(t){return null!=t?vD(ED(t)):null}function CD(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function TD(t){return t._rawValidators}function SD(t){return t._rawAsyncValidators}function lm(t){return t?Array.isArray(t)?t:[t]:[]}function ah(t,n){return Array.isArray(t)?t.includes(n):t===n}function wD(t,n){const e=lm(n);return lm(t).forEach(r=>{ah(e,r)||e.push(r)}),e}function DD(t,n){return lm(n).filter(e=>!ah(t,e))}class ID{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=om(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=am(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class zr extends ID{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bi extends ID{get formDirective(){return null}get path(){return null}}class AD{constructor(n){this._cd=n}is(n){var e,i,r;return"submitted"===n?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[n])}}let Ya=(()=>{class t extends AD{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(X(zr,2))},t.\u0275dir=Ue({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Nt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[st]}),t})(),lh=(()=>{class t extends AD{constructor(e){super(e)}}return t.\u0275fac=function(e){return new(e||t)(X(bi,10))},t.\u0275dir=Ue({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Nt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[st]}),t})();function uh(t,n){return[...n.path,t]}function Dc(t,n){dm(t,n),n.valueAccessor.writeValue(t.value),function B8(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&RD(t,n)})}(t,n),function H8(t,n){const e=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function V8(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&RD(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function U8(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function dh(t,n,e=!0){const i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),fh(t,n),t&&(n._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function hh(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function dm(t,n){const e=TD(t);null!==n.validator?t.setValidators(CD(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=SD(t);null!==n.asyncValidator?t.setAsyncValidators(CD(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();hh(n._rawValidators,r),hh(n._rawAsyncValidators,r)}function fh(t,n){let e=!1;if(null!==t){if(null!==n.validator){const r=TD(t);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==n.validator);s.length!==r.length&&(e=!0,t.setValidators(s))}}if(null!==n.asyncValidator){const r=SD(t);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==n.asyncValidator);s.length!==r.length&&(e=!0,t.setAsyncValidators(s))}}}const i=()=>{};return hh(n._rawValidators,i),hh(n._rawAsyncValidators,i),e}function RD(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function OD(t,n){dm(t,n)}function hm(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}function PD(t,n){t._syncPendingControls(),n.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function fm(t,n){if(!n)return null;let e,i,r;return Array.isArray(n),n.forEach(s=>{s.constructor===ks?e=s:function j8(t){return Object.getPrototypeOf(t.constructor)===To}(s)?i=s:r=s}),r||i||e||null}function pm(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}const Ic="VALID",ph="INVALID",Qa="PENDING",Ac="DISABLED";function _m(t){return(gh(t)?t.validators:t)||null}function xD(t){return Array.isArray(t)?om(t):t||null}function mm(t,n){return(gh(n)?n.asyncValidators:t)||null}function kD(t){return Array.isArray(t)?am(t):t||null}function gh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const ym=t=>t instanceof So,_h=t=>t instanceof Us,FD=t=>t instanceof VD;function LD(t){return ym(t)?t.value:t.getRawValue()}function UD(t,n){const e=_h(t),i=t.controls;if(!(e?Object.keys(i):i).length)throw new Xe(1e3,"");if(!i[n])throw new Xe(1001,"")}function BD(t,n){_h(t),t._forEachChild((i,r)=>{if(void 0===n[r])throw new Xe(1002,"")})}class Em{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=e,this._composedValidatorFn=xD(this._rawValidators),this._composedAsyncValidatorFn=kD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Ic}get invalid(){return this.status===ph}get pending(){return this.status==Qa}get disabled(){return this.status===Ac}get enabled(){return this.status!==Ac}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=xD(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=kD(n)}addValidators(n){this.setValidators(wD(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(wD(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(DD(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(DD(n,this._rawAsyncValidators))}hasValidator(n){return ah(this._rawValidators,n)}hasAsyncValidator(n){return ah(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Qa,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Ac,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=Ic,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ic||this.status===Qa)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ac:Ic}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Qa,this._hasOwnPendingAsyncValidator=!0;const e=_D(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){return function W8(t,n,e){if(null==n||(Array.isArray(n)||(n=n.split(e)),Array.isArray(n)&&0===n.length))return null;let i=t;return n.forEach(r=>{i=_h(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:FD(i)&&i.at(r)||null}),i}(this,n,".")}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?Ac:this.errors?ph:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qa)?Qa:this._anyControlsHaveStatus(ph)?ph:Ic}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){gh(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class So extends Em{constructor(n=null,e,i){super(_m(e),mm(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gh(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){pm(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){pm(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class Us extends Em{constructor(n,e,i){super(_m(e),mm(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,e){return this.controls[n]?this.controls[n]:(this.controls[n]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(n,e,i={}){this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],e&&this.registerControl(n,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,e={}){BD(this,n),Object.keys(n).forEach(i=>{UD(this,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(Object.keys(n).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(n[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n={},e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(n,e,i)=>(n[i]=LD(e),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&n(i,e)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&n(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,e,i)=>((e.enabled||this.disabled)&&(n[i]=e.value),n))}_reduceChildren(n,e){let i=n;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class VD extends Em{constructor(n,e,i){super(_m(e),mm(i,e)),this.controls=n,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,e={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(n,e,i={}){this.controls.splice(n,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,e={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(n,e,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),e&&(this.controls.splice(n,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,e={}){BD(this,n),n.forEach((i,r)=>{UD(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(n,e={}){null!=n&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(n=[],e={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(n=>LD(n))}clear(n={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((e,i)=>{n(e,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(e=>e.enabled&&n(e))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const z8={provide:bi,useExisting:Yt(()=>Rc)},Mc=(()=>Promise.resolve(null))();let Rc=(()=>{class t extends bi{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new et,this.form=new Us({},om(e),am(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Mc.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Dc(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Mc.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Mc.then(()=>{const i=this._findContainer(e.path),r=new Us({});OD(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Mc.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Mc.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,PD(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return t.\u0275fac=function(e){return new(e||t)(X(Jn,10),X(Ls,10))},t.\u0275dir=Ue({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&Ke("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gt([z8]),st]}),t})(),HD=(()=>{class t extends bi{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return uh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Un(t)))(i||t)}}(),t.\u0275dir=Ue({type:t,features:[st]}),t})();const Y8={provide:zr,useExisting:Yt(()=>bm)},GD=(()=>Promise.resolve(null))();let bm=(()=>{class t extends zr{constructor(e,i,r,s,o){super(),this._changeDetectorRef=o,this.control=new So,this._registered=!1,this.update=new et,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=fm(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),hm(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){GD.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;GD.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(e){return this._parent?uh(e,this._parent):[e]}}return t.\u0275fac=function(e){return new(e||t)(X(bi,9),X(Jn,10),X(Ls,10),X(Ir,10),X(Cn,8))},t.\u0275dir=Ue({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Gt([Y8]),st,An]}),t})(),vm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ue({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Q8={provide:Ir,useExisting:Yt(()=>Cm),multi:!0};let Cm=(()=>{class t extends To{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Un(t)))(i||t)}}(),t.\u0275dir=Ue({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&Ke("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Gt([Q8]),st]}),t})(),jD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({}),t})();const Tm=new He("NgModelWithFormControlWarning"),J8={provide:zr,useExisting:Yt(()=>Sm)};let Sm=(()=>{class t extends zr{constructor(e,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new et,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=fm(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&dh(i,this,!1),Dc(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}hm(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&dh(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(X(Jn,10),X(Ls,10),X(Ir,10),X(Tm,8))},t.\u0275dir=Ue({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Gt([J8]),st,An]}),t})();const eH={provide:bi,useExisting:Yt(()=>Bs)};let Bs=(()=>{class t extends bi{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new et,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Dc(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){dh(e.control||null,e,!1),pm(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,PD(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(dh(i||null,e),ym(r)&&(Dc(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);OD(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function $8(t,n){return fh(t,n)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dm(this.form,this),this._oldForm&&fh(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(X(Jn,10),X(Ls,10))},t.\u0275dir=Ue({type:t,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&Ke("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gt([eH]),st,An]}),t})();const tH={provide:bi,useExisting:Yt(()=>mh)};let mh=(()=>{class t extends HD{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){qD(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(X(bi,13),X(Jn,10),X(Ls,10))},t.\u0275dir=Ue({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Gt([tH]),st]}),t})();const nH={provide:bi,useExisting:Yt(()=>wm)};let wm=(()=>{class t extends bi{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return uh(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){qD(this._parent)}}return t.\u0275fac=function(e){return new(e||t)(X(bi,13),X(Jn,10),X(Ls,10))},t.\u0275dir=Ue({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Gt([nH]),st]}),t})();function qD(t){return!(t instanceof mh||t instanceof Bs||t instanceof wm)}const iH={provide:zr,useExisting:Yt(()=>Oc)};let Oc=(()=>{class t extends zr{constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new et,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=fm(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),hm(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return uh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(e){return new(e||t)(X(bi,13),X(Jn,10),X(Ls,10),X(Ir,10),X(Tm,8))},t.\u0275dir=Ue({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Gt([iH]),st,An]}),t})(),rI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[jD]]}),t})(),EH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[rI]}),t})(),sI=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Tm,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[rI]}),t})(),oI=(()=>{class t{group(e,i=null){const r=this._reduceControls(e);let a,s=null,o=null;return null!=i&&(function bH(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(i)?(s=null!=i.validators?i.validators:null,o=null!=i.asyncValidators?i.asyncValidators:null,a=null!=i.updateOn?i.updateOn:void 0):(s=null!=i.validator?i.validator:null,o=null!=i.asyncValidator?i.asyncValidator:null)),new Us(r,{asyncValidators:o,updateOn:a,validators:s})}control(e,i,r){return new So(e,i,r)}array(e,i,r){const s=e.map(o=>this._createControl(o));return new VD(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return ym(e)||_h(e)||FD(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:sI}),t})();const Rm={now:()=>(Rm.delegate||Date).now(),delegate:void 0};class Om extends le{constructor(n=1/0,e=1/0,i=Rm){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;e||(i.push(n),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!n.closed;o+=i?1:2)n.next(s[o]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*n;if(n<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}}function cn(t){return null!=t&&"false"!=`${t}`}function Vs(t,n=0){return function vH(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):n}function yh(t){return Array.isArray(t)?t:[t]}function xn(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Ar(t){return t instanceof ht?t.nativeElement:t}const CH=["addListener","removeListener"],TH=["addEventListener","removeEventListener"],SH=["on","off"];function Tn(t,n,e,i){if(Ft(e)&&(i=e,e=void 0),i)return Tn(t,n,e).pipe(L_(i));const[r,s]=function IH(t){return Ft(t.addEventListener)&&Ft(t.removeEventListener)}(t)?TH.map(o=>a=>t[o](n,a,e)):function wH(t){return Ft(t.addListener)&&Ft(t.removeListener)}(t)?CH.map(aI(t,n)):function DH(t){return Ft(t.on)&&Ft(t.off)}(t)?SH.map(aI(t,n)):[];if(!r&&Re(t))return mn(o=>Tn(o,n,e))(Wn(t));if(!r)throw new TypeError("Invalid event target");return new T(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function aI(t,n){return e=>i=>t[e](n,i)}class AH extends h{constructor(n,e){super()}schedule(n,e=0){return this}}const Eh={setInterval(t,n,...e){const{delegate:i}=Eh;return(null==i?void 0:i.setInterval)?i.setInterval(t,n,...e):setInterval(t,n,...e)},clearInterval(t){const{delegate:n}=Eh;return((null==n?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0};class Nm extends AH{constructor(n,e){super(n,e),this.scheduler=n,this.work=e,this.pending=!1}schedule(n,e=0){if(this.closed)return this;this.state=n;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(n,e,i=0){return Eh.setInterval(n.flush.bind(n,this),i)}recycleAsyncId(n,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;Eh.clearInterval(e)}execute(n,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(n,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,e){let r,i=!1;try{this.work(n)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:n,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,c(i,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,super.unsubscribe()}}}const Nc={schedule(t){let n=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Nc;i&&(n=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=n(s=>{e=void 0,t(s)});return new h(()=>null==e?void 0:e(r))},requestAnimationFrame(...t){const{delegate:n}=Nc;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:n}=Nc;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame)(...t)},delegate:void 0};class Pc{constructor(n,e=Pc.now){this.schedulerActionCtor=n,this.now=e}schedule(n,e=0,i){return new this.schedulerActionCtor(this,n).schedule(i,e)}}Pc.now=Rm.now;class Pm extends Pc{constructor(n,e=Pc.now){super(n,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:e}=this;if(this._active)return void e.push(n);let i;this._active=!0;do{if(i=n.execute(n.state,n.delay))break}while(n=e.shift());if(this._active=!1,i){for(;n=e.shift();)n.unsubscribe();throw i}}}new class RH extends Pm{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}}(class MH extends Nm{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=Nc.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(n,e,i);n.actions.some(r=>r.id===e)||(Nc.cancelAnimationFrame(e),n._scheduled=void 0)}});let xm,NH=1;const bh={};function lI(t){return t in bh&&(delete bh[t],!0)}const PH={setImmediate(t){const n=NH++;return bh[n]=!0,xm||(xm=Promise.resolve()),xm.then(()=>lI(n)&&t()),n},clearImmediate(t){lI(t)}},{setImmediate:xH,clearImmediate:kH}=PH,vh={setImmediate(...t){const{delegate:n}=vh;return((null==n?void 0:n.setImmediate)||xH)(...t)},clearImmediate(t){const{delegate:n}=vh;return((null==n?void 0:n.clearImmediate)||kH)(t)},delegate:void 0},Ch=(new class LH extends Pm{flush(n){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;n=n||i.shift();do{if(r=n.execute(n.state,n.delay))break}while((n=i[0])&&n.id===e&&i.shift());if(this._active=!1,r){for(;(n=i[0])&&n.id===e&&i.shift();)n.unsubscribe();throw r}}}(class FH extends Nm{constructor(n,e){super(n,e),this.scheduler=n,this.work=e}requestAsyncId(n,e,i=0){return null!==i&&i>0?super.requestAsyncId(n,e,i):(n.actions.push(this),n._scheduled||(n._scheduled=vh.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(n,e,i);n.actions.some(r=>r.id===e)||(vh.clearImmediate(e),n._scheduled=void 0)}}),new Pm(Nm)),BH=Ch;function km(t=0,n,e=BH){let i=-1;return null!=n&&(ME(n)?e=n:i=n),new T(r=>{let s=function HH(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function cI(t,n=Ch){return function VH(t){return ye((n,e)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const u=r;r=null,e.next(u)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};n.subscribe(ue(e,u=>{i=!0,r=u,s||Wn(t(u)).subscribe(s=ue(e,a,l))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>km(t,n))}function at(t){return ye((n,e)=>{Wn(t).subscribe(ue(e,()=>e.complete(),g)),!e.closed&&n.subscribe(e)})}let Fm;try{Fm="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t){Fm=!1}let Ka,kn=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function TB(t){return t===N0}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Fm)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(ve(Sd))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const uI=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function dI(){if(Ka)return Ka;if("object"!=typeof document||!document)return Ka=new Set(uI),Ka;let t=document.createElement("input");return Ka=new Set(uI.filter(n=>(t.setAttribute("type",n),t.type===n))),Ka}let xc,Th,Do,Lm;function Xa(t){return function $H(){if(null==xc&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xc=!0}))}finally{xc=xc||!1}return xc}()?t:!!t.capture}function hI(){if(null==Do){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Do=!1,Do;if("scrollBehavior"in document.documentElement.style)Do=!0;else{const t=Element.prototype.scrollTo;Do=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Do}function kc(){if("object"!=typeof document||!document)return 0;if(null==Th){const t=document.createElement("div"),n=t.style;t.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",t.appendChild(e),document.body.appendChild(t),Th=0,0===t.scrollLeft&&(t.scrollLeft=1,Th=0===t.scrollLeft?1:2),t.remove()}return Th}function Um(){let t="undefined"!=typeof document&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}function Io(t){return t.composedPath?t.composedPath()[0]:t.target}function Bm(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const WH=new He("cdk-dir-doc",{providedIn:"root",factory:function zH(){return Wu(Ct)}}),qH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Li=(()=>{class t{constructor(e){if(this.value="ltr",this.change=new et,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function YH(t){const n=(null==t?void 0:t.toLowerCase())||"";return"auto"===n&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?qH.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(ve(WH,8))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Fc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({}),t})(),Vm=(()=>{class t{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new le,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new T(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(cI(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):it()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Dn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ar(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Tn(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(ve(tt),ve(kn),ve(Ct,8))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),KH=(()=>{class t{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new le,this._elementScrolled=new T(o=>this.ngZone.runOutsideAngular(()=>Tn(this.elementRef.nativeElement,"scroll").pipe(at(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=kc()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==kc()?e.left=e.right:1==kc()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;hI()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==e?e=o?r:i:"end"==e&&(e=o?i:r),o&&2==kc()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&1==kc()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(Vm),X(tt),X(Li,8))},t.\u0275dir=Ue({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),Za=(()=>{class t{constructor(e,i,r){this._platform=e,this._change=new le,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(cI(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(ve(kn),ve(tt),ve(Ct,8))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Sh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({}),t})(),Hm=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[Fc,Sh],Fc,Sh]}),t})();class $m{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class Ja extends $m{constructor(n,e,i,r){super(),this.component=n,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class el extends $m{constructor(n,e,i){super(),this.templateRef=n,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(n,e=this.context){return this.context=e,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class ZH extends $m{constructor(n){super(),this.element=n instanceof ht?n.nativeElement:n}}class wh{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof Ja?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof el?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof ZH?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class JH extends wh{constructor(n,e,i,r,s){super(),this.outletElement=n,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(n){const i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let r;return n.viewContainerRef?(r=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(n.injector||this._defaultInjector||sn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=n,r}attachTemplatePortal(n){let e=n.viewContainerRef,i=e.createEmbeddedView(n.templateRef,n.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=n,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let e5=(()=>{class t extends el{constructor(e,i){super(e,i)}}return t.\u0275fac=function(e){return new(e||t)(X(Xn),X(qn))},t.\u0275dir=Ue({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[st]}),t})(),Ao=(()=>{class t extends wh{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new et,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return t.\u0275fac=function(e){return new(e||t)(X(Os),X(qn),X(Ct))},t.\u0275dir=Ue({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[st]}),t})(),Dh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({}),t})();function fI(t,n=!1){return ye((e,i)=>{let r=0;e.subscribe(ue(i,s=>{const o=t(s,r++);(o||n)&&i.next(s),!o&&i.complete()}))})}function Hs(t,...n){return n.length?n.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}const mI=hI();class f5{constructor(n,e){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=xn(-this._previousScrollPosition.left),n.style.top=xn(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,i=n.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),mI&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mI&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class p5{constructor(n,e,i,r){this._scrollDispatcher=n,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class yI{enable(){}disable(){}attach(){}}function zm(t,n){return n.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function EI(t,n){return n.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class g5{constructor(n,e,i,r){this._scrollDispatcher=n,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();zm(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let _5=(()=>{class t{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new yI,this.close=o=>new p5(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new f5(this._viewportRuler,this._document),this.reposition=o=>new g5(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return t.\u0275fac=function(e){return new(e||t)(ve(Vm),ve(Za),ve(tt),ve(Ct))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Mh{constructor(n){if(this.scrollStrategy=new yI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const e=Object.keys(n);for(const i of e)void 0!==n[i]&&(this[i]=n[i])}}}class m5{constructor(n,e){this.connectionPair=n,this.scrollableViewProperties=e}}class y5{constructor(n,e,i,r,s,o,a,l,u){this._portalOutlet=n,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new le,this._attachments=new le,this._detachments=new le,this._locationChanges=h.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new le,this._outsidePointerEvents=new le,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){let e=this._portalOutlet.attach(n);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(In(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){var n;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(n=this._host)||void 0===n||n.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config=Object.assign(Object.assign({},this._config),n),this._updateElementSize()}setDirection(n){this._config=Object.assign(Object.assign({},this._config),{direction:n}),this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=xn(this._config.width),n.height=xn(this._config.height),n.minWidth=xn(this._config.minWidth),n.minHeight=xn(this._config.minHeight),n.maxWidth=xn(this._config.maxWidth),n.maxHeight=xn(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;!n||(n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500)))}_toggleClasses(n,e,i){const r=yh(e||[]).filter(s=>!!s);r.length&&(i?n.classList.add(...r):n.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(at(hn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let qm=(()=>{class t{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Bm()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),Bm()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return t.\u0275fac=function(e){return new(e||t)(ve(Ct),ve(kn))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const bI="cdk-overlay-connected-position-bounding-box",E5=/([A-Za-z%]+)$/;class b5{constructor(n,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new le,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}get positions(){return this._preferredPositions}attach(n){this._validatePositions(),n.hostElement.classList.add(bI),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(n,r,a),u=this._getOverlayPoint(l,e,a),d=this._getOverlayFit(u,e,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(d,u,i)?s.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:u,originPoint:l,position:a,overlayRect:e})}if(s.length){let a=null,l=-1;for(const u of s){const d=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);d>l&&(l=d,a=u)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Mo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,e)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,e,i){let r,s;if("center"==i.originX)r=n.left+n.width/2;else{const o=this._isRtl()?n.right:n.left,a=this._isRtl()?n.left:n.right;r="start"==i.originX?o:a}return e.left<0&&(r-=e.left),s="center"==i.originY?n.top+n.height/2:"top"==i.originY?n.top:n.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(n,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:n.x+r,y:n.y+s}}_getOverlayFit(n,e,i,r){const s=CI(e);let{x:o,y:a}=n,l=this._getOffset(r,"x"),u=this._getOffset(r,"y");l&&(o+=l),u&&(a+=u);let P=0-a,L=a+s.height-i.height,K=this._subtractOverflows(s.width,0-o,o+s.width-i.width),ce=this._subtractOverflows(s.height,P,L),he=K*ce;return{visibleArea:he,isCompletelyWithinViewport:s.width*s.height===he,fitsInViewportVertically:ce===s.height,fitsInViewportHorizontally:K==s.width}}_canFitWithFlexibleDimensions(n,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,o=vI(this._overlayRef.getConfig().minHeight),a=vI(this._overlayRef.getConfig().minWidth),u=n.fitsInViewportHorizontally||null!=a&&a<=s;return(n.fitsInViewportVertically||null!=o&&o<=r)&&u}return!1}_pushOverlayOnScreen(n,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const r=CI(e),s=this._viewportRect,o=Math.max(n.x+r.width-s.width,0),a=Math.max(n.y+r.height-s.height,0),l=Math.max(s.top-i.top-n.y,0),u=Math.max(s.left-i.left-n.x,0);let d=0,R=0;return d=r.width<=s.width?u||-o:n.x<this._viewportMargin?s.left-i.left-n.x:0,R=r.height<=s.height?l||-a:n.y<this._viewportMargin?s.top-i.top-n.y:0,this._previousPushAmount={x:d,y:R},{x:n.x+d,y:n.y+R}}_applyPosition(n,e){if(this._setTransformOrigin(n),this._setOverlayElementStyles(e,n),this._setBoundingBoxStyles(e,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new m5(n,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=n.overlayY;i="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(n,e){const i=this._viewportRect,r=this._isRtl();let s,o,a,d,R,P;if("top"===e.overlayY)o=n.y,s=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-n.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const L=Math.min(i.bottom-n.y+i.top,n.y),K=this._lastBoundingBoxSize.height;s=2*L,o=n.y-L,s>K&&!this._isInitialRender&&!this._growAfterOpen&&(o=n.y-K/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)P=i.width-n.x+this._viewportMargin,d=n.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)R=n.x,d=i.right-n.x;else{const L=Math.min(i.right-n.x+i.left,n.x),K=this._lastBoundingBoxSize.width;d=2*L,R=n.x-L,d>K&&!this._isInitialRender&&!this._growAfterOpen&&(R=n.x-K/2)}return{top:o,left:R,bottom:a,right:P,width:d,height:s}}_setBoundingBoxStyles(n,e){const i=this._calculateBoundingBoxRect(n,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=xn(i.height),r.top=xn(i.top),r.bottom=xn(i.bottom),r.width=xn(i.width),r.left=xn(i.left),r.right=xn(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=xn(s)),o&&(r.maxWidth=xn(o))}this._lastBoundingBoxSize=i,Mo(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Mo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Mo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();Mo(i,this._getExactOverlayY(e,n,d)),Mo(i,this._getExactOverlayX(e,n,d))}else i.position="static";let a="",l=this._getOffset(e,"x"),u=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),u&&(a+=`translateY(${u}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=xn(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=xn(o.maxWidth):s&&(i.maxWidth="")),Mo(this._pane.style,i)}_getExactOverlayY(n,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===n.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=xn(s.y),r}_getExactOverlayX(n,e,i){let o,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,n);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=xn(s.x),r}_getScrollVisibility(){const n=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:EI(n,i),isOriginOutsideView:zm(n,i),isOverlayClipped:EI(e,i),isOverlayOutsideView:zm(e,i)}}_subtractOverflows(n,...e){return e.reduce((i,r)=>i-Math.max(r,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+n-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:n-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,e){return"x"===e?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&yh(n).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof ht)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const e=n.width||0,i=n.height||0;return{top:n.y,bottom:n.y+i,left:n.x,right:n.x+e,height:i,width:e}}}function Mo(t,n){for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function vI(t){if("number"!=typeof t&&null!=t){const[n,e]=t.split(E5);return e&&"px"!==e?null:parseFloat(n)}return t||null}function CI(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const TI="cdk-global-overlay-wrapper";class v5{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(n){const e=n.getConfig();this._overlayRef=n,this._width&&!e.width&&n.updateSize({width:this._width}),this._height&&!e.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(TI),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._rightOffset="",this._leftOffset=n,this._justifyContent="flex-start",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._leftOffset="",this._rightOffset=n,this._justifyContent="flex-end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._justifyContent="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);n.position=this._cssPosition,n.marginLeft=l?"0":this._leftOffset,n.marginTop=u?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=this._rightOffset,l?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(TI),i.justifyContent=i.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let C5=(()=>{class t{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new v5}flexibleConnectedTo(e){return new b5(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(ve(Za),ve(Ct),ve(kn),ve(qm))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),SI=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(ve(Ct))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),T5=(()=>{class t extends SI{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(ve(Ct),ve(tt,8))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),S5=(()=>{class t extends SI{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Io(s)},this._clickListener=s=>{const o=Io(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){const d=l[u];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(o)||d.overlayElement.contains(a))break;const R=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(s)):R.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return t.\u0275fac=function(e){return new(e||t)(ve(Ct),ve(kn),ve(tt,8))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),w5=0,qr=(()=>{class t{constructor(e,i,r,s,o,a,l,u,d,R,P){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=u,this._directionality=d,this._location=R,this._outsideClickDispatcher=P}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new Mh(e);return o.direction=o.direction||this._directionality.value,new y5(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+w5++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(wd)),new JH(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(ve(_5),ve(qm),ve(Os),ve(C5),ve(T5),ve(sn),ve(tt),ve(Ct),ve(Li),ve(ac),ve(S5))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();const D5=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],wI=new He("cdk-connected-overlay-scroll-strategy");let DI=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(X(ht))},t.\u0275dir=Ue({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),II=(()=>{class t{constructor(e,i,r,s,o){this._overlay=e,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.EMPTY,this._attachSubscription=h.EMPTY,this._detachSubscription=h.EMPTY,this._positionSubscription=h.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new et,this.positionChange=new et,this.attach=new et,this.detach=new et,this.overlayKeydown=new et,this.overlayOutsideClick=new et,this._templatePortal=new el(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=cn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=cn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=cn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=cn(e)}get push(){return this._push}set push(e){this._push=cn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=D5);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Hs(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Mh({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof DI?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(fI(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(X(qr),X(Xn),X(qn),X(wI),X(Li,8))},t.\u0275dir=Ue({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[An]}),t})();const A5={provide:wI,deps:[qr],useFactory:function I5(t){return()=>t.scrollStrategies.reposition()}};let Rh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({providers:[qr,A5],imports:[[Fc,Dh,Hm],Hm]}),t})();function Ro(t,n=Ch){return ye((e,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const u=s;s=null,i.next(u)}};function l(){const u=o+t,d=n.now();if(d<u)return r=this.schedule(void 0,u-d),void i.add(r);a()}e.subscribe(ue(i,u=>{s=u,o=n.now(),r||(r=n.schedule(l,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function Ym(t){return Dn((n,e)=>t<=e)}function Lc(t,n=ie){return t=null!=t?t:M5,ye((e,i)=>{let r,s=!0;e.subscribe(ue(i,o=>{const a=n(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function M5(t,n){return t===n}let MI=(()=>{class t{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),R5=(()=>{class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ar(e);return new T(r=>{const o=this._observeElement(i).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new le,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return t.\u0275fac=function(e){return new(e||t)(ve(MI))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Qm=(()=>{class t{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new et,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=cn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Vs(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Ro(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(X(R5),X(ht),X(tt))},t.\u0275dir=Ue({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Oh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({providers:[MI]}),t})();function Nh(t,n){return(t.getAttribute(n)||"").match(/\S+/g)||[]}const OI="cdk-describedby-message",Ph="cdk-describedby-host";let NI=0,P5=(()=>{class t{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+NI++,this._document=e}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=Km(i,r);"string"!=typeof i?(PI(i),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){var s;if(!i||!this._isElementNode(e))return;const o=Km(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const a=this._messageRegistry.get(o);a&&0===a.referenceCount&&this._deleteMessageElement(o)}0===(null===(s=this._messagesContainer)||void 0===s?void 0:s.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var e;const i=this._document.querySelectorAll(`[${Ph}="${this._id}"]`);for(let r=0;r<i.length;r++)this._removeCdkDescribedByReferenceIds(i[r]),i[r].removeAttribute(Ph);null===(e=this._messagesContainer)||void 0===e||e.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");PI(r),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Km(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){var i,r;null===(r=null===(i=this._messageRegistry.get(e))||void 0===i?void 0:i.messageElement)||void 0===r||r.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=Nh(e,"aria-describedby").filter(r=>0!=r.indexOf(OI));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function O5(t,n,e){const i=Nh(t,n);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),t.setAttribute(n,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(Ph,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function N5(t,n,e){const r=Nh(t,n).filter(s=>s!=e.trim());r.length?t.setAttribute(n,r.join(" ")):t.removeAttribute(n)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Ph)}_isElementDescribedByMessage(e,i){const r=Nh(e,"aria-describedby"),s=this._messageRegistry.get(i),o=s&&s.messageElement.id;return!!o&&-1!=r.indexOf(o)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(ve(Ct),ve(kn))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Km(t,n){return"string"==typeof t?`${n||""}/${t}`:t}function PI(t){t.id||(t.id=`${OI}-${NI++}`)}class xI{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new le,this._typeaheadSubscription=h.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new le,this.change=new le,n instanceof Ua&&n.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Pn(e=>this._pressedLetters.push(e)),Ro(n),Dn(()=>this._pressedLetters.length>0),de(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}setActiveItem(n){const e=this._activeItem;this.updateActiveItem(n),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(n){const e=n.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!n[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Hs(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const e=this._getItemsArray(),i="number"==typeof n?n:e.indexOf(n),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+n*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,e){const i=this._getItemsArray();if(i[n]){for(;this._skipPredicateFn(i[n]);)if(!i[n+=e])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof Ua?this._items.toArray():this._items}}class x5 extends xI{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}class k5 extends xI{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}let kI=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function L5(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function F5(t){try{return t.frameElement}catch(n){return null}}(function W5(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(i&&(-1===LI(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=LI(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function G5(t){let n=t.nodeName.toLowerCase(),e="input"===n&&t.type;return"text"===e||"password"===e||"select"===n||"textarea"===n}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function j5(t){return!function B5(t){return function H5(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function U5(t){let n=t.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(t)||function V5(t){return function $5(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||FI(t))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return t.\u0275fac=function(e){return new(e||t)(ve(kn))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function FI(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let n=t.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function LI(t){if(!FI(t))return null;const n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class z5{constructor(n,e,i,r,s=!1){this._element=n,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}destroy(){const n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(n),!!i}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){const e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const e=n.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(In(1)).subscribe(n)}}let q5=(()=>{class t{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new z5(e,this._checker,this._ngZone,this._document,i)}}return t.\u0275fac=function(e){return new(e||t)(ve(kI),ve(tt),ve(Ct))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function UI(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function BI(t){const n=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const Y5=new He("cdk-input-modality-detector-options"),Q5={ignoreKeys:[18,17,224,91,16]},tl=Xa({passive:!0,capture:!0});let K5=(()=>{class t{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new ci(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(u=>u===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Io(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(UI(o)?"keyboard":"mouse"),this._mostRecentTarget=Io(o))},this._onTouchstart=o=>{BI(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Io(o))},this._options=Object.assign(Object.assign({},Q5),s),this.modalityDetected=this._modality.pipe(Ym(1)),this.modalityChanged=this.modalityDetected.pipe(Lc()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,tl),r.addEventListener("mousedown",this._onMousedown,tl),r.addEventListener("touchstart",this._onTouchstart,tl)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,tl),document.removeEventListener("mousedown",this._onMousedown,tl),document.removeEventListener("touchstart",this._onTouchstart,tl))}}return t.\u0275fac=function(e){return new(e||t)(ve(kn),ve(tt),ve(Ct),ve(Y5,8))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const X5=new He("liveAnnouncerElement",{providedIn:"root",factory:function Z5(){return null}}),J5=new He("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Xm=(()=>{class t{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return t.\u0275fac=function(e){return new(e||t)(ve(X5,8),ve(tt),ve(Ct),ve(J5,8))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const e$=new He("cdk-focus-monitor-default-options"),xh=Xa({passive:!0,capture:!0});let Uc=(()=>{class t{constructor(e,i,r,s,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new le,this._rootNodeFocusAndBlurListener=a=>{const l=Io(a),u="focus"===a.type?this._onFocus:this._onBlur;for(let d=l;d;d=d.parentElement)u.call(this,a,d)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(e,i=!1){const r=Ar(e);if(!this._platform.isBrowser||1!==r.nodeType)return it(null);const s=function jH(t){if(function GH(){if(null==Lm){const t="undefined"!=typeof document?document.head:null;Lm=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Lm}()){const n=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new le,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Ar(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Ar(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Io(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,xh),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,xh)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(at(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xh),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xh),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return t.\u0275fac=function(e){return new(e||t)(ve(tt),ve(kn),ve(K5),ve(Ct,8),ve(e$,8))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),t$=(()=>{class t{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new et}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(Uc))},t.\u0275dir=Ue({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})();const HI="cdk-high-contrast-black-on-white",$I="cdk-high-contrast-white-on-black",Zm="cdk-high-contrast-active";let GI=(()=>{class t{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Zm),e.remove(HI),e.remove($I),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Zm),e.add(HI)):2===i&&(e.add(Zm),e.add($I))}}}return t.\u0275fac=function(e){return new(e||t)(ve(kn),ve(Ct))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Jm=(()=>{class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(ve(GI))},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[Oh]]}),t})();class jI{}const fs="*";function Oo(t,n){return{type:7,name:t,definitions:n,options:{}}}function sr(t,n=null){return{type:4,styles:n,timings:t}}function WI(t,n=null){return{type:3,steps:t,options:n}}function zI(t,n=null){return{type:2,steps:t,options:n}}function an(t){return{type:6,styles:t,offset:null}}function Ui(t,n,e){return{type:0,name:t,styles:n,options:e}}function Bi(t,n,e=null){return{type:1,expr:t,animation:n,options:e}}function ey(t=null){return{type:9,options:t}}function ty(t,n,e=null){return{type:11,selector:t,animation:n,options:e}}function qI(t){Promise.resolve(null).then(t)}class Bc{constructor(n=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qI(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class YI{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let e=0,i=0,r=0;const s=this.players.length;0==s?qI(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const e=n*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const n=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Bt=!1;function QI(t){return new Xe(3e3,Bt)}function L$(){return"undefined"!=typeof window&&void 0!==window.document}function iy(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $s(t){switch(t.length){case 0:return new Bc;case 1:return t[0];default:return new YI(t)}}function KI(t,n,e,i,r={},s={}){const o=[],a=[];let l=-1,u=null;if(i.forEach(d=>{const R=d.offset,P=R==l,L=P&&u||{};Object.keys(d).forEach(K=>{let ce=K,he=d[K];if("offset"!==K)switch(ce=n.normalizePropertyName(ce,o),he){case"!":he=r[K];break;case fs:he=s[K];break;default:he=n.normalizeStyleValue(K,ce,he,o)}L[ce]=he}),P||a.push(L),u=L,l=R}),o.length)throw function D$(t){return new Xe(3502,Bt)}();return a}function ry(t,n,e,i){switch(n){case"start":t.onStart(()=>i(e&&sy(e,"start",t)));break;case"done":t.onDone(()=>i(e&&sy(e,"done",t)));break;case"destroy":t.onDestroy(()=>i(e&&sy(e,"destroy",t)))}}function sy(t,n,e){const i=e.totalTime,s=oy(t.element,t.triggerName,t.fromState,t.toState,n||t.phaseName,null==i?t.totalTime:i,!!e.disabled),o=t._data;return null!=o&&(s._data=o),s}function oy(t,n,e,i,r="",s=0,o){return{element:t,triggerName:n,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Vi(t,n,e){let i;return t instanceof Map?(i=t.get(n),i||t.set(n,i=e)):(i=t[n],i||(i=t[n]=e)),i}function XI(t){const n=t.indexOf(":");return[t.substring(1,n),t.substr(n+1)]}let ay=(t,n)=>!1,ZI=(t,n,e)=>[],JI=null;function ly(t){const n=t.parentNode||t.host;return n===JI?null:n}(iy()||"undefined"!=typeof Element)&&(L$()?(JI=(()=>document.documentElement)(),ay=(t,n)=>{for(;n;){if(n===t)return!0;n=ly(n)}return!1}):ay=(t,n)=>t.contains(n),ZI=(t,n,e)=>{if(e)return Array.from(t.querySelectorAll(n));const i=t.querySelector(n);return i?[i]:[]});let No=null,eA=!1;function tA(t){No||(No=function B$(){return"undefined"!=typeof document?document.body:null}()||{},eA=!!No.style&&"WebkitAppearance"in No.style);let n=!0;return No.style&&!function U$(t){return"ebkit"==t.substring(1,6)}(t)&&(n=t in No.style,!n&&eA&&(n="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in No.style)),n}const nA=ay,iA=ZI;let rA=(()=>{class t{validateStyleProperty(e){return tA(e)}matchesElement(e,i){return!1}containsElement(e,i){return nA(e,i)}getParentElement(e){return ly(e)}query(e,i,r){return iA(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new Bc(r,s)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})(),cy=(()=>{class t{}return t.NOOP=new rA,t})();const uy="ng-enter",Fh="ng-leave",Lh="ng-trigger",Uh=".ng-trigger",oA="ng-animating",dy=".ng-animating";function Po(t){if("number"==typeof t)return t;const n=t.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:hy(parseFloat(n[1]),n[2])}function hy(t,n){return"s"===n?1e3*t:t}function Bh(t,n,e){return t.hasOwnProperty("duration")?t:function $$(t,n,e){let r,s=0,o="";if("string"==typeof t){const a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(QI()),{duration:0,delay:0,easing:""};r=hy(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=hy(parseFloat(l),a[4]));const u=a[5];u&&(o=u)}else r=t;if(!e){let a=!1,l=n.length;r<0&&(n.push(function r$(){return new Xe(3100,Bt)}()),a=!0),s<0&&(n.push(function s$(){return new Xe(3101,Bt)}()),a=!0),a&&n.splice(l,0,QI())}return{duration:r,delay:s,easing:o}}(t,n,e)}function nl(t,n={}){return Object.keys(t).forEach(e=>{n[e]=t[e]}),n}function Gs(t,n,e={}){if(n)for(let i in t)e[i]=t[i];else nl(t,e);return e}function lA(t,n,e){return e?n+":"+e+";":""}function cA(t){let n="";for(let e=0;e<t.style.length;e++){const i=t.style.item(e);n+=lA(0,i,t.style.getPropertyValue(i))}for(const e in t.style)t.style.hasOwnProperty(e)&&!e.startsWith("_")&&(n+=lA(0,W$(e),t.style[e]));t.setAttribute("style",n)}function Yr(t,n,e){t.style&&(Object.keys(n).forEach(i=>{const r=py(i);e&&!e.hasOwnProperty(i)&&(e[i]=t.style[r]),t.style[r]=n[i]}),iy()&&cA(t))}function xo(t,n){t.style&&(Object.keys(n).forEach(e=>{const i=py(e);t.style[i]=""}),iy()&&cA(t))}function Vc(t){return Array.isArray(t)?1==t.length?t[0]:zI(t):t}const fy=new RegExp("{{\\s*(.+?)\\s*}}","g");function uA(t){let n=[];if("string"==typeof t){let e;for(;e=fy.exec(t);)n.push(e[1]);fy.lastIndex=0}return n}function Vh(t,n,e){const i=t.toString(),r=i.replace(fy,(s,o)=>{let a=n[o];return n.hasOwnProperty(o)||(e.push(function a$(t){return new Xe(3003,Bt)}()),a=""),a.toString()});return r==i?t:r}function Hh(t){const n=[];let e=t.next();for(;!e.done;)n.push(e.value),e=t.next();return n}const j$=/-+([a-z0-9])/g;function py(t){return t.replace(j$,(...n)=>n[1].toUpperCase())}function W$(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Hi(t,n,e){switch(n.type){case 7:return t.visitTrigger(n,e);case 0:return t.visitState(n,e);case 1:return t.visitTransition(n,e);case 2:return t.visitSequence(n,e);case 3:return t.visitGroup(n,e);case 4:return t.visitAnimate(n,e);case 5:return t.visitKeyframes(n,e);case 6:return t.visitStyle(n,e);case 8:return t.visitReference(n,e);case 9:return t.visitAnimateChild(n,e);case 10:return t.visitAnimateRef(n,e);case 11:return t.visitQuery(n,e);case 12:return t.visitStagger(n,e);default:throw function l$(t){return new Xe(3004,Bt)}()}}function dA(t,n){return window.getComputedStyle(t)[n]}function X$(t,n){const e=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function Z$(t,n,e){if(":"==t[0]){const l=function J$(t,n){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return n.push(function C$(t){return new Xe(3016,Bt)}()),"* => *"}}(t,e);if("function"==typeof l)return void n.push(l);t=l}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function v$(t){return new Xe(3015,Bt)}()),n;const r=i[1],s=i[2],o=i[3];n.push(hA(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&n.push(hA(o,r))}(i,e,n)):e.push(t),e}const Wh=new Set(["true","1"]),zh=new Set(["false","0"]);function hA(t,n){const e=Wh.has(t)||zh.has(t),i=Wh.has(n)||zh.has(n);return(r,s)=>{let o="*"==t||t==r,a="*"==n||n==s;return!o&&e&&"boolean"==typeof r&&(o=r?Wh.has(t):zh.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?Wh.has(n):zh.has(n)),o&&a}}const e4=new RegExp("s*:selfs*,?","g");function gy(t,n,e,i){return new t4(t).build(n,e,i)}class t4{constructor(n){this._driver=n}build(n,e,i){const r=new s4(e);this._resetContextStyleTimingState(r);const s=Hi(this,Vc(n),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles={},n.collectedStyles[""]={},n.currentTime=0}visitTrigger(n,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==n.name.charAt(0)&&e.errors.push(function u$(){return new Xe(3006,Bt)}()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,e))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function d$(){return new Xe(3007,Bt)}())}),{type:7,name:n.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(n,e){const i=this.visitStyle(n.styles,e),r=n.options&&n.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{if(qh(a)){const l=a;Object.keys(l).forEach(u=>{uA(l[u]).forEach(d=>{o.hasOwnProperty(d)||s.add(d)})})}}),s.size&&(Hh(s.values()),e.errors.push(function h$(t,n){return new Xe(3008,Bt)}()))}return{type:0,name:n.name,style:i,options:r?{params:r}:null}}visitTransition(n,e){e.queryCount=0,e.depCount=0;const i=Hi(this,Vc(n.animation),e);return{type:1,matchers:X$(n.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:ko(n.options)}}visitSequence(n,e){return{type:2,steps:n.steps.map(i=>Hi(this,i,e)),options:ko(n.options)}}visitGroup(n,e){const i=e.currentTime;let r=0;const s=n.steps.map(o=>{e.currentTime=i;const a=Hi(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:ko(n.options)}}visitAnimate(n,e){const i=function a4(t,n){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return _y(Bh(t,n).duration,0,"");const e=t;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=_y(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Bh(e,n);return _y(r.duration,r.delay,r.easing)}(n.timings,e.errors);e.currentAnimateTimings=i;let r,s=n.styles?n.styles:an({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=n.styles,a=!1;if(!o){a=!0;const u={};i.easing&&(u.easing=i.easing),o=an(u)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(n,e){const i=this._makeStyleAst(n,e);return this._validateStyleAst(i,e),i}_makeStyleAst(n,e){const i=[];Array.isArray(n.styles)?n.styles.forEach(o=>{"string"==typeof o?o==fs?i.push(o):e.errors.push(function f$(t){return new Xe(3002,Bt)}()):i.push(o)}):i.push(n.styles);let r=!1,s=null;return i.forEach(o=>{if(qh(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!r)for(let u in a)if(a[u].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:n.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(n,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),n.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete o[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],u=l[a];let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(function p$(t,n,e,i,r){return new Xe(3010,Bt)}()),d=!1),s=u.startTime),d&&(l[a]={startTime:s,endTime:r}),e.options&&function G$(t,n,e){const i=n.params||{},r=uA(t);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function o$(t){return new Xe(3001,Bt)}())})}(o[a],e.options,e.errors)})})}visitKeyframes(n,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function g$(){return new Xe(3011,Bt)}()),i;let s=0;const o=[];let a=!1,l=!1,u=0;const d=n.steps.map(Te=>{const ge=this._makeStyleAst(Te,e);let Ie=null!=ge.offset?ge.offset:function o4(t){if("string"==typeof t)return null;let n=null;if(Array.isArray(t))t.forEach(e=>{if(qh(e)&&e.hasOwnProperty("offset")){const i=e;n=parseFloat(i.offset),delete i.offset}});else if(qh(t)&&t.hasOwnProperty("offset")){const e=t;n=parseFloat(e.offset),delete e.offset}return n}(ge.styles),De=0;return null!=Ie&&(s++,De=ge.offset=Ie),l=l||De<0||De>1,a=a||De<u,u=De,o.push(De),ge});l&&e.errors.push(function _$(){return new Xe(3012,Bt)}()),a&&e.errors.push(function m$(){return new Xe(3200,Bt)}());const R=n.steps.length;let P=0;s>0&&s<R?e.errors.push(function y$(){return new Xe(3202,Bt)}()):0==s&&(P=1/(R-1));const L=R-1,K=e.currentTime,ce=e.currentAnimateTimings,he=ce.duration;return d.forEach((Te,ge)=>{const Ie=P>0?ge==L?1:P*ge:o[ge],De=Ie*he;e.currentTime=K+ce.delay+De,ce.duration=De,this._validateStyleAst(Te,e),Te.offset=Ie,i.styles.push(Te)}),i}visitReference(n,e){return{type:8,animation:Hi(this,Vc(n.animation),e),options:ko(n.options)}}visitAnimateChild(n,e){return e.depCount++,{type:9,options:ko(n.options)}}visitAnimateRef(n,e){return{type:10,animation:this.visitReference(n.animation,e),options:ko(n.options)}}visitQuery(n,e){const i=e.currentQuerySelector,r=n.options||{};e.queryCount++,e.currentQuery=n;const[s,o]=function n4(t){const n=!!t.split(/\s*,\s*/).find(e=>":self"==e);return n&&(t=t.replace(e4,"")),t=t.replace(/@\*/g,Uh).replace(/@\w+/g,e=>Uh+"-"+e.substr(1)).replace(/:animating/g,dy),[t,n]}(n.selector);e.currentQuerySelector=i.length?i+" "+s:s,Vi(e.collectedStyles,e.currentQuerySelector,{});const a=Hi(this,Vc(n.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:n.selector,options:ko(n.options)}}visitStagger(n,e){e.currentQuery||e.errors.push(function E$(){return new Xe(3013,Bt)}());const i="full"===n.timings?{duration:0,delay:0,easing:"full"}:Bh(n.timings,e.errors,!0);return{type:12,animation:Hi(this,Vc(n.animation),e),timings:i,options:null}}}class s4{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qh(t){return!Array.isArray(t)&&"object"==typeof t}function ko(t){return t?(t=nl(t)).params&&(t.params=function r4(t){return t?nl(t):null}(t.params)):t={},t}function _y(t,n,e){return{duration:t,delay:n,easing:e}}function my(t,n,e,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:n,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Yh{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,e){let i=this._map.get(n);i||this._map.set(n,i=[]),i.push(...e)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const u4=new RegExp(":enter","g"),h4=new RegExp(":leave","g");function yy(t,n,e,i,r,s={},o={},a,l,u=[]){return(new f4).buildKeyframes(t,n,e,i,r,s,o,a,l,u)}class f4{buildKeyframes(n,e,i,r,s,o,a,l,u,d=[]){u=u||new Yh;const R=new Ey(n,e,u,r,s,d,[]);R.options=l,R.currentTimeline.setStyles([o],null,R.errors,l),Hi(this,i,R);const P=R.timelines.filter(L=>L.containsAnimation());if(Object.keys(a).length){let L;for(let K=P.length-1;K>=0;K--){const ce=P[K];if(ce.element===e){L=ce;break}}L&&!L.allowOnlyTimelineStyles()&&L.setStyles([a],null,R.errors,l)}return P.length?P.map(L=>L.buildKeyframes()):[my(e,[],[],[],0,0,"",!1)]}visitTrigger(n,e){}visitState(n,e){}visitTransition(n,e){}visitAnimateChild(n,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(n.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=n}visitAnimateRef(n,e){const i=e.createSubContext(n.options);i.transformIntoNewTimeline(),this.visitReference(n.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=n}_visitSubInstructions(n,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?Po(i.duration):null,a=null!=i.delay?Po(i.delay):null;return 0!==o&&n.forEach(l=>{const u=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(n,e){e.updateOptions(n.options,!0),Hi(this,n.animation,e),e.previousNode=n}visitSequence(n,e){const i=e.subContextCount;let r=e;const s=n.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Qh);const o=Po(s.delay);r.delayNextStep(o)}n.steps.length&&(n.steps.forEach(o=>Hi(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=n}visitGroup(n,e){const i=[];let r=e.currentTimeline.currentTime;const s=n.options&&n.options.delay?Po(n.options.delay):0;n.steps.forEach(o=>{const a=e.createSubContext(n.options);s&&a.delayNextStep(s),Hi(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=n}_visitTiming(n,e){if(n.dynamic){const i=n.strValue;return Bh(e.params?Vh(i,e.params,e.errors):i,e.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,e){const i=e.currentAnimateTimings=this._visitTiming(n.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=n.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=n}visitStyle(n,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||n.easing;n.isEmptyStep?i.applyEmptyStep(s):i.setStyles(n.styles,s,e.errors,e.options),e.previousNode=n}visitKeyframes(n,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,n.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=n}visitQuery(n,e){const i=e.currentTimeline.currentTime,r=n.options||{},s=r.delay?Po(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Qh);let o=i;const a=e.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((u,d)=>{e.currentQueryIndex=d;const R=e.createSubContext(n.options,u);s&&R.delayNextStep(s),u===e.element&&(l=R.currentTimeline),Hi(this,n.animation,R),R.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,R.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=n}visitStagger(n,e){const i=e.parentContext,r=e.currentTimeline,s=n.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const d=e.currentTimeline;l&&d.delayNextStep(l);const R=d.currentTime;Hi(this,n.animation,e),e.previousNode=n,i.currentStaggerTime=r.currentTime-R+(r.startTime-i.currentTimeline.startTime)}}const Qh={};class Ey{constructor(n,e,i,r,s,o,a,l){this._driver=n,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Qh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Kh(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,e){if(!n)return;const i=n;let r=this.options;null!=i.duration&&(r.duration=Po(i.duration)),null!=i.delay&&(r.delay=Po(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Vh(s[a],o,this.errors))})}}_copyOptions(){const n={};if(this.options){const e=this.options.params;if(e){const i=n.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return n}createSubContext(n=null,e,i){const r=e||this.element,s=new Ey(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(n),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(n){return this.previousNode=Qh,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,e,i){const r={duration:null!=e?e:n.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+n.delay,easing:""},s=new p4(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,r,n.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,e,i,r,s,o){let a=[];if(r&&a.push(this.element),n.length>0){n=(n=n.replace(u4,"."+this._enterClassName)).replace(h4,"."+this._leaveClassName);let u=this._driver.query(this.element,n,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!s&&0==a.length&&o.push(function b$(t){return new Xe(3014,Bt)}()),a}}class Kh{constructor(n,e,i,r){this._driver=n,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+n),e&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,e){return this.applyStylesToKeyframe(),new Kh(this._driver,n,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,e){this._localTimelineStyles[n]=e,this._globalTimelineStyles[n]=e,this._styleSummary[n]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&(this._previousKeyframe.easing=n),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||fs,this._currentKeyframe[e]=fs}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},o=function g4(t,n){const e={};let i;return t.forEach(r=>{"*"===r?(i=i||Object.keys(n),i.forEach(s=>{e[s]=fs})):Gs(r,!1,e)}),e}(n,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=Vh(o[a],s,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:fs),this._updateStyle(a,l)})}applyStylesToKeyframe(){const n=this._pendingStyles,e=Object.keys(n);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=n[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(n=>{const e=this._localTimelineStyles[n];this._pendingStyles[n]=e,this._updateStyle(n,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let e in this._currentKeyframe)n.push(e);return n}mergeTimelineCollectedStyles(n){Object.keys(n._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=n._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const u=Gs(a,!0);Object.keys(u).forEach(d=>{const R=u[d];"!"==R?n.add(d):R==fs&&e.add(d)}),i||(u.offset=l/this.duration),r.push(u)});const s=n.size?Hh(n.values()):[],o=e.size?Hh(e.values()):[];if(i){const a=r[0],l=nl(a);a.offset=0,l.offset=1,r=[a,l]}return my(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class p4 extends Kh{constructor(n,e,i,r,s,o,a=!1){super(n,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=Gs(n[0],!1);l.offset=0,s.push(l);const u=Gs(n[0],!1);u.offset=gA(a),s.push(u);const d=n.length-1;for(let R=1;R<=d;R++){let P=Gs(n[R],!1);P.offset=gA((e+P.offset*i)/o),s.push(P)}i=o,e=0,r="",n=s}return my(this.element,n,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function gA(t,n=3){const e=Math.pow(10,n-1);return Math.round(t*e)/e}class by{}class _4 extends by{normalizePropertyName(n,e){return py(n)}normalizeStyleValue(n,e,i,r){let s="";const o=i.toString().trim();if(m4[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function c$(t,n){return new Xe(3005,Bt)}())}return o+s}}const m4=(()=>function y4(t){const n={};return t.forEach(e=>n[e]=!0),n}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function _A(t,n,e,i,r,s,o,a,l,u,d,R,P){return{type:0,element:t,triggerName:n,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:d,totalTime:R,errors:P}}const vy={};class mA{constructor(n,e,i){this._triggerName=n,this.ast=e,this._stateStyles=i}match(n,e,i,r){return function E4(t,n,e,i,r){return t.some(s=>s(n,e,i,r))}(this.ast.matchers,n,e,i,r)}buildStyles(n,e,i){const r=this._stateStyles["*"],s=this._stateStyles[n],o=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):o}build(n,e,i,r,s,o,a,l,u,d){const R=[],P=this.ast.options&&this.ast.options.params||vy,K=this.buildStyles(i,a&&a.params||vy,R),ce=l&&l.params||vy,he=this.buildStyles(r,ce,R),Te=new Set,ge=new Map,Ie=new Map,De="void"===r,Ge={params:Object.assign(Object.assign({},P),ce)},St=d?[]:yy(n,e,this.ast.animation,s,o,K,he,Ge,u,R);let We=0;if(St.forEach(wt=>{We=Math.max(wt.duration+wt.delay,We)}),R.length)return _A(e,this._triggerName,i,r,De,K,he,[],[],ge,Ie,We,R);St.forEach(wt=>{const ot=wt.element,Et=Vi(ge,ot,{});wt.preStyleProps.forEach(ui=>Et[ui]=!0);const ii=Vi(Ie,ot,{});wt.postStyleProps.forEach(ui=>ii[ui]=!0),ot!==e&&Te.add(ot)});const Ot=Hh(Te.values());return _A(e,this._triggerName,i,r,De,K,he,St,Ot,ge,Ie,We)}}class b4{constructor(n,e,i){this.styles=n,this.defaultParams=e,this.normalizer=i}buildStyles(n,e){const i={},r=nl(this.defaultParams);return Object.keys(n).forEach(s=>{const o=n[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=Vh(l,r,e));const u=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,u,l,e),i[u]=l})}}),i}}class C4{constructor(n,e,i){this.name=n,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new b4(r.style,r.options&&r.options.params||{},i)}),yA(this.states,"true","1"),yA(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new mA(n,r,this.states))}),this.fallbackTransition=function T4(t,n,e){return new mA(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,e,i,r){return this.transitionFactories.find(o=>o.match(n,e,i,r))||null}matchStyles(n,e,i){return this.fallbackTransition.buildStyles(n,e,i)}}function yA(t,n,e){t.hasOwnProperty(n)?t.hasOwnProperty(e)||(t[e]=t[n]):t.hasOwnProperty(e)&&(t[n]=t[e])}const S4=new Yh;class w4{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(n,e){const i=[],s=gy(this._driver,e,i,[]);if(i.length)throw function I$(t){return new Xe(3503,Bt)}();this._animations[n]=s}_buildPlayer(n,e,i){const r=n.element,s=KI(0,this._normalizer,0,n.keyframes,e,i);return this._driver.animate(r,s,n.duration,n.delay,n.easing,[],!0)}create(n,e,i={}){const r=[],s=this._animations[n];let o;const a=new Map;if(s?(o=yy(this._driver,e,s,uy,Fh,{},{},i,S4,r),o.forEach(d=>{const R=Vi(a,d.element,{});d.postStyleProps.forEach(P=>R[P]=null)})):(r.push(function A$(){return new Xe(3300,Bt)}()),o=[]),r.length)throw function M$(t){return new Xe(3504,Bt)}();a.forEach((d,R)=>{Object.keys(d).forEach(P=>{d[P]=this._driver.computeStyle(R,P,fs)})});const u=$s(o.map(d=>{const R=a.get(d.element);return this._buildPlayer(d,{},R)}));return this._playersById[n]=u,u.onDestroy(()=>this.destroy(n)),this.players.push(u),u}destroy(n){const e=this._getPlayer(n);e.destroy(),delete this._playersById[n];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(n){const e=this._playersById[n];if(!e)throw function R$(t){return new Xe(3301,Bt)}();return e}listen(n,e,i,r){const s=oy(e,"","","");return ry(this._getPlayer(n),i,s,r),()=>{}}command(n,e,i,r){if("register"==i)return void this.register(n,r[0]);if("create"==i)return void this.create(n,e,r[0]||{});const s=this._getPlayer(n);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(n)}}}const EA="ng-animate-queued",Cy="ng-animate-disabled",R4=[],bA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},O4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},or="__ng_removed";class Ty{constructor(n,e=""){this.namespaceId=e;const i=n&&n.hasOwnProperty("value");if(this.value=function k4(t){return null!=t?t:null}(i?n.value:n),i){const s=nl(n);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const e=n.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Hc="void",Sy=new Ty(Hc);class N4{constructor(n,e,i){this.id=n,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,ar(e,this._hostClassName)}listen(n,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function O$(t,n){return new Xe(3302,Bt)}();if(null==i||0==i.length)throw function N$(t){return new Xe(3303,Bt)}();if(!function F4(t){return"start"==t||"done"==t}(i))throw function P$(t,n){return new Xe(3400,Bt)}();const s=Vi(this._elementListeners,n,[]),o={name:e,phase:i,callback:r};s.push(o);const a=Vi(this._engine.statesByElement,n,{});return a.hasOwnProperty(e)||(ar(n,Lh),ar(n,Lh+"-"+e),a[e]=Sy),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[e]||delete a[e]})}}register(n,e){return!this._triggers[n]&&(this._triggers[n]=e,!0)}_getTrigger(n){const e=this._triggers[n];if(!e)throw function x$(t){return new Xe(3401,Bt)}();return e}trigger(n,e,i,r=!0){const s=this._getTrigger(e),o=new wy(this.id,e,n);let a=this._engine.statesByElement.get(n);a||(ar(n,Lh),ar(n,Lh+"-"+e),this._engine.statesByElement.set(n,a={}));let l=a[e];const u=new Ty(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a[e]=u,l||(l=Sy),u.value!==Hc&&l.value===u.value){if(!function B4(t,n){const e=Object.keys(t),i=Object.keys(n);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!n.hasOwnProperty(s)||t[s]!==n[s])return!1}return!0}(l.params,u.params)){const ce=[],he=s.matchStyles(l.value,l.params,ce),Te=s.matchStyles(u.value,u.params,ce);ce.length?this._engine.reportError(ce):this._engine.afterFlush(()=>{xo(n,he),Yr(n,Te)})}return}const P=Vi(this._engine.playersByElement,n,[]);P.forEach(ce=>{ce.namespaceId==this.id&&ce.triggerName==e&&ce.queued&&ce.destroy()});let L=s.matchTransition(l.value,u.value,n,u.params),K=!1;if(!L){if(!r)return;L=s.fallbackTransition,K=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:e,transition:L,fromState:l,toState:u,player:o,isFallbackTransition:K}),K||(ar(n,EA),o.onStart(()=>{il(n,EA)})),o.onDone(()=>{let ce=this.players.indexOf(o);ce>=0&&this.players.splice(ce,1);const he=this._engine.playersByElement.get(n);if(he){let Te=he.indexOf(o);Te>=0&&he.splice(Te,1)}}),this.players.push(o),P.push(o),o}deregister(n){delete this._triggers[n],this._engine.statesByElement.forEach((e,i)=>{delete e[n]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const e=this._engine.playersByElement.get(n);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,e){const i=this._engine.driver.query(n,Uh,!0);i.forEach(r=>{if(r[or])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(n,e,i,r){const s=this._engine.statesByElement.get(n),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(l=>{if(o.set(l,s[l].value),this._triggers[l]){const u=this.trigger(n,l,Hc,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,e,o),i&&$s(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const e=this._elementListeners.get(n),i=this._engine.statesByElement.get(n);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers[o].fallbackTransition,u=i[o]||Sy,d=new Ty(Hc),R=new wy(this.id,o,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:o,transition:l,fromState:u,toState:d,player:R,isFallbackTransition:!0})})}}removeNode(n,e){const i=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,e),this.triggerLeaveAnimation(n,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(n):[];if(s&&s.length)r=!0;else{let o=n;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(n),r)i.markElementAsRemoved(this.id,n,!1,e);else{const s=n[or];(!s||s===bA)&&(i.afterFlush(()=>this.clearElementCache(n)),i.destroyInnerAnimations(n),i._onRemovalComplete(n,e))}}insertNode(n,e){ar(n,this._hostClassName)}drainQueuedTransitions(n){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=oy(s,i.triggerName,i.fromState.value,i.toState.value);l._data=n,ry(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(n){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let e=!1;return this._elementListeners.has(n)&&(e=!0),e=!!this._queue.find(i=>i.element===n)||e,e}}class P4{constructor(n,e,i){this.bodyNode=n,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(n,e){this.onRemovalComplete(n,e)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&n.push(i)})}),n}createNamespace(n,e){const i=new N4(n,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[n]=i}_balanceNamespaceList(n,e){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const u=i.indexOf(l);i.splice(u+1,0,n),o=!0;break}a=this.driver.getParentElement(a)}}else for(let a=s;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,e)){i.splice(a+1,0,n),o=!0;break}o||i.unshift(n)}else i.push(n);return r.set(e,n),n}register(n,e){let i=this._namespaceLookup[n];return i||(i=this.createNamespace(n,e)),i}registerTrigger(n,e,i){let r=this._namespaceLookup[n];r&&r.register(e,i)&&this.totalAnimations++}destroy(n,e){if(!n)return;const i=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[n];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const e=new Set,i=this.statesByElement.get(n);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const o=i[r[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&e.add(a)}}}return e}trigger(n,e,i,r){if(Xh(e)){const s=this._fetchNamespace(n);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(n,e,i,r){if(!Xh(e))return;const s=e[or];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(n){const o=this._fetchNamespace(n);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,e){e?this.disabledNodes.has(n)||(this.disabledNodes.add(n),ar(n,Cy)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),il(n,Cy))}removeNode(n,e,i,r){if(Xh(e)){const s=n?this._fetchNamespace(n):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(n,e,!1,r),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==n&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(n,e,i,r,s){this.collectedLeaveElements.push(e),e[or]={namespaceId:n,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(n,e,i,r,s){return Xh(e)?this._fetchNamespace(n).listen(e,i,r,s):()=>{}}_buildInstruction(n,e,i,r,s){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,i,r,n.fromState.options,n.toState.options,e,s)}destroyInnerAnimations(n){let e=this.driver.query(n,Uh,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(n,dy,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(n){const e=this.playersByElement.get(n);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(n){const e=this.playersByQueriedElement.get(n);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return $s(this.players).onDone(()=>n());n()})}processLeaveNode(n){var e;const i=n[or];if(i&&i.setForRemoval){if(n[or]=bA,i.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,i.setForRemoval)}(null===(e=n.classList)||void 0===e?void 0:e.contains(Cy))&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ar(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,n)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?$s(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(n){throw function k$(t){return new Xe(3402,Bt)}()}_flushAnimations(n,e){const i=new Yh,r=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(qe=>{d.add(qe);const nt=this.driver.query(qe,".ng-animate-queued",!0);for(let ft=0;ft<nt.length;ft++)d.add(nt[ft])});const R=this.bodyNode,P=Array.from(this.statesByElement.keys()),L=TA(P,this.collectedEnterElements),K=new Map;let ce=0;L.forEach((qe,nt)=>{const ft=uy+ce++;K.set(nt,ft),qe.forEach(jt=>ar(jt,ft))});const he=[],Te=new Set,ge=new Set;for(let qe=0;qe<this.collectedLeaveElements.length;qe++){const nt=this.collectedLeaveElements[qe],ft=nt[or];ft&&ft.setForRemoval&&(he.push(nt),Te.add(nt),ft.hasAnimation?this.driver.query(nt,".ng-star-inserted",!0).forEach(jt=>Te.add(jt)):ge.add(nt))}const Ie=new Map,De=TA(P,Array.from(Te));De.forEach((qe,nt)=>{const ft=Fh+ce++;Ie.set(nt,ft),qe.forEach(jt=>ar(jt,ft))}),n.push(()=>{L.forEach((qe,nt)=>{const ft=K.get(nt);qe.forEach(jt=>il(jt,ft))}),De.forEach((qe,nt)=>{const ft=Ie.get(nt);qe.forEach(jt=>il(jt,ft))}),he.forEach(qe=>{this.processLeaveNode(qe)})});const Ge=[],St=[];for(let qe=this._namespaceList.length-1;qe>=0;qe--)this._namespaceList[qe].drainQueuedTransitions(e).forEach(ft=>{const jt=ft.player,Qn=ft.element;if(Ge.push(jt),this.collectedEnterElements.length){const vi=Qn[or];if(vi&&vi.setForMove){if(vi.previousTriggersValues&&vi.previousTriggersValues.has(ft.triggerName)){const Yo=vi.previousTriggersValues.get(ft.triggerName),eo=this.statesByElement.get(ft.element);eo&&eo[ft.triggerName]&&(eo[ft.triggerName].value=Yo)}return void jt.destroy()}}const Zr=!R||!this.driver.containsElement(R,Qn),Gi=Ie.get(Qn),Js=K.get(Qn),gn=this._buildInstruction(ft,i,Js,Gi,Zr);if(gn.errors&&gn.errors.length)return void St.push(gn);if(Zr)return jt.onStart(()=>xo(Qn,gn.fromStyles)),jt.onDestroy(()=>Yr(Qn,gn.toStyles)),void r.push(jt);if(ft.isFallbackTransition)return jt.onStart(()=>xo(Qn,gn.fromStyles)),jt.onDestroy(()=>Yr(Qn,gn.toStyles)),void r.push(jt);const RO=[];gn.timelines.forEach(vi=>{vi.stretchStartingKeyframe=!0,this.disabledNodes.has(vi.element)||RO.push(vi)}),gn.timelines=RO,i.append(Qn,gn.timelines),o.push({instruction:gn,player:jt,element:Qn}),gn.queriedElements.forEach(vi=>Vi(a,vi,[]).push(jt)),gn.preStyleProps.forEach((vi,Yo)=>{const eo=Object.keys(vi);if(eo.length){let Qo=l.get(Yo);Qo||l.set(Yo,Qo=new Set),eo.forEach(IE=>Qo.add(IE))}}),gn.postStyleProps.forEach((vi,Yo)=>{const eo=Object.keys(vi);let Qo=u.get(Yo);Qo||u.set(Yo,Qo=new Set),eo.forEach(IE=>Qo.add(IE))})});if(St.length){const qe=[];St.forEach(nt=>{qe.push(function F$(t,n){return new Xe(3505,Bt)}())}),Ge.forEach(nt=>nt.destroy()),this.reportError(qe)}const We=new Map,Ot=new Map;o.forEach(qe=>{const nt=qe.element;i.has(nt)&&(Ot.set(nt,nt),this._beforeAnimationBuild(qe.player.namespaceId,qe.instruction,We))}),r.forEach(qe=>{const nt=qe.element;this._getPreviousPlayers(nt,!1,qe.namespaceId,qe.triggerName,null).forEach(jt=>{Vi(We,nt,[]).push(jt),jt.destroy()})});const wt=he.filter(qe=>wA(qe,l,u)),ot=new Map;CA(ot,this.driver,ge,u,fs).forEach(qe=>{wA(qe,l,u)&&wt.push(qe)});const ii=new Map;L.forEach((qe,nt)=>{CA(ii,this.driver,new Set(qe),l,"!")}),wt.forEach(qe=>{const nt=ot.get(qe),ft=ii.get(qe);ot.set(qe,Object.assign(Object.assign({},nt),ft))});const ui=[],ys=[],Es={};o.forEach(qe=>{const{element:nt,player:ft,instruction:jt}=qe;if(i.has(nt)){if(d.has(nt))return ft.onDestroy(()=>Yr(nt,jt.toStyles)),ft.disabled=!0,ft.overrideTotalTime(jt.totalTime),void r.push(ft);let Qn=Es;if(Ot.size>1){let Gi=nt;const Js=[];for(;Gi=Gi.parentNode;){const gn=Ot.get(Gi);if(gn){Qn=gn;break}Js.push(Gi)}Js.forEach(gn=>Ot.set(gn,Qn))}const Zr=this._buildAnimation(ft.namespaceId,jt,We,s,ii,ot);if(ft.setRealPlayer(Zr),Qn===Es)ui.push(ft);else{const Gi=this.playersByElement.get(Qn);Gi&&Gi.length&&(ft.parentPlayer=$s(Gi)),r.push(ft)}}else xo(nt,jt.fromStyles),ft.onDestroy(()=>Yr(nt,jt.toStyles)),ys.push(ft),d.has(nt)&&r.push(ft)}),ys.forEach(qe=>{const nt=s.get(qe.element);if(nt&&nt.length){const ft=$s(nt);qe.setRealPlayer(ft)}}),r.forEach(qe=>{qe.parentPlayer?qe.syncPlayerEvents(qe.parentPlayer):qe.destroy()});for(let qe=0;qe<he.length;qe++){const nt=he[qe],ft=nt[or];if(il(nt,Fh),ft&&ft.hasAnimation)continue;let jt=[];if(a.size){let Zr=a.get(nt);Zr&&Zr.length&&jt.push(...Zr);let Gi=this.driver.query(nt,dy,!0);for(let Js=0;Js<Gi.length;Js++){let gn=a.get(Gi[Js]);gn&&gn.length&&jt.push(...gn)}}const Qn=jt.filter(Zr=>!Zr.destroyed);Qn.length?L4(this,nt,Qn):this.processLeaveNode(nt)}return he.length=0,ui.forEach(qe=>{this.players.push(qe),qe.onDone(()=>{qe.destroy();const nt=this.players.indexOf(qe);this.players.splice(nt,1)}),qe.play()}),ui}elementContainsData(n,e){let i=!1;const r=e[or];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(n).elementContainsData(e)||i}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(n);a&&(o=a)}else{const a=this.playersByElement.get(n);if(a){const l=!s||s==Hc;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||o.push(u)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(n,e,i){const s=e.element,o=e.isRemovalTransition?void 0:n,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const u=l.element,d=u!==s,R=Vi(i,u,[]);this._getPreviousPlayers(u,d,o,a,e.toState).forEach(L=>{const K=L.getRealPlayer();K.beforeDestroy&&K.beforeDestroy(),L.destroy(),R.push(L)})}xo(s,e.fromStyles)}_buildAnimation(n,e,i,r,s,o){const a=e.triggerName,l=e.element,u=[],d=new Set,R=new Set,P=e.timelines.map(K=>{const ce=K.element;d.add(ce);const he=ce[or];if(he&&he.removedBeforeQueried)return new Bc(K.duration,K.delay);const Te=ce!==l,ge=function U4(t){const n=[];return SA(t,n),n}((i.get(ce)||R4).map(We=>We.getRealPlayer())).filter(We=>!!We.element&&We.element===ce),Ie=s.get(ce),De=o.get(ce),Ge=KI(0,this._normalizer,0,K.keyframes,Ie,De),St=this._buildPlayer(K,Ge,ge);if(K.subTimeline&&r&&R.add(ce),Te){const We=new wy(n,a,ce);We.setRealPlayer(St),u.push(We)}return St});u.forEach(K=>{Vi(this.playersByQueriedElement,K.element,[]).push(K),K.onDone(()=>function x4(t,n,e){let i;if(t instanceof Map){if(i=t.get(n),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&t.delete(n)}}else if(i=t[n],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete t[n]}return i}(this.playersByQueriedElement,K.element,K))}),d.forEach(K=>ar(K,oA));const L=$s(P);return L.onDestroy(()=>{d.forEach(K=>il(K,oA)),Yr(l,e.toStyles)}),R.forEach(K=>{Vi(r,K,[]).push(L)}),L}_buildPlayer(n,e,i){return e.length>0?this.driver.animate(n.element,e,n.duration,n.delay,n.easing,i):new Bc(n.duration,n.delay)}}class wy{constructor(n,e,i){this.namespaceId=n,this.triggerName=e,this.element=i,this._player=new Bc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>ry(n,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const e=this._player;e.triggerCallback&&n.onStart(()=>e.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,e){Vi(this._queuedCallbacks,n,[]).push(e)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const e=this._player;e.triggerCallback&&e.triggerCallback(n)}}function Xh(t){return t&&1===t.nodeType}function vA(t,n){const e=t.style.display;return t.style.display=null!=n?n:"none",e}function CA(t,n,e,i,r){const s=[];e.forEach(l=>s.push(vA(l)));const o=[];i.forEach((l,u)=>{const d={};l.forEach(R=>{const P=d[R]=n.computeStyle(u,R,r);(!P||0==P.length)&&(u[or]=O4,o.push(u))}),t.set(u,d)});let a=0;return e.forEach(l=>vA(l,s[a++])),o}function TA(t,n){const e=new Map;if(t.forEach(a=>e.set(a,[])),0==n.length)return e;const r=new Set(n),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const u=a.parentNode;return l=e.has(u)?u:r.has(u)?1:o(u),s.set(a,l),l}return n.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function ar(t,n){var e;null===(e=t.classList)||void 0===e||e.add(n)}function il(t,n){var e;null===(e=t.classList)||void 0===e||e.remove(n)}function L4(t,n,e){$s(e).onDone(()=>t.processLeaveNode(n))}function SA(t,n){for(let e=0;e<t.length;e++){const i=t[e];i instanceof YI?SA(i.players,n):n.push(i)}}function wA(t,n,e){const i=e.get(t);if(!i)return!1;let r=n.get(t);return r?i.forEach(s=>r.add(s)):n.set(t,i),e.delete(t),!0}class Zh{constructor(n,e,i){this.bodyNode=n,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new P4(n,e,i),this._timelineEngine=new w4(n,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(n,e,i,r,s){const o=n+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],d=gy(this._driver,s,l,[]);if(l.length)throw function w$(t,n){return new Xe(3404,Bt)}();a=function v4(t,n,e){return new C4(t,n,e)}(r,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(n,e){this._transitionEngine.register(n,e)}destroy(n,e){this._transitionEngine.destroy(n,e)}onInsert(n,e,i,r){this._transitionEngine.insertNode(n,e,i,r)}onRemove(n,e,i,r){this._transitionEngine.removeNode(n,e,r||!1,i)}disableAnimations(n,e){this._transitionEngine.markElementAsDisabled(n,e)}process(n,e,i,r){if("@"==i.charAt(0)){const[s,o]=XI(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(n,e,i,r)}listen(n,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=XI(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(n,e,i,r,s)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let H4=(()=>{class t{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=t.initialStylesByElement.get(e);s||t.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Yr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yr(this._element,this._initialStyles),this._endStyles&&(Yr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(xo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xo(this._element,this._endStyles),this._endStyles=null),Yr(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Dy(t){let n=null;const e=Object.keys(t);for(let i=0;i<e.length;i++){const r=e[i];$4(r)&&(n=n||{},n[r]=t[r])}return n}function $4(t){return"display"===t||"position"===t}class DA{constructor(n,e,i,r){this.element=n,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(n,e,i){return n.animate(e,i)}onStart(n){this._onStartFns.push(n)}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(n[i]=this._finished?e[i]:dA(this.element,i))})}this.currentSnapshot=n}triggerCallback(n){const e="start"==n?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class G4{validateStyleProperty(n){return tA(n)}matchesElement(n,e){return!1}containsElement(n,e){return nA(n,e)}getParentElement(n){return ly(n)}query(n,e,i){return iA(n,e,i)}computeStyle(n,e,i){return window.getComputedStyle(n)[e]}animate(n,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const u={},d=o.filter(P=>P instanceof DA);(function z$(t,n){return 0===t||0===n})(i,r)&&d.forEach(P=>{let L=P.currentSnapshot;Object.keys(L).forEach(K=>u[K]=L[K])}),e=function q$(t,n,e){const i=Object.keys(e);if(i.length&&n.length){let s=n[0],o=[];if(i.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=e[a]}),o.length)for(var r=1;r<n.length;r++){let a=n[r];o.forEach(function(l){a[l]=dA(t,l)})}}return n}(n,e=e.map(P=>Gs(P,!1)),u);const R=function V4(t,n){let e=null,i=null;return Array.isArray(n)&&n.length?(e=Dy(n[0]),n.length>1&&(i=Dy(n[n.length-1]))):n&&(e=Dy(n)),e||i?new H4(t,e,i):null}(n,e);return new DA(n,e,l,R)}}let j4=(()=>{class t extends jI{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:hr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?zI(e):e;return IA(this._renderer,null,i,"register",[r]),new W4(i,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(ve(ec),ve(Ct))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();class W4 extends class n${}{constructor(n,e){super(),this._id=n,this._renderer=e}create(n,e){return new z4(this._id,n,e||{},this._renderer)}}class z4{constructor(n,e,i,r){this.id=n,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(n,e){return this._renderer.listen(this.element,`@@${this.id}:${n}`,e)}_command(n,...e){return IA(this._renderer,this.element,this.id,n,e)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){var n,e;return null!==(e=null===(n=this._renderer.engine.players[+this.id])||void 0===n?void 0:n.getPosition())&&void 0!==e?e:0}}function IA(t,n,e,i,r){return t.setProperty(n,`@@${e}:${i}`,r)}const AA="@.disabled";let q4=(()=>{class t{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(s);return d||(d=new MA("",s,this.engine),this._rendererCache.set(s,d)),d}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(o,a,e,d.name,d)};return i.data.animation.forEach(l),new Y4(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(ve(ec),ve(Zh),ve(tt))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();class MA{constructor(n,e,i){this.namespaceId=n,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,e){return this.delegate.createElement(n,e)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,e){this.delegate.appendChild(n,e),this.engine.onInsert(this.namespaceId,e,n,!1)}insertBefore(n,e,i,r=!0){this.delegate.insertBefore(n,e,i),this.engine.onInsert(this.namespaceId,e,n,r)}removeChild(n,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(n,e){return this.delegate.selectRootElement(n,e)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,e,i,r){this.delegate.setAttribute(n,e,i,r)}removeAttribute(n,e,i){this.delegate.removeAttribute(n,e,i)}addClass(n,e){this.delegate.addClass(n,e)}removeClass(n,e){this.delegate.removeClass(n,e)}setStyle(n,e,i,r){this.delegate.setStyle(n,e,i,r)}removeStyle(n,e,i){this.delegate.removeStyle(n,e,i)}setProperty(n,e,i){"@"==e.charAt(0)&&e==AA?this.disableAnimations(n,!!i):this.delegate.setProperty(n,e,i)}setValue(n,e){this.delegate.setValue(n,e)}listen(n,e,i){return this.delegate.listen(n,e,i)}disableAnimations(n,e){this.engine.disableAnimations(n,e)}}class Y4 extends MA{constructor(n,e,i,r){super(e,i,r),this.factory=n,this.namespaceId=e}setProperty(n,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==AA?this.disableAnimations(n,i=void 0===i||!!i):this.engine.process(this.namespaceId,n,e.substr(1),i):this.delegate.setProperty(n,e,i)}listen(n,e,i){if("@"==e.charAt(0)){const r=function Q4(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(n);let s=e.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function K4(t){const n=t.indexOf(".");return[t.substring(0,n),t.substr(n+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(n,e,i)}}let X4=(()=>{class t extends Zh{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(ve(Ct),ve(cy),ve(by))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();const ei=new He("AnimationModuleType"),RA=[{provide:jI,useClass:j4},{provide:by,useFactory:function Z4(){return new _4}},{provide:Zh,useClass:X4},{provide:ec,useFactory:function J4(t,n,e){return new q4(t,n,e)},deps:[jd,Zh,tt]}],OA=[{provide:cy,useFactory:()=>new G4},{provide:ei,useValue:"BrowserAnimations"},...RA],eG=[{provide:cy,useClass:rA},{provide:ei,useValue:"NoopAnimations"},...RA];let tG=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?eG:OA}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({providers:OA,imports:[j0]}),t})();function nG(t,n){if(1&t&&Lt(0,"mat-pseudo-checkbox",4),2&t){const e=Qe();Pe("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function iG(t,n){if(1&t&&(Se(0,"span",5),Le(1),we()),2&t){const e=Qe();Oe(1),Rs("(",e.group.label,")")}}const rG=["*"],oG=new He("mat-sanity-checks",{providedIn:"root",factory:function sG(){return!0}});let tn=(()=>{class t{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Bm()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return t.\u0275fac=function(e){return new(e||t)(ve(GI),ve(oG,8),ve(Ct))},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[Fc],Fc]}),t})();function $c(t){return class extends t{constructor(...n){super(...n),this._disabled=!1}get disabled(){return this._disabled}set disabled(n){this._disabled=cn(n)}}}function Gc(t,n){return class extends t{constructor(...e){super(...e),this.defaultColor=n,this.color=n}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function ef(t){return class extends t{constructor(...n){super(...n),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=cn(n)}}}function PA(t,n=0){return class extends t{constructor(...e){super(...e),this._tabIndex=n,this.defaultTabIndex=n}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Vs(e):this.defaultTabIndex}}}function xA(t){return class extends t{constructor(...n){super(...n),this.stateChanges=new le,this.errorState=!1}updateErrorState(){const n=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==n&&(this.errorState=s,this.stateChanges.next())}}}let Iy=(()=>{class t{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class lG{constructor(n,e,i){this._renderer=n,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const kA={enterDuration:225,exitDuration:150},Ay=Xa({passive:!0}),FA=["mousedown","touchstart"],LA=["mouseup","mouseleave","touchend","touchcancel"];class uG{constructor(n,e,i,r){this._target=n,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ar(i))}fadeInRipple(n,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},kA),i.animation);i.centered&&(n=r.left+r.width/2,e=r.top+r.height/2);const o=i.radius||function hG(t,n,e){const i=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),r=Math.max(Math.abs(n-e.top),Math.abs(n-e.bottom));return Math.sqrt(i*i+r*r)}(n,e,r),a=n-r.left,l=e-r.top,u=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-o+"px",d.style.top=l-o+"px",d.style.height=2*o+"px",d.style.width=2*o+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d),function dG(t){window.getComputedStyle(t).getPropertyValue("opacity")}(d),d.style.transform="scale(1)";const R=new lG(this,d,i);return R.state=0,this._activeRipples.add(R),i.persistent||(this._mostRecentTransientRipple=R),this._runTimeoutOutsideZone(()=>{const P=R===this._mostRecentTransientRipple;R.state=1,!i.persistent&&(!P||!this._isPointerDown)&&R.fadeOut()},u),R}fadeOutRipple(n){const e=this._activeRipples.delete(n);if(n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=n.element,r=Object.assign(Object.assign({},kA),n.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",n.state=2,this._runTimeoutOutsideZone(()=>{n.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const e=Ar(n);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(FA))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(LA),this._pointerUpEventsRegistered=!0)}_onMousedown(n){const e=UI(n),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!BI(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=n.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_runTimeoutOutsideZone(n,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(n,e))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(e=>{this._triggerElement.addEventListener(e,this,Ay)})})}_removeTriggerEvents(){this._triggerElement&&(FA.forEach(n=>{this._triggerElement.removeEventListener(n,this,Ay)}),this._pointerUpEventsRegistered&&LA.forEach(n=>{this._triggerElement.removeEventListener(n,this,Ay)}))}}const fG=new He("mat-ripple-global-options");let Fo=(()=>{class t{constructor(e,i,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new uG(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(tt),X(kn),X(fG,8),X(ei,8))},t.\u0275dir=Ue({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&Nt("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),t})(),tf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[tn],tn]}),t})(),pG=(()=>{class t{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(X(ei,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&Nt("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),gG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[tn]]}),t})();const UA=new He("MAT_OPTION_PARENT_COMPONENT"),BA=new He("MatOptgroup");let _G=0;class mG{constructor(n,e=!1){this.source=n,this.isUserInput=e}}let yG=(()=>{class t{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+_G++,this.onSelectionChange=new et,this._stateChanges=new le}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=cn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Hs(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new mG(this,e))}}return t.\u0275fac=function(e){Na()},t.\u0275dir=Ue({type:t,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),nf=(()=>{class t extends yG{constructor(e,i,r,s){super(e,i,r,s)}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(Cn),X(UA,8),X(BA,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&Ke("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(fo("id",i.id),Kt("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),Nt("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[st],ngContentSelectors:rG,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(Xi(),Je(0,nG,1,2,"mat-pseudo-checkbox",0),Se(1,"span",1),fn(2),we(),Je(3,iG,2,1,"span",2),Lt(4,"div",3)),2&e&&(Pe("ngIf",i.multiple),Oe(3),Pe("ngIf",i.group&&i.group._inert),Oe(1),Pe("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[pG,Fi,Fo],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function VA(t,n,e){if(e.length){let i=n.toArray(),r=e.toArray(),s=0;for(let o=0;o<t+1;o++)i[o].group&&i[o].group===r[s]&&s++;return s}return 0}let HA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[tf,Dr,tn,gG]]}),t})();function bG(t,n){}class My{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const vG={dialogContainer:Oo("dialogContainer",[Ui("void, exit",an({opacity:0,transform:"scale(0.7)"})),Ui("enter",an({transform:"none"})),Bi("* => enter",WI([sr("150ms cubic-bezier(0, 0, 0.2, 1)",an({transform:"none",opacity:1})),ty("@*",ey(),{optional:!0})])),Bi("* => void, * => exit",WI([sr("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",an({opacity:0})),ty("@*",ey(),{optional:!0})]))])};let CG=(()=>{class t extends wh{constructor(e,i,r,s,o,a,l,u){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=u,this._animationStateChanged=new et,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=d=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(d)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Um())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Um(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Um();return e===i||e.contains(i)}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(q5),X(Cn),X(Ct,8),X(My),X(kI),X(tt),X(Uc))},t.\u0275dir=Ue({type:t,viewQuery:function(e,i){if(1&e&&Zt(Ao,7),2&e){let r;gt(r=_t())&&(i._portalOutlet=r.first)}},features:[st]}),t})(),TG=(()=>{class t extends CG{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Un(t)))(i||t)}}(),t.\u0275cmp=Ht({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&ud("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(fo("id",i._id),Kt("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),hd("@dialogContainer",i._state))},features:[st],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&Je(0,bG,0,0,"ng-template",0)},directives:[Ao],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[vG.dialogContainer]}}),t})(),SG=0;class Ry{constructor(n,e,i="mat-dialog-"+SG++){this._overlayRef=n,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new le,this._afterClosed=new le,this._beforeClosed=new le,this._state=0,e._id=i,e._animationStateChanged.pipe(Dn(r=>"opened"===r.state),In(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Dn(r=>"closed"===r.state),In(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),n.keydownEvents().pipe(Dn(r=>27===r.keyCode&&!this.disableClose&&!Hs(r))).subscribe(r=>{r.preventDefault(),$A(this,"keyboard")}),n.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():$A(this,"mouse")})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe(Dn(e=>"closing"===e.state),In(1)).subscribe(e=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(n){let e=this._getPositionStrategy();return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(n="",e=""){return this._overlayRef.updateSize({width:n,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(n){return this._overlayRef.addPanelClass(n),this}removePanelClass(n){return this._overlayRef.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function $A(t,n,e){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=n),t.close(e)}const wG=new He("MatDialogData"),DG=new He("mat-dialog-default-options"),GA=new He("mat-dialog-scroll-strategy"),AG={provide:GA,deps:[qr],useFactory:function IG(t){return()=>t.scrollStrategies.block()}};let MG=(()=>{class t{constructor(e,i,r,s,o,a,l,u,d,R){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=o,this._dialogRefConstructor=l,this._dialogContainerType=u,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new le,this._afterOpenedAtThisLevel=new le,this._ariaHiddenElements=new Map,this.afterAllClosed=$a(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yi(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function RG(t,n){return Object.assign(Object.assign({},n),t)}(i,this._defaultOptions||new My),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),s=this._attachDialogContainer(r,i),o=this._attachDialogContent(e,s,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),s._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new Mh({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const s=sn.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:My,useValue:i}]}),o=new Ja(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return e.attach(o).instance}_attachDialogContent(e,i,r,s){const o=new this._dialogRefConstructor(r,i,s.id);if(e instanceof Xn)i.attachTemplatePortal(new el(e,null,{$implicit:s.data,dialogRef:o}));else{const a=this._createInjector(s,o,i),l=i.attachComponentPortal(new Ja(e,s.viewContainerRef,a,s.componentFactoryResolver));o.componentInstance=l.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!s||!s.get(Li,null,mt.Optional))&&o.push({provide:Li,useValue:{value:e.direction,change:it()}}),sn.create({parent:s||this._injector,providers:o})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return t.\u0275fac=function(e){Na()},t.\u0275dir=Ue({type:t}),t})(),rf=(()=>{class t extends MG{constructor(e,i,r,s,o,a,l,u){super(e,i,s,a,l,o,Ry,TG,wG,u)}}return t.\u0275fac=function(e){return new(e||t)(ve(qr),ve(sn),ve(ac,8),ve(DG,8),ve(GA),ve(t,12),ve(qm),ve(ei,8))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})(),OG=0,NG=(()=>{class t{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+OG++}ngOnInit(){this._dialogRef||(this._dialogRef=function kG(t,n){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?n.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(X(Ry,8),X(ht),X(rf))},t.\u0275dir=Ue({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&fo("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),PG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ue({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),xG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ue({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})(),FG=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({providers:[rf,AG],imports:[[Rh,Dh,tn],tn]}),t})();const LG=["connectionContainer"],UG=["inputContainer"],BG=["label"];function VG(t,n){1&t&&(Er(0),Se(1,"div",14),Lt(2,"div",15)(3,"div",16)(4,"div",17),we(),Se(5,"div",18),Lt(6,"div",15)(7,"div",16)(8,"div",17),we(),br())}function HG(t,n){if(1&t){const e=bn();Se(0,"div",19),Ke("cdkObserveContent",function(){return zt(e),Qe().updateOutlineGap()}),fn(1,1),we()}2&t&&Pe("cdkObserveContentDisabled","outline"!=Qe().appearance)}function $G(t,n){if(1&t&&(Er(0),fn(1,2),Se(2,"span"),Le(3),we(),br()),2&t){const e=Qe(2);Oe(3),Kn(e._control.placeholder)}}function GG(t,n){1&t&&fn(0,3,["*ngSwitchCase","true"])}function jG(t,n){1&t&&(Se(0,"span",23),Le(1," *"),we())}function WG(t,n){if(1&t){const e=bn();Se(0,"label",20,21),Ke("cdkObserveContent",function(){return zt(e),Qe().updateOutlineGap()}),Je(2,$G,4,1,"ng-container",12),Je(3,GG,1,0,"ng-content",12),Je(4,jG,2,0,"span",22),we()}if(2&t){const e=Qe();Nt("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Pe("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),Kt("for",e._control.id)("aria-owns",e._control.id),Oe(2),Pe("ngSwitchCase",!1),Oe(1),Pe("ngSwitchCase",!0),Oe(1),Pe("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function zG(t,n){1&t&&(Se(0,"div",24),fn(1,4),we())}function qG(t,n){if(1&t&&(Se(0,"div",25),Lt(1,"span",26),we()),2&t){const e=Qe();Oe(1),Nt("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function YG(t,n){1&t&&(Se(0,"div"),fn(1,5),we()),2&t&&Pe("@transitionMessages",Qe()._subscriptAnimationState)}function QG(t,n){if(1&t&&(Se(0,"div",30),Le(1),we()),2&t){const e=Qe(2);Pe("id",e._hintLabelId),Oe(1),Kn(e.hintLabel)}}function KG(t,n){if(1&t&&(Se(0,"div",27),Je(1,QG,2,2,"div",28),fn(2,6),Lt(3,"div",29),fn(4,7),we()),2&t){const e=Qe();Pe("@transitionMessages",e._subscriptAnimationState),Oe(1),Pe("ngIf",e.hintLabel)}}const XG=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ZG=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],JG=new He("MatError"),e6={transitionMessages:Oo("transitionMessages",[Ui("enter",an({opacity:1,transform:"translateY(0%)"})),Bi("void => enter",[an({opacity:0,transform:"translateY(-5px)"}),sr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let sf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ue({type:t}),t})();const t6=new He("MatHint");let Wc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ue({type:t,selectors:[["mat-label"]]}),t})(),n6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ue({type:t,selectors:[["mat-placeholder"]]}),t})();const i6=new He("MatPrefix"),r6=new He("MatSuffix");let jA=0;const o6=Gc(class{constructor(t){this._elementRef=t}},"primary"),zA=new He("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Oy=new He("MatFormField");let af=(()=>{class t extends o6{constructor(e,i,r,s,o,a,l){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new le,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+jA++,this._labelId="mat-form-field-label-"+jA++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=cn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(yi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(at(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(at(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),hn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(yi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(yi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(at(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Tn(this._label.nativeElement,"transitionend").pipe(In(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const d=i.querySelectorAll(`${r}, ${s}`);for(let R=0;R<d.length;R++)d[R].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,a=0;const l=i.querySelectorAll(r),u=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const d=i.getBoundingClientRect();if(0===d.width&&0===d.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const R=this._getStartEnd(d),P=e.children,L=this._getStartEnd(P[0].getBoundingClientRect());let K=0;for(let ce=0;ce<P.length;ce++)K+=P[ce].offsetWidth;o=Math.abs(L-R)-5,a=K>0?.75*K+10:0}for(let d=0;d<l.length;d++)l[d].style.width=`${o}px`;for(let d=0;d<u.length;d++)u[d].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(Cn),X(Li,8),X(zA,8),X(kn),X(tt),X(ei,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(Rn(r,sf,5),Rn(r,sf,7),Rn(r,Wc,5),Rn(r,Wc,7),Rn(r,n6,5),Rn(r,JG,5),Rn(r,t6,5),Rn(r,i6,5),Rn(r,r6,5)),2&e){let s;gt(s=_t())&&(i._controlNonStatic=s.first),gt(s=_t())&&(i._controlStatic=s.first),gt(s=_t())&&(i._labelChildNonStatic=s.first),gt(s=_t())&&(i._labelChildStatic=s.first),gt(s=_t())&&(i._placeholderChild=s.first),gt(s=_t())&&(i._errorChildren=s),gt(s=_t())&&(i._hintChildren=s),gt(s=_t())&&(i._prefixChildren=s),gt(s=_t())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(Zt(LG,7),Zt(UG,5),Zt(BG,5)),2&e){let r;gt(r=_t())&&(i._connectionContainerRef=r.first),gt(r=_t())&&(i._inputContainerRef=r.first),gt(r=_t())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&Nt("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Gt([{provide:Oy,useExisting:t}]),st],ngContentSelectors:ZG,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(Xi(XG),Se(0,"div",0)(1,"div",1,2),Ke("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),Je(3,VG,9,0,"ng-container",3),Je(4,HG,2,1,"div",4),Se(5,"div",5,6),fn(7),Se(8,"span",7),Je(9,WG,5,16,"label",8),we()(),Je(10,zG,2,0,"div",9),we(),Je(11,qG,2,4,"div",10),Se(12,"div",11),Je(13,YG,2,1,"div",12),Je(14,KG,5,2,"div",13),we()()),2&e&&(Oe(3),Pe("ngIf","outline"==i.appearance),Oe(1),Pe("ngIf",i._prefixChildren.length),Oe(5),Pe("ngIf",i._hasFloatingLabel()),Oe(1),Pe("ngIf",i._suffixChildren.length),Oe(1),Pe("ngIf","outline"!=i.appearance),Oe(1),Pe("ngSwitch",i._getDisplayedMessages()),Oe(1),Pe("ngSwitchCase","error"),Oe(1),Pe("ngSwitchCase","hint"))},directives:[Fi,Qm,uc,I_],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[e6.transitionMessages]},changeDetection:0}),t})(),lf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[Dr,tn,Oh],tn]}),t})();const qA=Xa({passive:!0});let a6=(()=>{class t{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ur;const i=Ar(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new le,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,qA),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",a,qA)}}),s}stopMonitoring(e){const i=Ar(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return t.\u0275fac=function(e){return new(e||t)(ve(kn),ve(tt))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),YA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({}),t})();const l6=new He("MAT_INPUT_VALUE_ACCESSOR"),c6=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let u6=0;const d6=xA(class{constructor(t,n,e,i){this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=e,this.ngControl=i}});let zc=(()=>{class t extends d6{constructor(e,i,r,s,o,a,l,u,d,R){super(a,s,o,r),this._elementRef=e,this._platform=i,this._autofillMonitor=u,this._formField=R,this._uid="mat-input-"+u6++,this.focused=!1,this.stateChanges=new le,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(K=>dI().has(K)),this._iOSKeyupListener=K=>{const ce=K.target;!ce.value&&0===ce.selectionStart&&0===ce.selectionEnd&&(ce.setSelectionRange(1,1),ce.setSelectionRange(0,0))};const P=this._elementRef.nativeElement,L=P.nodeName.toLowerCase();this._inputValueAccessor=l||P,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&d.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===L,this._isTextarea="textarea"===L,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=P.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=cn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(rr.required))&&void 0!==s&&s}set required(e){this._required=cn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&dI().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=cn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){c6.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(kn),X(zr,10),X(Rc,8),X(Bs,8),X(Iy),X(l6,10),X(a6),X(tt),X(Oy,8))},t.\u0275dir=Ue({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&Ke("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(fo("disabled",i.disabled)("required",i.required),Kt("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),Nt("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Gt([{provide:sf,useExisting:t}]),st,An]}),t})(),h6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({providers:[Iy],imports:[[YA,lf,tn],YA,lf]}),t})();const f6=["mat-button",""],p6=["*"],_6=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],m6=Gc($c(ef(class{constructor(t){this._elementRef=t}})));let ps=(()=>{class t extends m6{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of _6)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(Uc),X(ei,8))},t.\u0275cmp=Ht({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&Zt(Fo,5),2&e){let r;gt(r=_t())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(Kt("disabled",i.disabled||null),Nt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[st],attrs:f6,ngContentSelectors:p6,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(Xi(),Se(0,"span",0),fn(1),we(),Lt(2,"span",1)(3,"span",2)),2&e&&(Oe(2),Nt("mat-button-ripple-round",i.isRoundButton||i.isIconButton),Pe("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Fo],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),QA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[tf,tn],tn]}),t})(),KA=(()=>{class t{constructor(e,i){this._dialogRef=e,this._accessTokenProvider=i,this.accessTokenFormControl=new So("",rr.required)}onCancel(){this._dialogRef.close()}onOk(){this._accessTokenProvider.updateAccessToken(this.accessTokenFormControl.value),this._dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(X(Ry),X(qc))},t.\u0275cmp=Ht({type:t,selectors:[["app-enter-access-token"]],decls:11,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","","cdkFocusInitial","","placeholder","Paste an OAuth 2.0 access token here.","rows","20",1,"access-token",3,"formControl"],["mat-stroked-button","",3,"click"],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(e,i){1&e&&(Se(0,"h1",0),Le(1,"Enter OAuth 2.0 Access Token"),we(),Se(2,"div",1)(3,"mat-form-field")(4,"textarea",2),Le(5,"    "),we()()(),Se(6,"mat-dialog-actions")(7,"button",3),Ke("click",function(){return i.onCancel()}),Le(8,"Cancel"),we(),Se(9,"button",4),Ke("click",function(){return i.onOk()}),Le(10,"OK"),we()()),2&e&&(Oe(4),Pe("formControl",i.accessTokenFormControl),Oe(5),Pe("disabled",i.accessTokenFormControl.invalid))},directives:[NG,PG,af,zc,ks,Ya,Sm,xG,ps],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-width:500px}[_nghost-%COMP%] > h1[_ngcontent-%COMP%]{flex:none}[_nghost-%COMP%] > div[mat-dialog-content][_ngcontent-%COMP%]{flex:auto;display:grid}[_nghost-%COMP%] > div[mat-dialog-content][_ngcontent-%COMP%]   textarea.access-token[_ngcontent-%COMP%]{font-family:monospace}[_nghost-%COMP%] > mat-dialog-actions[_ngcontent-%COMP%]{flex:none;align-self:flex-end}"]}),t})(),qc=(()=>{class t{constructor(e,i){this._matDialog=e,this._zone=i,this._empty=!0,this._accessToken$=new Om(1)}provide$(){return this._empty&&this._zone.run(()=>this._matDialog.open(KA)),this._accessToken$}updateAccessToken(e){this._empty=!1,this._accessToken$.next(e)}}return t.\u0275fac=function(e){return new(e||t)(ve(rf),ve(tt))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const cf="solace";class Yc{constructor(){}static store(n){const e=JSON.stringify(n,(i,r)=>"accessToken"===i&&r===qc?r.name:r);localStorage.setItem(cf,e)}static load(){const n=localStorage.getItem(cf);if(n)return JSON.parse(n,(e,i)=>"accessToken"===e&&i===qc.name?qc:i)}static empty(){return null===localStorage.getItem(cf)}static clear(){localStorage.removeItem(cf)}}var xe=to(904);let XA=(()=>{class t{constructor(e){this._router=e}navigateToAppRoot(e){e.clearConnectProperties&&Yc.clear(),this._router.navigate(["/"]).then(()=>location.reload())}}return t.\u0275fac=function(e){return new(e||t)(ve(Ei))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const y6=["*",[["mat-card-footer"]]],E6=["*","mat-card-footer"],b6=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],v6=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let Ny=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ue({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),C6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ue({type:t,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),t})(),Py=(()=>{class t{constructor(e){this._animationMode=e}}return t.\u0275fac=function(e){return new(e||t)(X(ei,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&Nt("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:E6,decls:2,vars:0,template:function(e,i){1&e&&(Xi(y6),fn(0),fn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),T6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:v6,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(Xi(b6),fn(0),Se(1,"div",0),fn(2,1),we(),fn(3,2))},encapsulation:2,changeDetection:0}),t})(),S6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[tn],tn]}),t})();class w6{constructor(n=!1,e,i=!0){this._multiple=n,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new le,e&&e.length&&(n?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...n){this._verifyValueAssignment(n),n.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...n){this._verifyValueAssignment(n),n.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(n){this.isSelected(n)?this.deselect(n):this.select(n)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(n){return this._selection.has(n)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){this.isSelected(n)||(this._multiple||this._unmarkAll(),this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}}const D6=["trigger"],I6=["panel"];function A6(t,n){if(1&t&&(Se(0,"span",8),Le(1),we()),2&t){const e=Qe();Oe(1),Kn(e.placeholder)}}function M6(t,n){if(1&t&&(Se(0,"span",12),Le(1),we()),2&t){const e=Qe(2);Oe(1),Kn(e.triggerValue)}}function R6(t,n){1&t&&fn(0,0,["*ngSwitchCase","true"])}function O6(t,n){1&t&&(Se(0,"span",9),Je(1,M6,2,1,"span",10),Je(2,R6,1,0,"ng-content",11),we()),2&t&&(Pe("ngSwitch",!!Qe().customTrigger),Oe(2),Pe("ngSwitchCase",!0))}function N6(t,n){if(1&t){const e=bn();Se(0,"div",13)(1,"div",14,15),Ke("@transformPanel.done",function(r){return zt(e),Qe()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return zt(e),Qe()._handleKeydown(r)}),fn(3,1),we()()}if(2&t){const e=Qe();Pe("@transformPanelWrap",void 0),Oe(1),_T("mat-select-panel ",e._getPanelTheme(),""),ho("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),Pe("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),Kt("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const P6=[[["mat-select-trigger"]],"*"],x6=["mat-select-trigger","*"],ZA={transformPanelWrap:Oo("transformPanelWrap",[Bi("* => void",ty("@transformPanel",[ey()],{optional:!0}))]),transformPanel:Oo("transformPanel",[Ui("void",an({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Ui("showing",an({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Ui("showing-multiple",an({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Bi("void => *",sr("120ms cubic-bezier(0, 0, 0.2, 1)")),Bi("* => void",sr("100ms 25ms linear",an({opacity:0})))])};let JA=0;const tM=new He("mat-select-scroll-strategy"),U6=new He("MAT_SELECT_CONFIG"),B6={provide:tM,deps:[qr],useFactory:function L6(t){return()=>t.scrollStrategies.reposition()}};class V6{constructor(n,e){this.source=n,this.value=e}}const H6=ef(PA($c(xA(class{constructor(t,n,e,i,r){this._elementRef=t,this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),$6=new He("MatSelectTrigger");let G6=(()=>{class t extends H6{constructor(e,i,r,s,o,a,l,u,d,R,P,L,K,ce){var he,Te,ge;super(o,s,l,u,R),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._parentFormField=d,this._liveAnnouncer=K,this._defaultOptions=ce,this._panelOpen=!1,this._compareWith=(Ie,De)=>Ie===De,this._uid="mat-select-"+JA++,this._triggerAriaLabelledBy=null,this._destroy=new le,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+JA++,this._panelDoneAnimatingStream=new le,this._overlayPanelClass=(null===(he=this._defaultOptions)||void 0===he?void 0:he.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(ge=null===(Te=this._defaultOptions)||void 0===Te?void 0:Te.disableOptionCentering)&&void 0!==ge&&ge,this.ariaLabel="",this.optionSelectionChanges=$a(()=>{const Ie=this.options;return Ie?Ie.changes.pipe(yi(Ie),nr(()=>hn(...Ie.map(De=>De.onSelectionChange)))):this._ngZone.onStable.pipe(In(1),nr(()=>this.optionSelectionChanges))}),this.openedChange=new et,this._openedStream=this.openedChange.pipe(Dn(Ie=>Ie),de(()=>{})),this._closedStream=this.openedChange.pipe(Dn(Ie=>!Ie),de(()=>{})),this.selectionChange=new et,this.valueChange=new et,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ce?void 0:ce.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ce.typeaheadDebounceInterval),this._scrollStrategyFactory=L,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(P)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,r,s;return null!==(s=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(rr.required))&&void 0!==s&&s}set required(e){this._required=cn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=cn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=cn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Vs(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new w6(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Lc(),at(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(at(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(yi(null),at(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,o=this._keyManager;if(!o.isTyping()&&s&&!Hs(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;o.onKeydown(e);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,o=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(o||13!==r&&32!==r||!i.activeItem||Hs(e))if(!o&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(In(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch(s){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new x5(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(at(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(at(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=hn(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(at(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),hn(...this.options.map(i=>i._stateChanges)).pipe(at(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(X(Za),X(Cn),X(tt),X(Iy),X(ht),X(Li,8),X(Rc,8),X(Bs,8),X(Oy,8),X(zr,10),Ds("tabindex"),X(tM),X(Xm),X(U6,8))},t.\u0275dir=Ue({type:t,viewQuery:function(e,i){if(1&e&&(Zt(D6,5),Zt(I6,5),Zt(II,5)),2&e){let r;gt(r=_t())&&(i.trigger=r.first),gt(r=_t())&&(i.panel=r.first),gt(r=_t())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[st,An]}),t})(),xy=(()=>{class t extends G6{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(at(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(In(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=VA(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function EG(t,n,e,i){return t<e?t:t+n>e+i?Math.max(0,t-i+n):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new V6(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let o;if(this.multiple)o=40;else if(this.disableOptionCentering)o=16;else{let u=this._selectionModel.selected[0]||this.options.first;o=u&&u.group?32:16}r||(o*=-1);const a=0-(e.left+o-(r?s:0)),l=e.right+o-i.width+(r?0:s);a>0?o+=a+8:l>0&&(o-=l+8),this._overlayDir.offsetX=Math.round(o),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),o=(s-this._triggerRect.height)/2,a=Math.floor(256/s);let l;return this.disableOptionCentering?0:(l=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-a))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*l-o))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,o=r.height-this._triggerRect.bottom-8,a=Math.abs(this._offsetY),u=Math.min(this._getItemCount()*i,256)-a-this._triggerRect.height;u>o?this._adjustPanelUp(u,o):a>s?this._adjustPanelDown(a,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),o=i*e-r;let a;a=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),a+=VA(a,this.options,this.optionGroups);const l=r/2;this._scrollTop=this._calculateOverlayScroll(a,l,o),this._offsetY=this._calculateOverlayOffsetY(a,l,o),this._checkOverlayWithinViewport(o)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(){let n;return function(i){return(n||(n=Un(t)))(i||t)}}(),t.\u0275cmp=Ht({type:t,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(Rn(r,$6,5),Rn(r,nf,5),Rn(r,BA,5)),2&e){let s;gt(s=_t())&&(i.customTrigger=s.first),gt(s=_t())&&(i.options=s),gt(s=_t())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&Ke("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(Kt("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),Nt("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[Gt([{provide:sf,useExisting:t},{provide:UA,useExisting:t}]),st],ngContentSelectors:x6,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(Xi(P6),Se(0,"div",0,1),Ke("click",function(){return i.toggle()}),Se(3,"div",2),Je(4,A6,2,1,"span",3),Je(5,O6,3,2,"span",4),we(),Se(6,"div",5),Lt(7,"div",6),we()(),Je(8,N6,4,14,"ng-template",7),Ke("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=Ur(1);Kt("aria-owns",i.panelOpen?i.id+"-panel":null),Oe(3),Pe("ngSwitch",i.empty),Kt("id",i._valueId),Oe(1),Pe("ngSwitchCase",!0),Oe(1),Pe("ngSwitchCase",!1),Oe(3),Pe("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[DI,uc,I_,D0,II,Bd],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[ZA.transformPanelWrap,ZA.transformPanel]},changeDetection:0}),t})(),j6=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({providers:[B6],imports:[[Dr,Rh,HA,tn],Sh,lf,HA,tn]}),t})();const W6=["input"],z6=function(t){return{enterDuration:t}},q6=["*"],Y6=new He("mat-checkbox-default-options",{providedIn:"root",factory:nM});function nM(){return{color:"accent",clickAction:"check-indeterminate"}}let Q6=0;const iM=nM(),K6={provide:Ir,useExisting:Yt(()=>df),multi:!0};class X6{}const Z6=PA(Gc(ef($c(class{constructor(t){this._elementRef=t}}))));let df=(()=>{class t extends Z6{constructor(e,i,r,s,o,a,l){super(e),this._changeDetectorRef=i,this._focusMonitor=r,this._ngZone=s,this._animationMode=a,this._options=l,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++Q6,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new et,this.indeterminateChange=new et,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||iM,this.color=this.defaultColor=this._options.color||iM.color,this.tabIndex=parseInt(o)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=cn(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){e!=this.checked&&(this._checked=e,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=cn(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=cn(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,r=this._elementRef.nativeElement;if(i!==e&&(this._currentAnimationClass.length>0&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){const e=new X6;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_onInputClick(e){var i;const r=null===(i=this._options)||void 0===i?void 0:i.clickAction;e.stopPropagation(),this.disabled||"noop"===r?!this.disabled&&"noop"===r&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==r&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";let r="";switch(e){case 0:if(1===i)r="unchecked-checked";else{if(3!=i)return"";r="unchecked-indeterminate"}break;case 2:r=1===i?"unchecked-checked":"unchecked-indeterminate";break;case 1:r=2===i?"checked-unchecked":"checked-indeterminate";break;case 3:r=1===i?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${r}`}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(Cn),X(Uc),X(tt),Ds("tabindex"),X(ei,8),X(Y6,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-checkbox"]],viewQuery:function(e,i){if(1&e&&(Zt(W6,5),Zt(Fo,5)),2&e){let r;gt(r=_t())&&(i._inputElement=r.first),gt(r=_t())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,i){2&e&&(fo("id",i.id),Kt("tabindex",null)("aria-label",null)("aria-labelledby",null),Nt("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[Gt([K6]),st],ngContentSelectors:q6,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(Xi(),Se(0,"label",0,1)(2,"span",2)(3,"input",3,4),Ke("change",function(s){return i._onInteractionEvent(s)})("click",function(s){return i._onInputClick(s)}),we(),Se(5,"span",5),Lt(6,"span",6),we(),Lt(7,"span",7),Se(8,"span",8),function ob(){yt.lFrame.currentNamespace="svg"}(),Se(9,"svg",9),Lt(10,"path",10),we(),function ab(){!function FN(){yt.lFrame.currentNamespace=null}()}(),Lt(11,"span",11),we()(),Se(12,"span",12,13),Ke("cdkObserveContent",function(){return i._onLabelTextChange()}),Se(14,"span",14),Le(15,"\xa0"),we(),fn(16),we()()),2&e){const r=Ur(1),s=Ur(13);Kt("for",i.inputId),Oe(2),Nt("mat-checkbox-inner-container-no-side-margin",!s.textContent||!s.textContent.trim()),Oe(1),Pe("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),Kt("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),Oe(2),Pe("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",Gg(19,z6,"NoopAnimations"===i._animationMode?0:150))}},directives:[Fo,Qm],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),t})(),rM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({}),t})(),tj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[tf,tn,Oh,rM],tn,rM]}),t})();function nj(t,n){if(1&t&&(Se(0,"mat-form-field")(1,"mat-label"),Le(2,"Username"),we(),Lt(3,"input",1),we()),2&t){const e=Qe();Oe(3),Pe("formControlName",e.USER_NAME)}}function ij(t,n){if(1&t&&(Se(0,"mat-form-field")(1,"mat-label"),Le(2,"Password"),we(),Lt(3,"input",8),we()),2&t){const e=Qe();Oe(3),Pe("formControlName",e.PASSWORD)}}const Fy="vpnName",sl="authenticationScheme",hf="userName",ff="password",Ly="reapplySubscriptions",pf="reconnectRetries";let rj=(()=>{class t{constructor(e,i){this._locationService=i,this.URL="url",this.VPN_NAME=Fy,this.AUTHENTICATION_SCHEME=sl,this.USER_NAME=hf,this.PASSWORD=ff,this.REAPPLY_SUBSCRIPTIONS=Ly,this.RECONNECT_RETRIES=pf,this.AuthenticationScheme=xe.AuthenticationScheme,this._destroy$=new le,this.form=new Us({url:e.control("",rr.required),[Fy]:e.control("",rr.required),[sl]:e.control(xe.AuthenticationScheme.BASIC),[hf]:e.control(""),[ff]:e.control(""),[Ly]:e.control(!0),[pf]:e.control(-1)}),this.installAuthenticationSchemeChangeListener()}onLogin(){var e,i,r,s,o,a,l,u;const d=this.form.get(sl).value===xe.AuthenticationScheme.OAUTH2,R={url:null!==(e=this.form.get("url").value)&&void 0!==e?e:void 0,vpnName:null!==(i=this.form.get(Fy).value)&&void 0!==i?i:void 0,userName:null!==(r=this.form.get(hf).value)&&void 0!==r?r:void 0,password:null!==(s=this.form.get(ff).value)&&void 0!==s?s:void 0,reapplySubscriptions:null!==(o=this.form.get(Ly).value)&&void 0!==o?o:void 0,reconnectRetries:null!==(a=this.form.get(pf).value)&&void 0!==a?a:void 0,connectRetries:null!==(l=this.form.get(pf).value)&&void 0!==l?l:void 0,authenticationScheme:null!==(u=this.form.get(sl).value)&&void 0!==u?u:void 0,accessToken:d?qc:void 0};Yc.store(R),this._locationService.navigateToAppRoot({clearConnectProperties:!1})}onReset(){this.form.reset()}installAuthenticationSchemeChangeListener(){this.form.get(sl).valueChanges.pipe(yi(void 0),at(this._destroy$)).subscribe(()=>{const e=[this.form.get(hf),this.form.get(ff)],i=this.form.get(sl).value===xe.AuthenticationScheme.BASIC;e.forEach(r=>{i?r.addValidators(rr.required):r.removeValidators(rr.required),r.updateValueAndValidity()})})}ngOnDestroy(){this._destroy$.next()}}return t.\u0275fac=function(e){return new(e||t)(X(oI),X(XA))},t.\u0275cmp=Ht({type:t,selectors:[["app-login"]],decls:33,vars:11,consts:[[3,"formGroup"],["matInput","",3,"formControlName"],[4,"ngIf"],[3,"formControlName"],[3,"value"],["matInput","","type","number",3,"formControlName"],["mat-stroked-button","",1,"reset",3,"click"],["mat-flat-button","","color","primary",1,"login",3,"disabled","click"],["matInput","","type","password",3,"formControlName"]],template:function(e,i){1&e&&(Se(0,"h3"),Le(1,"Login to the Solace Messaging Broker"),we(),Se(2,"mat-card")(3,"mat-card-content")(4,"form",0)(5,"mat-form-field")(6,"mat-label"),Le(7,"Url"),we(),Lt(8,"input",1),we(),Se(9,"mat-form-field")(10,"mat-label"),Le(11,"VPN"),we(),Lt(12,"input",1),we(),Je(13,nj,4,1,"mat-form-field",2),Je(14,ij,4,1,"mat-form-field",2),Se(15,"mat-form-field")(16,"mat-label"),Le(17,"Authentication Scheme"),we(),Se(18,"mat-select",3)(19,"mat-option",4),Le(20,"BASIC"),we(),Se(21,"mat-option",4),Le(22,"OAUTH2"),we()()(),Se(23,"mat-checkbox",3),Le(24,"Reapply Subscriptions"),we(),Se(25,"mat-form-field")(26,"mat-label"),Le(27,"Reconnect Retries"),we(),Lt(28,"input",5),we(),Se(29,"button",6),Ke("click",function(){return i.onReset()}),Le(30,"Reset"),we(),Se(31,"button",7),Ke("click",function(){return i.onLogin()}),Le(32,"Login"),we()()()()),2&e&&(Oe(4),Pe("formGroup",i.form),Oe(4),Pe("formControlName",i.URL),Oe(4),Pe("formControlName",i.VPN_NAME),Oe(1),Pe("ngIf",i.form.get(i.AUTHENTICATION_SCHEME).value===i.AuthenticationScheme.BASIC),Oe(1),Pe("ngIf",i.form.get(i.AUTHENTICATION_SCHEME).value===i.AuthenticationScheme.BASIC),Oe(4),Pe("formControlName",i.AUTHENTICATION_SCHEME),Oe(1),Pe("value",i.AuthenticationScheme.BASIC),Oe(2),Pe("value",i.AuthenticationScheme.OAUTH2),Oe(2),Pe("formControlName",i.REAPPLY_SUBSCRIPTIONS),Oe(5),Pe("formControlName",i.RECONNECT_RETRIES),Oe(3),Pe("disabled",i.form.invalid))},directives:[Py,Ny,vm,lh,Bs,af,Wc,zc,ks,Ya,Oc,Fi,xy,nf,df,Cm,ps],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%] > h3[_ngcontent-%COMP%]{flex:none;margin-top:1em}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%]{flex:none}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-row-gap:.75em;row-gap:.75em}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{grid-column:-1/1}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > button.reset[_ngcontent-%COMP%]{justify-self:flex-start}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > button.login[_ngcontent-%COMP%]{justify-self:flex-end}"]}),t})();const sM=new Set;let ol,sj=(()=>{class t{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):aj}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function oj(t){if(!sM.has(t))try{ol||(ol=document.createElement("style"),ol.setAttribute("type","text/css"),document.head.appendChild(ol)),ol.sheet&&(ol.sheet.insertRule(`@media ${t} {body{ }}`,0),sM.add(t))}catch(n){console.error(n)}}(e),this._matchMedia(e)}}return t.\u0275fac=function(e){return new(e||t)(ve(kn))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function aj(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Uy=(()=>{class t{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new le}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return oM(yh(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=K0(oM(yh(e)).map(o=>this._registerQuery(o).observable));return s=Wd(s.pipe(In(1)),s.pipe(Ym(1),Ro(0))),s.pipe(de(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:u})=>{a.matches=a.matches||l,a.breakpoints[u]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new T(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(yi(i),de(({matches:o})=>({query:e,matches:o})),at(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return t.\u0275fac=function(e){return new(e||t)(ve(sj),ve(tt))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function oM(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}function lj(t,n){if(1&t){const e=bn();Se(0,"div",2)(1,"button",3),Ke("click",function(){return zt(e),Qe().action()}),Le(2),we()()}if(2&t){const e=Qe();Oe(2),Kn(e.data.action)}}function cj(t,n){}const By=new He("MatSnackBarData");class gf{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const uj=Math.pow(2,31)-1;class Vy{constructor(n,e){this._overlayRef=e,this._afterDismissed=new le,this._afterOpened=new le,this._onAction=new le,this._dismissedByAction=!1,this.containerInstance=n,this.onAction().subscribe(()=>this.dismiss()),n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,uj))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let dj=(()=>{class t{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(X(Vy),X(By))},t.\u0275cmp=Ht({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(Se(0,"span",0),Le(1),we(),Je(2,lj,3,1,"div",1)),2&e&&(Oe(1),Kn(i.data.message),Oe(1),Pe("ngIf",i.hasAction))},directives:[ps,Fi],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),t})();const hj={snackBarState:Oo("state",[Ui("void, hidden",an({transform:"scale(0.8)",opacity:0})),Ui("visible",an({transform:"scale(1)",opacity:1})),Bi("* => visible",sr("150ms cubic-bezier(0, 0, 0.2, 1)")),Bi("* => void, * => hidden",sr("75ms cubic-bezier(0.4, 0.0, 1, 1)",an({opacity:0})))])};let fj=(()=>{class t extends wh{constructor(e,i,r,s,o){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=o,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new le,this._onExit=new le,this._onEnter=new le,this._animationState="void",this.attachDomPortal=a=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(a)),this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(In(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),null==r||r.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(X(tt),X(ht),X(Cn),X(kn),X(gf))},t.\u0275cmp=Ht({type:t,selectors:[["snack-bar-container"]],viewQuery:function(e,i){if(1&e&&Zt(Ao,7),2&e){let r;gt(r=_t())&&(i._portalOutlet=r.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&ud("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&hd("@state",i._animationState)},features:[st],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(Se(0,"div",0),Je(1,cj,0,0,"ng-template",1),we(),Lt(2,"div")),2&e&&(Oe(2),Kt("aria-live",i._live)("role",i._role))},directives:[Ao],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[hj.snackBarState]}}),t})(),lM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[Rh,Dh,Dr,QA,tn],tn]}),t})();const cM=new He("mat-snack-bar-default-options",{providedIn:"root",factory:function pj(){return new gf}});let gj=(()=>{class t{constructor(e,i,r,s,o,a){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s=Object.assign(Object.assign({},this._defaultConfig),r);return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=sn.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:gf,useValue:i}]}),o=new Ja(this.snackBarContainerComponent,i.viewContainerRef,s),a=e.attach(o);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){const r=Object.assign(Object.assign(Object.assign({},new gf),this._defaultConfig),i),s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),a=new Vy(o,s);if(e instanceof Xn){const l=new el(e,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{const l=this._createInjector(r,a),u=new Ja(e,void 0,l),d=o.attachComponentPortal(u);a.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(at(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Mh;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,o="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,a=!o&&"center"!==e.horizontalPosition;return o?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return sn.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Vy,useValue:i},{provide:By,useValue:e.data}]})}}return t.\u0275fac=function(e){return new(e||t)(ve(qr),ve(Xm),ve(sn),ve(Uy),ve(t,12),ve(cM))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})(),uM=(()=>{class t extends gj{constructor(e,i,r,s,o,a){super(e,i,r,s,o,a),this.simpleSnackBarComponent=dj,this.snackBarContainerComponent=fj,this.handsetCssClass="mat-snack-bar-handset"}}return t.\u0275fac=function(e){return new(e||t)(ve(qr),ve(Xm),ve(sn),ve(Uy),ve(t,12),ve(cM))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:lM}),t})();class _j{constructor(n,e){this._document=e;const i=this._textarea=this._document.createElement("textarea"),r=i.style;r.position="fixed",r.top=r.opacity="0",r.left="-999em",i.setAttribute("aria-hidden","true"),i.value=n,this._document.body.appendChild(i)}copy(){const n=this._textarea;let e=!1;try{if(n){const i=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch(i){}return e}destroy(){const n=this._textarea;n&&(n.remove(),this._textarea=void 0)}}let mj=(()=>{class t{constructor(e){this._document=e}copy(e){const i=this.beginCopy(e),r=i.copy();return i.destroy(),r}beginCopy(e){return new _j(e,this._document)}}return t.\u0275fac=function(e){return new(e||t)(ve(Ct))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),yj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({}),t})();class Ej{}class js{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let i=n[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof js?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new js;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof js?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const r=("a"===n.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=n.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class bj{encodeKey(n){return dM(n)}encodeValue(n){return dM(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const Cj=/%(\d[a-f0-9])/gi,Tj={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function dM(t){return encodeURIComponent(t).replace(Cj,(n,e)=>{var i;return null!==(i=Tj[e])&&void 0!==i?i:n})}function hM(t){return`${t}`}class Ws{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new bj,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function vj(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,s)),n.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const r=n[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new Ws({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(hM(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const r=i.indexOf(hM(n.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class Sj{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function fM(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function pM(t){return"undefined"!=typeof Blob&&t instanceof Blob}function gM(t){return"undefined"!=typeof FormData&&t instanceof FormData}class Kc{constructor(n,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function wj(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new js),this.context||(this.context=new Sj),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Ws,this.urlWithParams=e}serializeBody(){return null===this.body?null:fM(this.body)||pM(this.body)||gM(this.body)||function Dj(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ws?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gM(this.body)?null:pM(this.body)?this.body.type||null:fM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ws?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const i=n.method||this.method,r=n.url||this.url,s=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,a=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,l=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let u=n.headers||this.headers,d=n.params||this.params;const R=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(u=Object.keys(n.setHeaders).reduce((P,L)=>P.set(L,n.setHeaders[L]),u)),n.setParams&&(d=Object.keys(n.setParams).reduce((P,L)=>P.set(L,n.setParams[L]),d)),new Kc(i,r,o,{params:d,headers:u,context:R,reportProgress:l,responseType:s,withCredentials:a})}}var ti=(()=>((ti=ti||{})[ti.Sent=0]="Sent",ti[ti.UploadProgress=1]="UploadProgress",ti[ti.ResponseHeader=2]="ResponseHeader",ti[ti.DownloadProgress=3]="DownloadProgress",ti[ti.Response=4]="Response",ti[ti.User=5]="User",ti))();class Hy extends class Ij{constructor(n,e=200,i="OK"){this.headers=n.headers||new js,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(n={}){super(n),this.type=ti.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Hy({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}function $y(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let mM=(()=>{class t{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Kc)s=e;else{let l,u;l=r.headers instanceof js?r.headers:new js(r.headers),r.params&&(u=r.params instanceof Ws?r.params:new Ws({fromObject:r.params})),s=new Kc(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=it(s).pipe(Ga(l=>this.handler.handle(l)));if(e instanceof Kc||"events"===r.observe)return o;const a=o.pipe(Dn(l=>l instanceof Hy));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(de(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(de(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(de(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(de(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ws).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,$y(r,i))}post(e,i,r={}){return this.request("POST",e,$y(r,i))}put(e,i,r={}){return this.request("PUT",e,$y(r,i))}}return t.\u0275fac=function(e){return new(e||t)(ve(Ej))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();const Mj=["*"];let _f;function Xc(t){var n;return(null===(n=function Rj(){if(void 0===_f&&(_f=null,"undefined"!=typeof window)){const t=window;void 0!==t.trustedTypes&&(_f=t.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return _f}())||void 0===n?void 0:n.createHTML(t))||t}function yM(t){return Error(`Unable to find icon with the name "${t}"`)}function EM(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function bM(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Lo{constructor(n,e,i){this.url=n,this.svgText=e,this.options=i}}let mf=(()=>{class t{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new Lo(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const o=this._sanitizer.sanitize(qt.HTML,r);if(!o)throw bM(r);const a=Xc(o);return this._addSvgIconConfig(e,i,new Lo("",a,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Lo(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(qt.HTML,i);if(!s)throw bM(i);const o=Xc(s);return this._addSvgIconSetConfig(e,new Lo("",o,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(qt.RESOURCE_URL,e);if(!i)throw EM(e);const r=this._cachedIconsByUrl.get(i);return r?it(yf(r)):this._loadSvgIconFromConfig(new Lo(e,null)).pipe(Pn(s=>this._cachedIconsByUrl.set(i,s)),de(s=>yf(s)))}getNamedSvgIcon(e,i=""){const r=vM(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(e,o):tr(yM(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?it(yf(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(de(i=>yf(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?it(r):iD(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Gr(a=>{const u=`Loading icon set URL: ${this._sanitizer.sanitize(qt.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(u)),it(null)})))).pipe(de(()=>{const o=this._extractIconWithNameFromAnySet(e,i);if(!o)throw yM(e);return o}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const o=this._svgElementFromConfig(s),a=this._extractSvgIconFromSet(o,e,s.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Pn(i=>e.svgText=i),de(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?it(null):this._fetchIcon(e).pipe(Pn(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const o=s.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,r);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),r);const a=this._svgElementFromString(Xc("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Xc("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:o,value:a}=r[s];"id"!==o&&i.setAttribute(o,a)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:s}=e,o=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function Oj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(qt.RESOURCE_URL,r);if(!a)throw EM(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const u=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(de(d=>Xc(d)),pc(()=>this._inProgressUrlFetches.delete(a)),Eu());return this._inProgressUrlFetches.set(a,u),u}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(vM(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return Pj(s)?new Lo(s.url,null,s.options):new Lo(s,null)}}}return t.\u0275fac=function(e){return new(e||t)(ve(mM,8),ve(F_),ve(Ct,8),ve(Is))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function yf(t){return t.cloneNode(!0)}function vM(t,n){return t+":"+n}function Pj(t){return!(!t.url||!t.options)}const xj=Gc(class{constructor(t){this._elementRef=t}}),kj=new He("mat-icon-location",{providedIn:"root",factory:function Fj(){const t=Wu(Ct),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),CM=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Lj=CM.map(t=>`[${t}]`).join(", "),Uj=/^url\(['"]?#(.*?)['"]?\)$/;let Ef=(()=>{class t extends xj{constructor(e,i,r,s,o){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=o,this._inline=!1,this._currentIconFetch=h.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=cn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Lj),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)CM.forEach(o=>{const a=i[s],l=a.getAttribute(o),u=l?l.match(Uj):null;if(u){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:o,value:u[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(In(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(mf),Ds("aria-hidden"),X(kj),X(Is))},t.\u0275cmp=Ht({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(Kt("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),Nt("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[st],ngContentSelectors:Mj,decls:1,vars:0,template:function(e,i){1&e&&(Xi(),fn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),Bj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[tn],tn]}),t})();function Vj(t,n){if(1&t&&(Er(0),Se(1,"span"),Le(2),we(),Se(3,"span"),Le(4),we(),br()),2&t){const e=n.$implicit;Oe(2),Rs("",e.key,":"),Oe(2),Kn(e.value)}}let Hj=(()=>{class t{constructor(e,i,r){this._snackbar=i,this._clipboard=r,this.sessionProperties=function $j(t){const n=Object.assign({},t);return n.password&&(n.password="***"),n.accessToken&&(n.accessToken="***"),n}(e)}onClose(){this._snackbar.dismiss()}onCopyToClipboard(){this._clipboard.copy(JSON.stringify(this.sessionProperties))}}return t.\u0275fac=function(e){return new(e||t)(X(By),X(uM),X(mj))},t.\u0275cmp=Ht({type:t,selectors:[["app-session-properties"]],decls:10,vars:3,consts:[[4,"ngFor","ngForOf"],[1,"buttons"],["mat-mini-fab","","color","accent","title","Copy to clipboard",3,"click"],["mat-button","","color","accent",3,"click"]],template:function(e,i){1&e&&(Se(0,"header"),Le(1,"Session properties"),we(),Je(2,Vj,5,2,"ng-container",0),ki(3,"keyvalue"),Se(4,"div",1)(5,"button",2),Ke("click",function(){return i.onCopyToClipboard()}),Se(6,"mat-icon"),Le(7,"content_copy"),we()(),Se(8,"button",3),Ke("click",function(){return i.onClose()}),Le(9,"Dismiss"),we()()),2&e&&(Oe(2),Pe("ngForOf",Zi(3,1,i.sessionProperties)))},directives:[yo,ps,Ef],pipes:[R0],styles:["[_nghost-%COMP%]{display:grid;grid-gap:.75em 2em;gap:.75em 2em;grid-template-columns:max-content auto}[_nghost-%COMP%] > header[_ngcontent-%COMP%]{grid-column:1/-1;font-size:16px;font-weight:700;margin-bottom:1em}[_nghost-%COMP%] > div.buttons[_ngcontent-%COMP%]{border-top:1px solid;margin-top:3em;padding-top:.75em;grid-column:1/-1;display:flex;justify-content:space-between}  snack-bar-container.session-properties{max-width:unset}"]}),t})();const Zc=new T(g);class Gy{constructor(){}static randomUUID(){let n=Date.now();return"undefined"!=typeof window&&void 0!==window.performance&&"function"==typeof window.performance.now&&(n+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const i=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?i:3&i|8).toString(16)})}}function al(t){return n=>new T(e=>{const i=n.subscribe({next:r=>t(()=>e.next(r)),error:r=>t(()=>e.error(r)),complete:()=>t(()=>e.complete())});return()=>i.unsubscribe()})}let ll=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})(),Yj=(()=>{class t{constructor(){this.connected$=new ci(!0)}observe$(e,i){return Zc}consume$(e){return Zc}browse$(e){return Zc}publish(e,i,r){return Promise.resolve()}request$(e,i,r){return Zc}reply(e,i,r){return Promise.resolve()}enqueue(e,i,r){return Promise.resolve()}get session(){return new Promise(g)}connect(e){return new Promise(g)}disconnect(){return Promise.resolve()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();class Qj{constructor(){this._subscriptionCounts=new Map}incrementAndGet(n){var e;const i=TM(n),r=(null!==(e=this._subscriptionCounts.get(i))&&void 0!==e?e:0)+1;return this._subscriptionCounts.set(i,r),r}decrementAndGet(n){var e;const i=TM(n),r=Math.max(0,(null!==(e=this._subscriptionCounts.get(i))&&void 0!==e?e:0)-1);return 0===r?this._subscriptionCounts.delete(i):this._subscriptionCounts.set(i,r),r}destroy(){this._subscriptionCounts.clear()}}function TM(t){return"string"==typeof t?t:t.getName()}class Kj{constructor(n){this._destroy$=new le,this._tasks$=new le,this._tasks$.pipe(mn(e=>e(),1),Gr((e,i)=>(n.error("Unexpected: ",e),i)),at(this._destroy$)).subscribe()}scheduleSerial(n){return new Promise((e,i)=>{this._tasks$.next(()=>n().then(e).catch(i))})}destroy(){this._destroy$.next()}}class SM{}let wM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})(),Xj=(()=>{class t{provide(e){return xe.SolclientFactory.createSession(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})(),DM=(()=>{class t{matchesSubscriptionTopic(e,i){if(!e)return!1;const r=IM(e).split("/"),s=IM(i).split("/");for(let o=0;o<s.length;o++){const a=s[o],l=r[o],u=o===s.length-1;if(void 0===l)return!1;if(">"===a&&u)return!0;if(!("*"===a||a.endsWith("*")&&l.startsWith(a.slice(0,-1))||a===l))return!1}return r.length===s.length}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();function IM(t){return"string"==typeof t?t:t.getName()}let AM=(()=>{class t{constructor(e){this.logLevel=e,this.logLevel=this.readLogLevelFromSessionStorage(e)}debug(...e){var i;this.logLevel>=xe.LogLevel.DEBUG&&(null===(i=null==console?void 0:console.debug)||void 0===i||i.call(console,...this.addLogPrefix(e)))}info(...e){var i;this.logLevel>=xe.LogLevel.INFO&&(null===(i=null==console?void 0:console.info)||void 0===i||i.call(console,...this.addLogPrefix(e)))}warn(...e){var i;this.logLevel>=xe.LogLevel.WARN&&(null===(i=null==console?void 0:console.warn)||void 0===i||i.call(console,...this.addLogPrefix(e)))}error(...e){var i;this.logLevel>=xe.LogLevel.ERROR&&(null===(i=null==console?void 0:console.error)||void 0===i||i.call(console,...this.addLogPrefix(e)))}addLogPrefix(e){return[`[SolaceMessageClient] ${e[0]}`,...e.slice(1)]}readLogLevelFromSessionStorage(e){switch(sessionStorage.getItem("angular-solace-message-client#loglevel")){case"trace":return xe.LogLevel.TRACE;case"debug":return xe.LogLevel.DEBUG;case"info":return xe.LogLevel.INFO;case"warn":return xe.LogLevel.WARN;case"error":return xe.LogLevel.ERROR;case"fatal":return xe.LogLevel.FATAL;default:return e}}}return t.\u0275fac=function(e){return new(e||t)(ve(xe.LogLevel))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})(),Jj=(()=>{class t{constructor(e,i,r,s,o,a){this._sessionProvider=i,this._topicMatcher=r,this._injector=s,this._logger=o,this._zone=a,this._message$=new le,this._event$=new le,this._session=null,this._destroy$=new le,this._sessionDisposed$=new le,this._subscriptionExecutor=null,this._subscriptionCounter=null,this.initSolaceClientFactory(),this.disposeWhenSolaceSessionDied(),this.logSolaceSessionEvents(),this.connected$=this.monitorConnectionState$(),e&&this.connect(e).catch(l=>this._logger.error("Failed to connect to the Solace message broker.",l))}connect(e){return Ye(this,void 0,void 0,function*(){if(!e)throw Error("Missing required config for connecting to the Solace message broker.");return this._session||(this._session=new Promise((i,r)=>{const s=Object.assign({reapplySubscriptions:!0,reconnectRetries:-1,publisherProperties:void 0},e);this._logger.debug("Connecting to Solace message broker:",NM(s)),this._zone.runOutsideAngular(()=>Ye(this,void 0,void 0,function*(){this._subscriptionExecutor=new Kj(this._logger),this._subscriptionCounter=new Qj;const a=e.authenticationScheme===xe.AuthenticationScheme.OAUTH2?this.provideOAuthAccessToken$(e).pipe(function Gj(t,n,e){let i,r=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:e}=t):i=null!=t?t:1/0,Eu({connector:()=>new Om(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!1})):null;a&&(s.accessToken=yield function jj(t,n){const e="object"==typeof n;return new Promise((i,r)=>{const s=new G({next:o=>{i(o),s.unsubscribe()},error:r,complete:()=>{e?i(n.defaultValue):r(new Ha)}});t.subscribe(s)})}(a).catch(function rW(t){return n=>Promise.reject(n instanceof Ha?t():n)}(()=>Error("[EmptyAccessTokenError] Access token Observable has completed without emitted an access token."))));const l=this._sessionProvider.provide(new xe.SessionProperties(s));a&&a.pipe(Ym(1),at(this._sessionDisposed$)).subscribe({next:u=>{this._logger.debug('Injecting "OAuth 2.0 Access Token" into Solace session.',u),l.updateAuthenticationOnReconnect({accessToken:u})},complete:()=>{this._session&&this._logger.warn("[AccessTokenProviderCompletedWarning] Observable providing access token(s) to the Solace session has completed. The Observable should NEVER complete and continuously emit the renewed token short before expiration of the previously emitted token. Otherwise, the connection to the broker would not be re-established in the event of a network interruption.")},error:u=>{this._logger.error(u)}}),l.on(xe.SessionEventCode.UP_NOTICE,u=>{this._event$.next(u),this._logger.debug("Connected to Solace message broker.",NM(e)),i(l)}),l.on(xe.SessionEventCode.RECONNECTED_NOTICE,u=>this._event$.next(u)),l.on(xe.SessionEventCode.DOWN_ERROR,u=>this._event$.next(u)),l.on(xe.SessionEventCode.CONNECT_FAILED_ERROR,u=>{this._event$.next(u),r(u)}),l.on(xe.SessionEventCode.DISCONNECTED,u=>this._event$.next(u)),l.on(xe.SessionEventCode.RECONNECTING_NOTICE,u=>this._event$.next(u)),l.on(xe.SessionEventCode.MESSAGE,u=>this._message$.next(u)),l.on(xe.SessionEventCode.SUBSCRIPTION_OK,u=>this._event$.next(u)),l.on(xe.SessionEventCode.SUBSCRIPTION_ERROR,u=>this._event$.next(u)),l.on(xe.SessionEventCode.ACKNOWLEDGED_MESSAGE,u=>this._event$.next(u)),l.on(xe.SessionEventCode.REJECTED_MESSAGE_ERROR,u=>this._event$.next(u)),l.connect()})).catch(o=>r(o))}))})}provideOAuthAccessToken$(e){if(e.authenticationScheme!==xe.AuthenticationScheme.OAUTH2)return tr(()=>`Expected authentication scheme to be  ${xe.AuthenticationScheme.OAUTH2}, but was ${e.authenticationScheme}.`);const i=e.accessToken;return(()=>{switch(typeof i){case"string":return it(i);case"function":{const s=this._injector.get(i,null);return s?s.provide$():tr(()=>Error(`[NullAccessTokenProviderError] No provider for ${i.name} found. Did you forget to register it? You can register it as follows: "@Injectable({providedIn: 'root'})"`))}default:return tr(()=>Error("[NullAccessTokenConfigError] No access token or provider configured in 'SolaceMessageClientConfig.accessToken'. An access token is required for OAUTH2 authentication. It is recommended to provide the token via `OAuthAccessTokenProvider`."))}})().pipe(mn(s=>s?it(s):tr(()=>Error('[NullAccessTokenError] Invalid "OAuth 2.0 Access Token". Token must not be `null` or `undefined`.'))))}disconnect(){var e;return Ye(this,void 0,void 0,function*(){const i=yield null===(e=this._session)||void 0===e?void 0:e.catch(g);if(!i)return;const r=this.whenEvent(xe.SessionEventCode.DISCONNECTED).then(()=>this.dispose());this._zone.runOutsideAngular(()=>i.disconnect()),yield r})}dispose(){var e,i,r;null===(e=this._session)||void 0===e||e.then(s=>s.dispose()).catch(g),this._session=null,null===(i=this._subscriptionExecutor)||void 0===i||i.destroy(),this._subscriptionExecutor=null,null===(r=this._subscriptionCounter)||void 0===r||r.destroy(),this._subscriptionCounter=null,this._sessionDisposed$.next()}observe$(e,i){return new T(r=>{var s;const o=new le,a=RM(e),l=null!==(s=null==i?void 0:i.emitOutsideAngularZone)&&void 0!==s&&s;return this.session.then(()=>{var u;const d=new le;let R=!1;hn(this._message$,d).pipe(cl(),Dn(P=>this._topicMatcher.matchesSubscriptionTopic(P.getDestination(),a)),vf(e),l?ie:al(P=>this._zone.run(P)),at(hn(this._sessionDisposed$,o)),pc(()=>{var P;0===(null===(P=this._subscriptionCounter)||void 0===P?void 0:P.decrementAndGet(a))&&!R&&this.unsubscribeFromTopic(a).then(g)})).subscribe(r),1===this._subscriptionCounter.incrementAndGet(a)?this.subscribeToTopic(a,i).then(P=>{var L;P?null===(L=null==i?void 0:i.onSubscribed)||void 0===L||L.call(i):(R=!0,d.error(`Failed to subscribe to topic ${a}.`))}):null===(u=null==i?void 0:i.onSubscribed)||void 0===u||u.call(i)}).catch(u=>{r.error(u)}),()=>o.next()})}subscribeToTopic(e,i){return this._subscriptionExecutor.scheduleSerial(()=>Ye(this,void 0,void 0,function*(){var r;try{const s=yield this._session;if(!s)return!1;const o=Gy.randomUUID(),a=this.whenEvent(xe.SessionEventCode.SUBSCRIPTION_OK,{rejectOnEvent:xe.SessionEventCode.SUBSCRIPTION_ERROR,correlationKey:o}).then(()=>!0).catch(l=>(this._logger.warn(`Solace event broker rejected subscription on topic ${e.getName()}.`,l),!1));return s.subscribe(e,!0,o,null!==(r=null==i?void 0:i.subscribeTimeout)&&void 0!==r?r:null==i?void 0:i.requestTimeout),a}catch(s){return!1}}))}unsubscribeFromTopic(e){return this._subscriptionExecutor.scheduleSerial(()=>Ye(this,void 0,void 0,function*(){try{const i=yield this._session;if(!i)return!1;const r=Gy.randomUUID(),s=this.whenEvent(xe.SessionEventCode.SUBSCRIPTION_OK,{rejectOnEvent:xe.SessionEventCode.SUBSCRIPTION_ERROR,correlationKey:r}).then(()=>!0).catch(o=>(this._logger.warn(`Solace event broker rejected unsubscription on topic ${e.getName()}.`,o),!1));return i.unsubscribe(e,!0,r,void 0),s}catch(i){return!1}}))}consume$(e){if(void 0===e)throw Error("Missing required topic or endpoint descriptor.");return this.createMessageConsumer$("string"==typeof e?{topicEndpointSubscription:xe.SolclientFactory.createTopicDestination(e),queueDescriptor:{type:xe.QueueType.TOPIC_ENDPOINT,durable:!1},queueProperties:void 0}:e)}createMessageConsumer$(e){var i,r;const s=null===(i=e.topicEndpointSubscription)||void 0===i?void 0:i.getName();s&&(e.topicEndpointSubscription=RM(e.topicEndpointSubscription.getName()));const o=null!==(r=null==e?void 0:e.emitOutsideAngularZone)&&void 0!==r&&r;return new T(a=>{let l;return this.session.then(u=>{l=u.createMessageConsumer(e),l.on(xe.MessageConsumerEventName.UP,()=>{var d;this._logger.debug("MessageConsumerEvent: UP"),null===(d=null==e?void 0:e.onSubscribed)||void 0===d||d.call(e,l)}),l.on(xe.MessageConsumerEventName.CONNECT_FAILED_ERROR,d=>{this._logger.debug("MessageConsumerEvent: CONNECT_FAILED_ERROR",d),a.error(d)}),l.on(xe.MessageConsumerEventName.DOWN_ERROR,d=>{this._logger.debug("MessageConsumerEvent: DOWN_ERROR",d),a.error(d)}),l.on(xe.MessageConsumerEventName.DOWN,()=>{this._logger.debug("MessageConsumerEvent: DOWN"),null==l||l.dispose(),a.complete()}),l.on(xe.MessageConsumerEventName.MESSAGE,d=>{this._logger.debug("MessageConsumerEvent: MESSAGE",d),tt.assertNotInAngularZone(),a.next(d)}),l.connect()}).catch(u=>{a.error(u),null==l||l.dispose()}),()=>{l&&!l.disposed&&l.disconnect()}}).pipe(vf(s),o?ie:al(a=>this._zone.run(a)))}browse$(e){if(void 0===e)throw Error("Missing required queue or descriptor.");return this.createQueueBrowser$("string"==typeof e?{queueDescriptor:new xe.QueueDescriptor({type:xe.QueueType.QUEUE,name:e})}:e)}createQueueBrowser$(e){var i;const r=null!==(i=null==e?void 0:e.emitOutsideAngularZone)&&void 0!==i&&i;return new T(s=>{let o,a=!1;return this.session.then(l=>{o=l.createQueueBrowser(e),o.on(xe.QueueBrowserEventName.UP,()=>{this._logger.debug("QueueBrowserEvent: UP"),o.start()}),o.on(xe.QueueBrowserEventName.CONNECT_FAILED_ERROR,u=>{this._logger.debug("QueueBrowserEvent: CONNECT_FAILED_ERROR",u),s.error(u)}),o.on(xe.QueueBrowserEventName.DOWN_ERROR,u=>{this._logger.debug("QueueBrowserEvent: DOWN_ERROR",u),s.error(u)}),o.on(xe.QueueBrowserEventName.DOWN,()=>{this._logger.debug("QueueBrowserEvent: DOWN"),s.complete()}),o.on(xe.QueueBrowserEventName.DISPOSED,()=>{this._logger.debug("QueueBrowserEvent: DOWN"),a=!0,s.complete()}),o.on(xe.QueueBrowserEventName.MESSAGE,u=>{this._logger.debug("QueueBrowserEvent: MESSAGE",u),tt.assertNotInAngularZone(),s.next(u)}),o.connect()}).catch(l=>{s.error(l)}),()=>{o&&!a&&(o.stop(),o.disconnect())}}).pipe(vf(),r?ie:al(s=>this._zone.run(s)))}publish(e,i,r){const s="string"==typeof e?xe.SolclientFactory.createTopicDestination(e):e;return this.sendMessage(s,i,r,(a,l)=>a.send(l))}request$(e,i,r){var s;const o=null!==(s=null==r?void 0:r.emitOutsideAngularZone)&&void 0!==s&&s,a="string"==typeof e?xe.SolclientFactory.createTopicDestination(e):e;return new T(l=>{const u=new le,d=new le;d.pipe(cl(),vf(),o?ie:al(K=>this._zone.run(K)),at(u)).subscribe(l);const R=(K,ce)=>{d.next(ce),d.complete()},P=(K,ce)=>{d.error(ce)};return this.sendMessage(a,i,r,(K,ce)=>{K.sendRequest(ce,null==r?void 0:r.requestTimeout,R,P)}).catch(K=>d.error(K)),()=>u.next()})}reply(e,i,r){return this.sendMessage(null,i,r,(o,a)=>o.sendReply(e,a))}enqueue(e,i,r){const s=xe.SolclientFactory.createDurableQueueDestination(e);return this.publish(s,i,r)}sendMessage(e,i,r,s){var o,a,l,u,d,R,P,L,K,ce;return Ye(this,void 0,void 0,function*(){const he=i instanceof xe.Message?i:xe.SolclientFactory.createMessage();if(he.setDeliveryMode(null!==(o=he.getDeliveryMode())&&void 0!==o?o:xe.MessageDeliveryModeType.DIRECT),e&&he.setDestination(e),null!=i&&!(i instanceof xe.Message)&&(i instanceof xe.SDTField?he.setSdtContainer(i):he.setBinaryAttachment(i)),r&&(he.setDeliveryMode(null!==(a=r.deliveryMode)&&void 0!==a?a:he.getDeliveryMode()),he.setCorrelationId(null!==(l=r.correlationId)&&void 0!==l?l:he.getCorrelationId()),he.setPriority(null!==(u=r.priority)&&void 0!==u?u:he.getPriority()),he.setTimeToLive(null!==(d=r.timeToLive)&&void 0!==d?d:he.getTimeToLive()),he.setDMQEligible(null!==(R=r.dmqEligible)&&void 0!==R?R:he.isDMQEligible()),he.setCorrelationKey(null!==(P=r.correlationKey)&&void 0!==P?P:he.getCorrelationKey()),r.replyTo&&he.setReplyTo(r.replyTo),he.setAsReplyMessage(null!==(L=r.markAsReply)&&void 0!==L?L:he.isReplyMessage())),null===(K=null==r?void 0:r.headers)||void 0===K?void 0:K.size){const ge=he.getUserPropertyMap()||new xe.SDTMapContainer;r.headers.forEach((Ie,De)=>{if(null!=Ie)if(Ie instanceof xe.SDTField){const Ge=Ie;ge.addField(De,Ge.getType(),Ge.getValue())}else ge.addField(De,"string"==typeof Ie?xe.SDTFieldType.STRING:"boolean"==typeof Ie?xe.SDTFieldType.BOOL:"number"==typeof Ie?xe.SDTFieldType.INT32:xe.SDTFieldType.UNKNOWN,Ie)}),he.setUserPropertyMap(ge)}null===(ce=null==r?void 0:r.intercept)||void 0===ce||ce.call(r,he);const Te=yield this.session;if(he.getDeliveryMode()===xe.MessageDeliveryModeType.DIRECT)s(Te,he);else{const ge=he.getCorrelationKey()||Gy.randomUUID(),Ie=this.whenEvent(xe.SessionEventCode.ACKNOWLEDGED_MESSAGE,{rejectOnEvent:xe.SessionEventCode.REJECTED_MESSAGE_ERROR,correlationKey:ge});he.setCorrelationKey(ge),s(Te,he),yield Ie}})}get session(){return this._session||Promise.reject("Not connected to the Solace message broker. Did you forget to initialize the `SolaceClient` via `SolaceMessageClientModule.forRoot({...}) or to invoke 'connect'`?")}whenEvent(e,i){return new Promise((r,s)=>{this._event$.pipe(cl(),Dn(o=>!(null==i?void 0:i.correlationKey)||o.correlationKey===i.correlationKey),mn(o=>{switch(o.sessionEventCode){case e:return it(o);case null==i?void 0:i.rejectOnEvent:return tr(()=>o);default:return ur}}),In(1)).subscribe({next:o=>r(o),error:o=>s(o),complete:g})})}initSolaceClientFactory(){const e=new xe.SolclientFactoryProperties;e.profile=xe.SolclientFactoryProfiles.version10_5,e.logLevel=this._logger.logLevel,xe.SolclientFactory.init(e)}disposeWhenSolaceSessionDied(){this._event$.pipe(Dn(e=>nW.has(e.sessionEventCode)),cl(),at(this._destroy$)).subscribe(()=>{this.dispose()})}logSolaceSessionEvents(){const e=Object.entries(xe.SessionEventCode).reduce((i,[r,s])=>i.set(s,r),new Map);this._event$.pipe(cl(),at(this._destroy$)).subscribe(i=>{this._logger.debug(`SessionEvent: ${e.get(i.sessionEventCode)}`,i)})}monitorConnectionState$(){const e=this._event$.pipe(cl(),de(i=>i.sessionEventCode),Dn(i=>OM.has(i)||iW.has(i)),de(i=>OM.has(i)),Lc(),al(i=>this._zone.run(i)),Eu({connector:()=>new Om(1),resetOnRefCountZero:!1,resetOnError:!1,resetOnComplete:!1}));return e.subscribe().unsubscribe(),e}ngOnDestroy(){this._destroy$.next(),this.dispose()}}return t.\u0275fac=function(e){return new(e||t)(ve(SM,8),ve(wM),ve(DM),ve(sn),ve(AM),ve(tt))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();function vf(t){return de(n=>({message:n,params:tW(n,t),headers:eW(n)}))}function eW(t){const n=t.getUserPropertyMap();return(null==n?void 0:n.getKeys().reduce((e,i)=>e.set(i,n.getField(i).getValue()),new Map))||new Map}function tW(t,n){if(void 0===n||!n.length)return new Map;const e=n.split("/"),i=t.getDestination().getName().split("/");return e.reduce((r,s,o)=>MM(s)?r.set(s.substring(1),i[o]):r,new Map)}function MM(t){return t.startsWith(":")&&t.length>1}function RM(t){const n=t.split("/").map(e=>MM(e)?"*":e).join("/");return xe.SolclientFactory.createTopicDestination(n)}const nW=(new Set).add(xe.SessionEventCode.DOWN_ERROR).add(xe.SessionEventCode.DISCONNECTED),OM=(new Set).add(xe.SessionEventCode.UP_NOTICE).add(xe.SessionEventCode.RECONNECTED_NOTICE),iW=(new Set).add(xe.SessionEventCode.DOWN_ERROR).add(xe.SessionEventCode.CONNECT_FAILED_ERROR).add(xe.SessionEventCode.DISCONNECTED).add(xe.SessionEventCode.RECONNECTING_NOTICE);function cl(){return Pn(()=>tt.assertNotInAngularZone())}function NM(t){const n=Object.assign({},t);return n.password&&(n.password="***"),n.accessToken&&(n.accessToken="***"),n}let sW=(()=>{class t{constructor(e,i){}static forRoot(e){return{ngModule:t,providers:[xM,{provide:SM,useValue:e},{provide:ll,useClass:Jj},{provide:wM,useClass:Xj},DM,[AM,{provide:xe.LogLevel,useValue:xe.LogLevel.WARN}],{provide:PM,useFactory:oW,deps:[[xM,new Qi,new ao]]}]}}static forChild(){return{ngModule:t,providers:[]}}static forSpec(){return{ngModule:t,providers:[{provide:ll,useClass:Yj}]}}}return t.\u0275fac=function(e){return new(e||t)(ve(PM),ve(ll))},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({}),t})();const PM=new He("UX_PROPOSAL_FIELD_FORROOT_GUARD");function oW(t){if(t)throw Error("[ModuleForRootError] SolaceMessageClientModule is not supported in a lazy context.");return"guarded"}let xM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Ve({token:t,factory:t.\u0275fac}),t})();const aW=["tooltip"],kM="tooltip-panel",FM=Xa({passive:!0}),LM=new He("mat-tooltip-scroll-strategy"),dW={provide:LM,deps:[qr],useFactory:function uW(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},hW=new He("mat-tooltip-default-options",{providedIn:"root",factory:function fW(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let pW=(()=>{class t{constructor(e,i,r,s,o,a,l,u,d,R,P,L){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=o,this._platform=a,this._ariaDescriber=l,this._focusMonitor=u,this._dir=R,this._defaultOptions=P,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new le,this._scrollStrategy=d,this._document=L,P&&(P.position&&(this.position=P.position),P.touchGestures&&(this.touchGestures=P.touchGestures)),R.change.pipe(at(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){var i;e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=cn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Vs(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Vs(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(at(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,FM)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new Ja(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(at(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var e;if(this._overlayRef)return this._overlayRef;const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(at(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${kM}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(at(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(at(this._destroyed)).subscribe(()=>{var s;return null===(s=this._tooltipInstance)||void 0===s?void 0:s._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe(at(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!Hs(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(e=this._defaultOptions)||void 0===e?void 0:e.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},r.main),s.main)),this._addOffset(Object.assign(Object.assign({},r.fallback),s.fallback))])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(In(1),at(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let o;if(o="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",o!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${kM}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{var r;const s=i.relatedTarget;(!s||!(null===(r=this._overlayRef)||void 0===r?void 0:r.overlayElement.contains(s)))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,FM)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){Na()},t.\u0275dir=Ue({type:t,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),t})(),jy=(()=>{class t extends pW{constructor(e,i,r,s,o,a,l,u,d,R,P,L){super(e,i,r,s,o,a,l,u,d,R,P,L),this._tooltipComponent=_W}}return t.\u0275fac=function(e){return new(e||t)(X(qr),X(ht),X(Vm),X(qn),X(tt),X(kn),X(P5),X(Uc),X(LM),X(Li,8),X(hW,8),X(Ct))},t.\u0275dir=Ue({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[st]}),t})(),gW=(()=>{class t{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new le,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const o=getComputedStyle(i);("0s"===o.getPropertyValue("animation-duration")||"none"===o.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return t.\u0275fac=function(e){return new(e||t)(X(Cn),X(ei,8))},t.\u0275dir=Ue({type:t}),t})(),_W=(()=>{class t extends gW{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return t.\u0275fac=function(e){return new(e||t)(X(Cn),X(Uy),X(ei,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&Zt(aW,7),2&e){let r;gt(r=_t())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&Ke("mouseleave",function(s){return i._handleMouseLeave(s)}),2&e&&ho("zoom",i.isVisible()?1:null)},features:[st],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(Se(0,"div",0,1),Ke("animationend",function(s){return i._handleAnimationEnd(s)}),ki(2,"async"),Le(3),we()),2&e){let r;Nt("mat-tooltip-handset",null==(r=Zi(2,4,i._isHandset))?null:r.matches),Pe("ngClass",i.tooltipClass),Oe(3),Kn(i.message)}},directives:[Bd],pipes:[dc],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),t})(),mW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({providers:[dW],imports:[[Jm,Dr,Rh,tn],tn,Sh]}),t})();const yW=["touch_target"];let EW=(()=>{class t{constructor(e,i,r){this._zone=e,this._cd=i,this._document=r,this._destroy$=new le,this.moving=!1,this.orientation="vertical",this.start=new et,this.move=new et,this.end=new et,this.reset=new et}get isVertical(){return!this.isHorizontal}get isHorizontal(){return"horizontal"===this.orientation}get splitterCursor(){return this.isVertical?"ew-resize":"ns-resize"}ngOnInit(){Tn(this.touchTargetElementRef.nativeElement,"dblclick").pipe(at(this._destroy$)).subscribe(()=>this.onReset()),Tn(this.touchTargetElementRef.nativeElement,"touchstart").pipe(at(this._destroy$)).subscribe(e=>this.onTouchStart(e)),Tn(this.touchTargetElementRef.nativeElement,"mousedown").pipe(at(this._destroy$)).subscribe(e=>this.onMouseDown(e))}onReset(){this.reset.emit()}onTouchStart(e){this.installMoveListener({startEvent:e,moveEventNames:["touchmove"],endEventNames:["touchend","touchcancel"],eventPositionFn:i=>{const r=i.touches[0];return this.isVertical?{screenPos:r.screenX,clientPos:r.clientX,pagePos:r.pageX}:{screenPos:r.screenY,clientPos:r.clientY,pagePos:r.pageY}}})}onMouseDown(e){0===e.button&&this.installMoveListener({startEvent:e,moveEventNames:["mousemove","sci-mousemove"],endEventNames:["mouseup","sci-mouseup"],eventPositionFn:i=>this.isVertical?{screenPos:i.screenX,clientPos:i.clientX,pagePos:i.pageX}:{screenPos:i.screenY,clientPos:i.clientY,pagePos:i.pageY}})}installMoveListener(e){const i=e.startEvent;i.preventDefault(),this._zone.runOutsideAngular(()=>{const r=hn(...e.moveEventNames.map(l=>Tn(this._document,l))),s=hn(...e.endEventNames.map(l=>Tn(this._document,l)));let o=e.eventPositionFn(i).clientPos;const a=this._document.body.style.cursor;this._document.body.style.cursor=this.splitterCursor,r.pipe(function zj(t,n){return de((e,i)=>(0===i&&(n?n.schedule(t):t(e)),e))}(()=>this._zone.run(()=>{this.moving=!0,this.start.next(),this._cd.markForCheck()})),at(hn(s,this._destroy$))).subscribe(l=>{const u=e.eventPositionFn(l),d=u.clientPos,R=d-o;o=d,tt.assertNotInAngularZone(),this.move.emit({distance:R,position:u})}),s.pipe(Ps(),at(this._destroy$)).subscribe(l=>{l.stopPropagation(),this._document.body.style.cursor=a,this.moving&&this._zone.run(()=>{this.end.next(),this.moving=!1,this._cd.markForCheck()})})})}ngOnDestroy(){this._destroy$.next()}}return t.\u0275fac=function(e){return new(e||t)(X(tt),X(Cn),X(Ct))},t.\u0275cmp=Ht({type:t,selectors:[["sci-splitter"]],viewQuery:function(e,i){if(1&e&&Zt(yW,7),2&e){let r;gt(r=_t())&&(i.touchTargetElementRef=r.first)}},hostVars:8,hostBindings:function(e,i){2&e&&(ho("cursor",i.splitterCursor),Nt("moving",i.moving)("vertical",i.isVertical)("horizontal",i.isHorizontal))},inputs:{orientation:"orientation"},outputs:{start:"start",move:"move",end:"end",reset:"reset"},decls:3,vars:0,consts:[[1,"touch-target"],["touch_target",""],[1,"handle"]],template:function(e,i){1&e&&(Se(0,"div",0,1),Lt(2,"div",2),we())},styles:["[_nghost-%COMP%]{--sci-splitter-bgcolor: #d2d2d2;--sci-splitter-bgcolor_hover: var(--sci-splitter-bgcolor);--sci-splitter-size: 1px;--sci-splitter-size_hover: 8px;--sci-splitter-touch-target-size: 15px;--sci-splitter-cross-axis-size: 100%;--sci-splitter-border-radius: 0;--sci-splitter-opacity_active: 1;--sci-splitter-opacity_hover: .3;display:grid;position:relative;background-color:var(--sci-splitter-bgcolor);border-radius:var(--sci-splitter-border-radius);place-items:center;align-self:center}[_nghost-%COMP%] > div.touch-target[_ngcontent-%COMP%]{position:absolute;display:grid;place-items:center;pointer-events:auto}[_nghost-%COMP%] > div.touch-target[_ngcontent-%COMP%] > div.handle[_ngcontent-%COMP%]{position:absolute;background-color:var(--sci-splitter-bgcolor);border-radius:var(--sci-splitter-border-radius);opacity:var(--sci-splitter-opacity_hover);transition-property:width,height;transition-timing-function:ease-in;transition-duration:75ms}.vertical[_nghost-%COMP%]{width:var(--sci-splitter-size);height:var(--sci-splitter-cross-axis-size)}.vertical[_nghost-%COMP%] > div.touch-target[_ngcontent-%COMP%]{width:var(--sci-splitter-touch-target-size);height:100%}.vertical[_nghost-%COMP%] > div.touch-target[_ngcontent-%COMP%] > div.handle[_ngcontent-%COMP%]{width:var(--sci-splitter-size);height:100%}.horizontal[_nghost-%COMP%]{height:var(--sci-splitter-size);width:var(--sci-splitter-cross-axis-size)}.horizontal[_nghost-%COMP%] > div.touch-target[_ngcontent-%COMP%]{width:100%;height:var(--sci-splitter-touch-target-size)}.horizontal[_nghost-%COMP%] > div.touch-target[_ngcontent-%COMP%] > div.handle[_ngcontent-%COMP%]{width:100%;height:var(--sci-splitter-size)}[_nghost-%COMP%] > div.touch-target[_ngcontent-%COMP%]:active > div.handle[_ngcontent-%COMP%]{opacity:var(--sci-splitter-opacity_active)}.vertical.moving[_nghost-%COMP%] > div.touch-target[_ngcontent-%COMP%] > div.handle[_ngcontent-%COMP%], .vertical[_nghost-%COMP%] > div.touch-target[_ngcontent-%COMP%]:hover > div.handle[_ngcontent-%COMP%]{background-color:var(--sci-splitter-bgcolor_hover);width:var(--sci-splitter-size_hover)}.horizontal.moving[_nghost-%COMP%] > div.touch-target[_ngcontent-%COMP%] > div.handle[_ngcontent-%COMP%], .horizontal[_nghost-%COMP%] > div.touch-target[_ngcontent-%COMP%]:hover > div.handle[_ngcontent-%COMP%]{background-color:var(--sci-splitter-bgcolor_hover);height:var(--sci-splitter-size_hover)}"],changeDetection:0}),t})(),bW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[Dr]]}),t})();function vW(t,n){1&t&&cd(0)}function CW(t,n){if(1&t){const e=bn();Se(0,"sci-splitter",4,5),Ke("start",function(){return zt(e),Qe(2).onSashStart()})("move",function(r){zt(e);const s=Ur(1),o=Qe().index;return Qe().onSash(s.nativeElement,o,r)})("end",function(){return zt(e),Qe(2).onSashEnd()})("reset",function(){zt(e);const r=Qe().index;return Qe().onSashReset(r)}),we()}2&t&&Pe("orientation",Qe(2).isRowDirection?"vertical":"horizontal")}function TW(t,n){if(1&t&&(Er(0),Se(1,"div",1),ki(2,"async"),Je(3,vW,1,0,"ng-container",2),we(),Je(4,CW,2,1,"sci-splitter",3),br()),2&t){const e=n.$implicit,i=n.first,r=n.last;Oe(1),ho("flex-grow",Zi(2,13,e.flexGrowNormalized$))("flex-shrink",e.flexShrink)("flex-basis",e.flexBasis),Nt("first",i)("last",r),Pe("sciSashInitializer",e),Oe(2),Pe("ngTemplateOutlet",e.sashTemplate),Oe(1),Pe("ngIf",!r)}}class UM{}let BM=(()=>{class t{constructor(e,i){this.sashTemplate=e,this._sashBoxAccessor=i,this._size="1",this._flexGrow$=new ci(0),this.flexGrowNormalized$=this._sashBoxAccessor.sashes$.pipe(nr(r=>hn(...r.map(s=>s._flexGrow$))),de(()=>this.normalizeFlexGrow(this.flexGrow)))}set size(e){this._size=null!=e?e:"1"}get size(){return this._size}set flexGrow(e){this._flexGrow$.next(e)}get flexGrow(){return this._flexGrow$.value}ngOnInit(){this.setFlexItemProperties()}ngOnChanges(e){this.setFlexItemProperties()}get isFixedSize(){return Number.isNaN(+this.size)}get computedSize(){return"row"===this._sashBoxAccessor.direction?this.element.getBoundingClientRect().width:this.element.getBoundingClientRect().height}setFlexItemProperties(){if(this.isFixedSize)this.flexGrow=0,this.flexShrink=0,this.flexBasis=`${this.size}`;else{const e=+this.size;if(e<1)throw Error(`[IllegalSashSizeError] The proportion for flexible sized sashes must be >=1 [size=${this.size}]`);this.flexGrow=e,this.flexShrink=1,this.flexBasis="0"}}normalizeFlexGrow(e){if(0===e)return 0;const r=this._sashBoxAccessor.sashes.reduce((s,o)=>s+o.flexGrow,0);return 0===r?0:e/r}}return t.\u0275fac=function(e){return new(e||t)(X(Xn),X(UM))},t.\u0275dir=Ue({type:t,selectors:[["ng-template","sciSash",""]],inputs:{size:"size",minSize:"minSize"},exportAs:["sciSash"],features:[An]}),t})(),SW=(()=>{class t{constructor(e){this._host=e}ngOnChanges(e){this.sash.element=this._host.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(X(ht))},t.\u0275dir=Ue({type:t,selectors:[["div","sciSashInitializer","",8,"sash"]],inputs:{sash:["sciSashInitializer","sash"]},features:[An]}),t})(),wW=(()=>{class t{constructor(e){this.host=e,this.nativeElement=e.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(X(ht))},t.\u0275dir=Ue({type:t,selectors:[["","sciElementRef",""]],exportAs:["sciElementRef"]}),t})(),DW=(()=>{class t{constructor(e,i){this._host=e,this._zone=i,this._destroy$=new le,this.sashes$=new ci([]),this.sashing=!1,this.direction="row",this.sashStart=new et,this.sashEnd=new et}set setSashes(e){e.changes.pipe(yi(e),at(this._destroy$)).subscribe(i=>{this.sashes$.next(i.toArray())})}onSashStart(){this.sashing=!0,this.sashStart.emit(),this.sashes.forEach(e=>{e.isFixedSize||(e.flexGrow=0,e.flexShrink=0,e.flexBasis=`${e.computedSize}px`)})}onSashEnd(){this.sashing=!1;const e=HM(this.sashes),i=this.sashes.map(r=>r.computedSize);this.sashes.forEach((r,s)=>{r.isFixedSize||(r.flexGrow=e*i[s],r.flexShrink=1,r.flexBasis="0")}),this.sashEnd.emit(i)}onSash(e,i,r){const s=r.distance;if(0===s)return;tt.assertNotInAngularZone();const o=e.getBoundingClientRect(),u=r.position.clientPos;if(s>0&&u<(this.isRowDirection?o.left:o.top)||s<0&&u>(this.isRowDirection?o.left+o.width:o.top+o.height))return;const d=this.sashes[i],R=this.sashes[i+1],P=d.computedSize,L=R.computedSize,K=P+L,ce=Math.round(P+s),he=Math.round(L-s);if(void 0!==d.minSize&&s<0&&ce<this.toPixel(d.minSize)||void 0!==R.minSize&&s>0&&he<this.toPixel(R.minSize))return;const Te=VM(ce,{min:0,max:K}),ge=VM(he,{min:0,max:K});Te===ce&&ge===he&&this._zone.run(()=>{d.flexBasis=`${ce}px`,R.flexBasis=`${he}px`})}onSashReset(e){const i=this.sashes[e],r=this.sashes[e+1],s=(i.computedSize+r.computedSize)/2,o=HM(this.sashes),a=this.sashes.map((l,u)=>u===e||u===e+1?s:l.computedSize);[i,r].forEach(l=>{l.isFixedSize?l.flexBasis=`${s}px`:l.flexGrow=o*s}),this.sashStart.emit(),this.sashEnd.emit(a)}get isColumnDirection(){return"column"===this.direction}get isRowDirection(){return"row"===this.direction}get sashes(){return this.sashes$.value}ngOnDestroy(){this._destroy$.next()}toPixel(e){if("number"==typeof e)return e;if(e.endsWith("%")){const i=this._host.nativeElement.getBoundingClientRect(),r=this.isRowDirection?i.width:i.height;return parseInt(e,10)*r/100}return parseInt(e,10)}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(tt))},t.\u0275cmp=Ht({type:t,selectors:[["sci-sashbox"]],contentQueries:function(e,i,r){if(1&e&&Rn(r,BM,4),2&e){let s;gt(s=_t())&&(i.setSashes=s)}},hostVars:6,hostBindings:function(e,i){2&e&&Nt("sashing",i.sashing)("column",i.isColumnDirection)("row",i.isRowDirection)},inputs:{direction:"direction"},outputs:{sashStart:"sashStart",sashEnd:"sashEnd"},features:[Gt([{provide:UM,useFactory:IW,deps:[Yt(()=>t)]}])],decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],[1,"sash",3,"sciSashInitializer"],[4,"ngTemplateOutlet"],["sciElementRef","",3,"orientation","start","move","end","reset",4,"ngIf"],["sciElementRef","",3,"orientation","start","move","end","reset"],["sciElementRef","sciElementRef"]],template:function(e,i){1&e&&(Je(0,TW,5,15,"ng-container",0),ki(1,"async")),2&e&&Pe("ngForOf",Zi(1,1,i.sashes$))},directives:[EW,yo,SW,A0,Fi,wW],pipes:[dc],styles:["[_nghost-%COMP%]{--sci-sashbox-gap: 10px;--sci-sashbox-splitter-bgcolor: #d2d2d2;--sci-sashbox-splitter-bgcolor_hover: var(--sci-sashbox-splitter-bgcolor);--sci-sashbox-splitter-size: 1px;--sci-sashbox-splitter-size_hover: 8px;--sci-sashbox-splitter-touch-target-size: 15px;--sci-sashbox-splitter-cross-axis-size: 100%;--sci-sashbox-splitter-border-radius: 0;--sci-sashbox-splitter-opacity_active: 1;--sci-sashbox-splitter-opacity_hover: .3;display:flex;align-items:stretch;box-sizing:border-box;overflow:hidden;z-index:0}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.column[_nghost-%COMP%]{flex-direction:column}.row[_nghost-%COMP%]{flex-direction:row}[_nghost-%COMP%] > div.sash[_ngcontent-%COMP%]{overflow:hidden;display:grid;grid-auto-rows:100%;grid-auto-columns:100%}.row[_nghost-%COMP%] > div.sash[_ngcontent-%COMP%]{margin:0 var(--sci-sashbox-gap)}.row[_nghost-%COMP%] > div.sash.first[_ngcontent-%COMP%]{margin-left:0}.row[_nghost-%COMP%] > div.sash.last[_ngcontent-%COMP%]{margin-right:0}.column[_nghost-%COMP%] > div.sash[_ngcontent-%COMP%]{margin:var(--sci-sashbox-gap) 0}.column[_nghost-%COMP%] > div.sash.first[_ngcontent-%COMP%]{margin-top:0}.column[_nghost-%COMP%] > div.sash.last[_ngcontent-%COMP%]{margin-bottom:0}.sashing[_nghost-%COMP%] > div.sash[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%] > sci-splitter[_ngcontent-%COMP%]{--sci-splitter-bgcolor: var(--sci-sashbox-splitter-bgcolor);--sci-splitter-bgcolor_hover: var(--sci-sashbox-splitter-bgcolor_hover);--sci-splitter-size: var(--sci-sashbox-splitter-size);--sci-splitter-size_hover: var(--sci-sashbox-splitter-size_hover);--sci-splitter-touch-target-size: var(--sci-sashbox-splitter-touch-target-size);--sci-splitter-cross-axis-size: var(--sci-sashbox-splitter-cross-axis-size);--sci-splitter-border-radius: var(--sci-sashbox-splitter-border-radius);--sci-splitter-opacity_active: var(--sci-sashbox-splitter-opacity_active);--sci-splitter-opacity_hover: var(--sci-sashbox-splitter-opacity_hover);flex:none;z-index:1}"]}),t})();function VM(t,n){return Math.min(n.max,Math.max(n.min,t))}function HM(t){const n=t.filter(r=>!r.isFixedSize);return n.reduce((r,s)=>r+Number(s.size),0)/n.reduce((r,s)=>r+s.computedSize,0)}function IW(t){return new class{get direction(){return t.direction}get sashes$(){return t.sashes$}get sashes(){return t.sashes$.value}}}let AW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[Dr,bW]]}),t})();function $M(t,n,e,i,r,s,o){try{var a=t[s](o),l=a.value}catch(u){return void e(u)}a.done?n(l):Promise.resolve(l).then(i,r)}var Uo,t,Jc,GM,jM,zM,qM;function WM(t){return Array.from(t.entries()).reduce((n,[e,i])=>(n[e]=i,n),{})}function Wy(t){return de(()=>t)}function zy(t){return new T(n=>{const e=new ResizeObserver(()=>n.next(function OW(t){return{clientWidth:t.clientWidth,offsetWidth:t.offsetWidth,clientHeight:t.clientHeight,offsetHeight:t.offsetHeight,element:t}}(t)));return e.observe(t),()=>{e.disconnect()}})}function qy(t,n){return new T(e=>{const i=new MutationObserver(r=>e.next(r));return i.observe(t,n),()=>{i.disconnect()}})}(t=Uo||(Uo={})).orElse=function n(i,r){return void 0!==i?i:"function"==typeof r?r():r},t.orElseThrow=function e(i,r){if(void 0!==i)return i;throw r()},function(t){t.coerce=function n(a,l){return null==a?Uo.orElse(l&&l.coerceNullOrUndefined,!0)?[]:a:Array.isArray(a)?a:[a]},t.isEqual=function e(a,l,u){if(a===l)return!0;if(!a||!l||a.length!==l.length)return!1;const d=Uo.orElse(u&&u.exactOrder,!0);return a.every((R,P)=>d?R===l[P]:l.includes(R))},t.remove=function i(a,l,u){const d=Uo.orElse(u&&u.firstOnly,!1),R="function"==typeof l?()=>a.findIndex(l):()=>a.indexOf(l),P=[];for(let L=R();-1!==L&&(P.push(...a.splice(L,1)),!d);L=R());return P},t.distinct=function r(a,l=ie){const u=new Set(a.map(l));return a.filter(d=>u.delete(l(d)))},t.intersect=function s(...a){const l=a.filter(d=>null!=d);if(!l.length)return[];const u=l.pop();return l.reduce((d,R)=>d.filter(P=>R.includes(P)),[...u])},t.last=function o(a,l){if(a){if(!l)return a[a.length-1];for(let u=a.length-1;u>=0;u--)if(l(a[u]))return a[u]}}}(Jc||(Jc={})),function(t){t.isEqual=function n(e,i){return e===i||!(!e||!i||Object.keys(e).length!==Object.keys(i).length)&&Object.entries(e).every(([r,s])=>i[r]===s)}}(GM||(GM={})),function(t){t.coerce=function n(i,r){if(null==i)return Uo.orElse(r&&r.coerceNullOrUndefined,!0)?{}:i;if(i instanceof Map)return WM(i);try{return WM(new Map(i))}catch(s){}return i},t.withoutUndefinedEntries=function e(i){return Object.entries(i).reduce((r,[s,o])=>(void 0!==o&&(r[s]=o),r),{})}}(jM||(jM={})),function(t){t.coerce=function n(o,a){if(null==o)return Uo.orElse(a&&a.coerceNullOrUndefined,!0)?new Map:o;if(o instanceof Map)return o;try{return new Map(o)}catch(l){}return Object.entries(o).reduce((l,[u,d])=>l.set(u,d),new Map)},t.addSetValue=function e(o,a,l){const u=o.get(a)||new Set;return o.set(a,u.add(l))},t.removeSetValue=function i(o,a,l){const u=o.get(a)||new Set;let d;if("function"==typeof l){const R=l;d=Array.from(u).filter(R).reduce((P,L)=>u.delete(L)||P,!1)}else d=u.delete(l);return d&&!u.size&&o.delete(a),d},t.addListValue=function r(o,a,l){const u=o.get(a)||[];return o.set(a,u.concat(l))},t.removeListValue=function s(o,a,l){const u=o.get(a)||[],d=Jc.remove(u,l,{firstOnly:!1}).length>0;return d&&!u.length&&o.delete(a),d}}(zM||(zM={})),function(t){t.coerce=function n(e){return e instanceof T?e:e instanceof Promise?Fn(e):it(e)}}(qM||(qM={}));const kW=["thumb_handle"],FW=["viewport"],LW=["viewport_client"];function UW(t,n){if(1&t&&(Er(0),Lt(1,"sci-scrollbar",5)(2,"sci-scrollbar",5),br()),2&t){Qe();const e=Ur(1);Oe(1),Pe("direction","vscroll")("viewport",e),Oe(1),Pe("direction","hscroll")("viewport",e)}}const BW=["*"];let YM=(()=>{class t{constructor(e,i){this._document=e,this._zone=i,this._trackSize$=new ci(null),this._destroy$=new le,this.installNativeScrollbarTrackSizeListener()}get trackSize$(){return this._trackSize$}get trackSize(){return this._trackSize$.getValue()}computeTrackSize(){const e=this._document.createElement("div");QM(e,{position:"absolute",overflow:"scroll",height:"100px",width:"100px",border:0,visibility:"hidden"});const i=this._document.createElement("div");QM(i,{height:"100%",width:"100%",border:0}),e.appendChild(i),this._document.body.appendChild(e);const r={hScrollbarTrackHeight:e.offsetHeight-i.offsetHeight,vScrollbarTrackWidth:e.offsetWidth-i.offsetWidth};return this._document.body.removeChild(e),0===r.hScrollbarTrackHeight&&0===r.vScrollbarTrackWidth?null:r}installNativeScrollbarTrackSizeListener(){this._zone.runOutsideAngular(()=>{Tn(window,"resize").pipe(Ro(5),yi(null),de(()=>this.computeTrackSize()),Lc((e,i)=>JSON.stringify(e)===JSON.stringify(i)),at(this._destroy$)).subscribe(e=>{this._zone.run(()=>this._trackSize$.next(e))})})}ngOnDestroy(){this._destroy$.next()}}return t.\u0275fac=function(e){return new(e||t)(ve(Ct),ve(tt))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function QM(t,n){Object.keys(n).forEach(e=>t.style.setProperty(e,n[e]))}let VW=(()=>{class t{constructor(e,i,r){this._host=e,this._document=i,this._zone=r,this._destroy$=new le,this._viewportChange$=new le,this._lastDragPosition=null,this._overflow=!1,this._thumbSizeFr=0,this._thumbPositionFr=0,this.direction="vscroll",this._viewportChange$.pipe(nr(()=>this._viewport?hn(this.viewportScrollChange$(),this.viewportDimensionChange$({debounceTime:t.VIEWPORT_RESIZE_DEBOUNCE_TIME}),this.viewportClientDimensionChange$({debounceTime:t.VIEWPORT_RESIZE_DEBOUNCE_TIME})):it(void 0)),function qj(t){return n=>new T(e=>{let i;return t(()=>{i=n.subscribe(new class extends F{constructor(){super(e)}_next(r){t(()=>super._next(r))}_error(r){t(()=>super._error(r))}_complete(){t(()=>super._complete())}unsubscribe(){t(()=>this.closed?void 0:super.unsubscribe())}})}),()=>{t(()=>null==i?void 0:i.unsubscribe())}})}(s=>this._zone.runOutsideAngular(s)),at(this._destroy$)).subscribe(()=>{this._viewport?this.renderScrollPosition():this.unsetScrollPosition()})}get vertical(){return"vscroll"===this.direction}get horizontal(){return"hscroll"===this.direction}get scrolling(){return null!==this._lastDragPosition}set setViewport(e){this._viewport=e,this._viewportChange$.next()}renderScrollPosition(){tt.assertNotInAngularZone();const e=this.viewportSize,i=this.viewportClientSize,r=this.scrollPosition/i,s=e/i,o=i>e;(r!==this._thumbPositionFr||s!==this._thumbSizeFr)&&(this._thumbPositionFr=r,this._thumbSizeFr=s,this.setCssVariable("--\u0275sci-scrollbar-thumb-position-fr",r),this.setCssVariable("--\u0275sci-scrollbar-thumb-size-fr",s)),o!==this._overflow&&(this._overflow=o,o?this._host.nativeElement.classList.add("overflow"):this._host.nativeElement.classList.remove("overflow"))}unsetScrollPosition(){tt.assertNotInAngularZone(),this._thumbPositionFr=0,this._thumbSizeFr=0,this._overflow=!1,this.setCssVariable("--\u0275sci-scrollbar-thumb-position-fr",0),this.setCssVariable("--\u0275sci-scrollbar-thumb-size-fr",0),this._host.nativeElement.classList.remove("overflow")}onTouchStart(e){e.preventDefault(),this._lastDragPosition=this.vertical?e.touches[0].screenY:e.touches[0].screenX}onTouchMove(e){e.preventDefault();const i=this.vertical?e.touches[0].screenY:e.touches[0].screenX,s=this.toViewportPanPx(i-this._lastDragPosition);this._lastDragPosition=i,this.moveViewportClient(s)}onTouchEnd(e){e.preventDefault(),this._lastDragPosition=null}onMouseDown(e){0===e.button&&(e.preventDefault(),this._lastDragPosition=this.vertical?e.screenY:e.screenX,this._zone.runOutsideAngular(()=>{const i=hn(Tn(this._document,"mousemove"),Tn(this._document,"sci-mousemove")).pipe(at(this._destroy$)).subscribe(r=>{r.preventDefault();const s=this.vertical?r.screenY:r.screenX,a=this.toViewportPanPx(s-this._lastDragPosition);this._lastDragPosition=s,this.moveViewportClient(a)});hn(Tn(this._document,"mouseup",{capture:!0}),Tn(this._document,"sci-mouseup")).pipe(Ps(),at(this._destroy$)).subscribe(r=>{r.stopPropagation(),i.unsubscribe(),this._lastDragPosition=null})}))}onScrollTrackMouseDown(e,i){this.scrollWhileMouseDown(this.toViewportPanPx(("up"===i?-1:1)*this.thumbSize),e)}toViewportPanPx(e){return e/(this.trackSize-this.thumbSize)*(this.viewportClientSize-this.viewportSize)}moveViewportClient(e){this.vertical?this._viewport.scrollTop+=e:this._viewport.scrollLeft+=e}get overflow(){return this._overflow}scrollWhileMouseDown(e,i){const r=i.target;km(250,50).pipe(function RW(...t){const n=Bf(t);return ye((e,i)=>{const r=t.length,s=new Array(r);let o=t.map(()=>!1),a=!1;for(let l=0;l<r;l++)Wn(t[l]).subscribe(ue(i,u=>{s[l]=u,!a&&!o[l]&&(o[l]=!0,(a=o.every(ie))&&(o=null))},g));e.subscribe(ue(i,l=>{if(a){const u=[l,...s];i.next(n?n(...u):u)}}))})}(hn(it(i),Tn(r,"mousemove")),(s,o)=>o),yi(i),fI(s=>r===this._document.elementFromPoint(s.clientX,s.clientY)),Ro(10),at(hn(Tn(r,"mouseout"),Tn(r,"mouseup")))).subscribe(()=>{this.moveViewportClient(e)})}viewportScrollChange$(){return Tn(this._viewport,"scroll",{passive:!0}).pipe(Wy(void 0))}viewportDimensionChange$(e){return zy(this._viewport).pipe(Ro(e.debounceTime),Wy(void 0))}viewportClientDimensionChange$(e){return this.children$(this._viewport).pipe(nr(i=>hn(...i.map(r=>hn(zy(r),qy(r,{subtree:!1,childList:!1,attributeFilter:["style"]}))))),Ro(e.debounceTime),Wy(void 0))}children$(e){return qy(e,{subtree:!1,childList:!0}).pipe(yi(void 0),de(()=>Array.from(e.children)),function Wj(t){return de(n=>n.filter(e=>!t||t(e)))}(i=>i instanceof HTMLElement))}setCssVariable(e,i){this._host.nativeElement.style.setProperty(e,i)}get viewportSize(){return this._viewport?this.vertical?this._viewport.clientHeight:this._viewport.clientWidth:0}get viewportClientSize(){return this._viewport?this.vertical?this._viewport.scrollHeight:this._viewport.scrollWidth:0}get scrollPosition(){return this._viewport?this.vertical?this._viewport.scrollTop:this._viewport.scrollLeft:0}get thumbSize(){const e=this.thumbElement.nativeElement;return this.vertical?e.clientHeight:e.clientWidth}get trackSize(){const e=this._host.nativeElement;return this.vertical?e.clientHeight:e.clientWidth}ngOnDestroy(){this._destroy$.next()}}return t.VIEWPORT_RESIZE_DEBOUNCE_TIME=50,t.\u0275fac=function(e){return new(e||t)(X(ht),X(Ct),X(tt))},t.\u0275cmp=Ht({type:t,selectors:[["sci-scrollbar"]],viewQuery:function(e,i){if(1&e&&Zt(kW,7),2&e){let r;gt(r=_t())&&(i.thumbElement=r.first)}},hostVars:6,hostBindings:function(e,i){2&e&&Nt("vertical",i.vertical)("horizontal",i.horizontal)("scrolling",i.scrolling)},inputs:{direction:"direction",setViewport:["viewport","setViewport"]},decls:5,vars:8,consts:[[1,"scrolltrack-start",3,"mousedown"],[1,"thumb-handle",3,"mousedown","touchstart","touchmove","touchend","touchcancel"],["thumb_handle",""],[1,"thumb"],[1,"scrolltrack-end",3,"mousedown"]],template:function(e,i){1&e&&(Se(0,"div",0),Ke("mousedown",function(s){return i.onScrollTrackMouseDown(s,"up")}),we(),Se(1,"div",1,2),Ke("mousedown",function(s){return i.onMouseDown(s)})("touchstart",function(s){return i.onTouchStart(s)})("touchmove",function(s){return i.onTouchMove(s)})("touchend",function(s){return i.onTouchEnd(s)})("touchcancel",function(s){return i.onTouchEnd(s)}),Lt(3,"div",3),we(),Se(4,"div",4),Ke("mousedown",function(s){return i.onScrollTrackMouseDown(s,"down")}),we()),2&e&&(Oe(1),Nt("vertical",i.vertical)("horizontal",i.horizontal),Oe(2),Nt("vertical",i.vertical)("horizontal",i.horizontal))},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:flex;border:2px solid transparent;box-sizing:border-box;--sci-scrollbar-color: rgb(78, 78, 78);--\\275sci-scrollbar-thumb-position-fr: 0;--\\275sci-scrollbar-thumb-size-fr: 0}.vertical[_nghost-%COMP%]{flex-direction:column}.horizontal[_nghost-%COMP%]{flex-direction:row}[_nghost-%COMP%] > div.scrolltrack-start[_ngcontent-%COMP%]{flex-grow:var(--\\275sci-scrollbar-thumb-position-fr)}[_nghost-%COMP%] > div.thumb-handle[_ngcontent-%COMP%]{flex-basis:20px;display:flex;flex-grow:var(--\\275sci-scrollbar-thumb-size-fr);align-items:center}[_nghost-%COMP%] > div.thumb-handle.vertical[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%] > div.thumb-handle.horizontal[_ngcontent-%COMP%]{flex-direction:row}[_nghost-%COMP%] > div.thumb-handle[_ngcontent-%COMP%] > div.thumb[_ngcontent-%COMP%]{flex:auto;border-radius:4px;background-color:var(--sci-scrollbar-color);opacity:.4;transition-duration:125ms;transition-property:width,height;transition-timing-function:ease-out}[_nghost-%COMP%] > div.thumb-handle[_ngcontent-%COMP%] > div.thumb.vertical[_ngcontent-%COMP%]{width:60%}[_nghost-%COMP%] > div.thumb-handle[_ngcontent-%COMP%] > div.thumb.horizontal[_ngcontent-%COMP%]{height:60%}[_nghost-%COMP%] > div.scrolltrack-end[_ngcontent-%COMP%]{flex-grow:calc(1 - (var(--\\275sci-scrollbar-thumb-position-fr) + var(--\\275sci-scrollbar-thumb-size-fr)))}[_nghost-%COMP%]:not(.overflow){display:none}[_nghost-%COMP%]:hover > div.thumb-handle[_ngcontent-%COMP%] > div.thumb[_ngcontent-%COMP%], .scrolling[_nghost-%COMP%] > div.thumb-handle[_ngcontent-%COMP%] > div.thumb[_ngcontent-%COMP%], .scrolling   [_nghost-%COMP%] > div.thumb-handle[_ngcontent-%COMP%] > div.thumb[_ngcontent-%COMP%]{background-color:var(--sci-scrollbar-color);opacity:.75}[_nghost-%COMP%]:hover > div.thumb-handle[_ngcontent-%COMP%] > div.thumb.vertical[_ngcontent-%COMP%], .scrolling[_nghost-%COMP%] > div.thumb-handle[_ngcontent-%COMP%] > div.thumb.vertical[_ngcontent-%COMP%], .scrolling   [_nghost-%COMP%] > div.thumb-handle[_ngcontent-%COMP%] > div.thumb.vertical[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]:hover > div.thumb-handle[_ngcontent-%COMP%] > div.thumb.horizontal[_ngcontent-%COMP%], .scrolling[_nghost-%COMP%] > div.thumb-handle[_ngcontent-%COMP%] > div.thumb.horizontal[_ngcontent-%COMP%], .scrolling   [_nghost-%COMP%] > div.thumb-handle[_ngcontent-%COMP%] > div.thumb.horizontal[_ngcontent-%COMP%]{height:100%}'],changeDetection:0}),t})(),HW=(()=>{class t{constructor(e,i,r){this._host=e,this._renderer=i,this._destroy$=new le,this._inputChange$=new le,this.isDisplayNativeScrollbar=!1,hn(r.trackSize$,this._inputChange$.pipe(de(()=>r.trackSize))).pipe(at(this._destroy$)).subscribe(s=>{null===s||this.isDisplayNativeScrollbar?this.useNativeScrollbars():this.shiftNativeScrollbars(s)})}useNativeScrollbars(){this.setStyle(this._host.nativeElement,{overflow:"auto",width:"100%",height:"100%",marginRight:0,marginBottom:0})}shiftNativeScrollbars(e){this.setStyle(this._host.nativeElement,{overflow:"scroll",width:`calc(100% + ${e.vScrollbarTrackWidth}px`,height:`calc(100% + ${e.hScrollbarTrackHeight}px`,marginRight:`-${e.vScrollbarTrackWidth}px`,marginBottom:`-${e.hScrollbarTrackHeight}px`})}setStyle(e,i){Object.keys(i).forEach(r=>this._renderer.setStyle(e,r,i[r]))}ngOnChanges(e){this._inputChange$.next()}ngOnDestroy(){this._destroy$.next()}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(Hr),X(YM))},t.\u0275dir=Ue({type:t,selectors:[["","sciScrollable",""]],inputs:{isDisplayNativeScrollbar:["sciScrollableDisplayNativeScrollbar","isDisplayNativeScrollbar"]},features:[An]}),t})(),eu=(()=>{class t{constructor(e,i){this.host=e,this.nativeScrollbarTrackSizeProvider=i,this._scrollbarStyle="on-top",this.tabindex=-1,this.scroll=new et}set setViewport(e){this._viewport=Ar(e)}set setViewportClient(e){this._viewportClient=Ar(e)}set scrollbarStyle(e){this._scrollbarStyle=e||"on-top"}get scrollbarStyle(){return this._scrollbarStyle}focus(){this._viewport&&this._viewport.focus()}onScroll(e){this.scroll.emit(e)}get scrollTop(){return this._viewport.scrollTop}set scrollTop(e){this._viewport.scrollTop=e}get scrollLeft(){return this._viewport.scrollLeft}set scrollLeft(e){this._viewport.scrollLeft=e}get scrollHeight(){return this._viewport.scrollHeight}get scrollWidth(){return this._viewport.scrollWidth}get viewportElement(){return this._viewport}get viewportClientElement(){return this._viewportClient}isElementInView(e,i){const r=this.computeOffset(e,"left"),s=r+e.offsetWidth,o=this.computeOffset(e,"top"),a=o+e.offsetHeight,l=this._viewport.scrollLeft,u=l+this._viewport.clientWidth,d=this._viewport.scrollTop,R=d+this._viewport.clientHeight;switch(i){case"full":return r>=l&&s<=u&&o>=d&&a<=R;case"partial":return s>=l&&r<=u&&a>=d&&o<=R;default:throw Error("Unsupported fit strategy")}}scrollIntoView(e,i=50){this._viewport.scrollTop=this.computeOffset(e,"top")-i,this._viewport.scrollLeft=this.computeOffset(e,"left")-i}computeOffset(e,i){if(!function $W(t,n){for(;null!==t.parentElement;)if((t=t.parentElement)===n)return!0;return!1}(e,this._viewport))throw Error("element not a child of the viewport");let r=0,s=e;do{r+="left"===i?s.offsetLeft:s.offsetTop,s=s.offsetParent}while(null!==s&&s!==this._viewport);return r}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(YM))},t.\u0275cmp=Ht({type:t,selectors:[["sci-viewport"]],viewQuery:function(e,i){if(1&e&&(Zt(FW,7),Zt(LW,7)),2&e){let r;gt(r=_t())&&(i.setViewport=r.first),gt(r=_t())&&(i.setViewportClient=r.first)}},hostVars:1,hostBindings:function(e,i){1&e&&Ke("focus",function(){return i.focus()}),2&e&&Kt("tabindex",i.tabindex)},inputs:{scrollbarStyle:"scrollbarStyle"},outputs:{scroll:"scroll"},ngContentSelectors:BW,decls:7,vars:4,consts:[["tabindex","-1","sciScrollable","","cdkScrollable","",1,"viewport",3,"sciScrollableDisplayNativeScrollbar","scroll"],["viewport",""],[1,"viewport-client"],["viewport_client",""],[4,"ngIf"],[3,"direction","viewport"]],template:function(e,i){1&e&&(Xi(),Se(0,"div",0,1),Ke("scroll",function(s){return i.onScroll(s)}),Se(2,"div",2,3),fn(4),we()(),Je(5,UW,3,4,"ng-container",4),ki(6,"async")),2&e&&(Pe("sciScrollableDisplayNativeScrollbar","native"===i.scrollbarStyle),Oe(5),Pe("ngIf","on-top"===i.scrollbarStyle&&null!==Zi(6,2,i.nativeScrollbarTrackSizeProvider.trackSize$)))},directives:[VW,HW,KH,Fi],pipes:[dc],styles:["[_nghost-%COMP%]{--sci-viewport-content-grid-template-columns: auto;--sci-viewport-content-grid-template-rows: unset;--sci-viewport-content-grid-auto-columns: unset;--sci-viewport-content-grid-auto-rows: auto;--sci-viewport-content-grid-gap: 0 0;--sci-viewport-scrollbar-color: rgb(78, 78, 78);display:grid;grid-template-columns:100%;grid-template-rows:100%;position:relative;overflow:hidden;outline:none}[_nghost-%COMP%]:not(:hover):not(:active)   sci-scrollbar[_ngcontent-%COMP%]:not(.scrolling){opacity:0}[_nghost-%COMP%] > div.viewport[_ngcontent-%COMP%]{display:grid;position:relative;outline:none;-webkit-overflow-scrolling:touch}[_nghost-%COMP%] > div.viewport[_ngcontent-%COMP%] > div.viewport-client[_ngcontent-%COMP%]{display:grid;grid-template-columns:var(--sci-viewport-content-grid-template-columns);grid-template-rows:var(--sci-viewport-content-grid-template-rows);grid-auto-rows:var(--sci-viewport-content-grid-auto-rows);grid-auto-columns:var(--sci-viewport-content-grid-auto-columns);grid-gap:var(--sci-viewport-content-grid-gap);gap:var(--sci-viewport-content-grid-gap)}[_nghost-%COMP%] > sci-scrollbar[_ngcontent-%COMP%]{--sci-scrollbar-color: var(--sci-viewport-scrollbar-color);position:absolute;transition-duration:1s;transition-property:opacity;transition-timing-function:ease-out}[_nghost-%COMP%] > sci-scrollbar.vertical[_ngcontent-%COMP%]{top:0;right:0;bottom:0;left:unset;width:12px}[_nghost-%COMP%] > sci-scrollbar.horizontal[_ngcontent-%COMP%]{top:unset;right:0;bottom:0;left:0;height:12px}"]}),t})(),GW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[Dr,Hm]]}),t})();function ul(t){let n=t.length;for(;--n>=0;)t[n]=0}const Zy=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Cf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),XW=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),iR=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gs=new Array(576);ul(gs);const iu=new Array(60);ul(iu);const ru=new Array(512);ul(ru);const su=new Array(256);ul(su);const Jy=new Array(29);ul(Jy);const Tf=new Array(30);function eE(t,n,e,i,r){this.static_tree=t,this.extra_bits=n,this.extra_base=e,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}let rR,sR,oR;function tE(t,n){this.dyn_tree=t,this.max_code=0,this.stat_desc=n}ul(Tf);const aR=t=>t<256?ru[t]:ru[256+(t>>>7)],ou=(t,n)=>{t.pending_buf[t.pending++]=255&n,t.pending_buf[t.pending++]=n>>>8&255},wi=(t,n,e)=>{t.bi_valid>16-e?(t.bi_buf|=n<<t.bi_valid&65535,ou(t,t.bi_buf),t.bi_buf=n>>16-t.bi_valid,t.bi_valid+=e-16):(t.bi_buf|=n<<t.bi_valid&65535,t.bi_valid+=e)},Qr=(t,n,e)=>{wi(t,e[2*n],e[2*n+1])},lR=(t,n)=>{let e=0;do{e|=1&t,t>>>=1,e<<=1}while(--n>0);return e>>>1},cR=(t,n,e)=>{const i=new Array(16);let s,o,r=0;for(s=1;s<=15;s++)i[s]=r=r+e[s-1]<<1;for(o=0;o<=n;o++){let a=t[2*o+1];0!==a&&(t[2*o]=lR(i[a]++,a))}},uR=t=>{let n;for(n=0;n<286;n++)t.dyn_ltree[2*n]=0;for(n=0;n<30;n++)t.dyn_dtree[2*n]=0;for(n=0;n<19;n++)t.bl_tree[2*n]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},dR=t=>{t.bi_valid>8?ou(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},hR=(t,n,e,i)=>{const r=2*n,s=2*e;return t[r]<t[s]||t[r]===t[s]&&i[n]<=i[e]},nE=(t,n,e)=>{const i=t.heap[e];let r=e<<1;for(;r<=t.heap_len&&(r<t.heap_len&&hR(n,t.heap[r+1],t.heap[r],t.depth)&&r++,!hR(n,i,t.heap[r],t.depth));)t.heap[e]=t.heap[r],e=r,r<<=1;t.heap[e]=i},fR=(t,n,e)=>{let i,r,o,a,s=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],r=t.pending_buf[t.l_buf+s],s++,0===i?Qr(t,r,n):(o=su[r],Qr(t,o+256+1,n),a=Zy[o],0!==a&&(r-=Jy[o],wi(t,r,a)),i--,o=aR(i),Qr(t,o,e),a=Cf[o],0!==a&&(i-=Tf[o],wi(t,i,a)))}while(s<t.last_lit);Qr(t,256,n)},iE=(t,n)=>{const e=n.dyn_tree,i=n.stat_desc.static_tree,r=n.stat_desc.has_stree,s=n.stat_desc.elems;let o,a,u,l=-1;for(t.heap_len=0,t.heap_max=573,o=0;o<s;o++)0!==e[2*o]?(t.heap[++t.heap_len]=l=o,t.depth[o]=0):e[2*o+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=l<2?++l:0,e[2*u]=1,t.depth[u]=0,t.opt_len--,r&&(t.static_len-=i[2*u+1]);for(n.max_code=l,o=t.heap_len>>1;o>=1;o--)nE(t,e,o);u=s;do{o=t.heap[1],t.heap[1]=t.heap[t.heap_len--],nE(t,e,1),a=t.heap[1],t.heap[--t.heap_max]=o,t.heap[--t.heap_max]=a,e[2*u]=e[2*o]+e[2*a],t.depth[u]=(t.depth[o]>=t.depth[a]?t.depth[o]:t.depth[a])+1,e[2*o+1]=e[2*a+1]=u,t.heap[1]=u++,nE(t,e,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,n)=>{const e=n.dyn_tree,i=n.max_code,r=n.stat_desc.static_tree,s=n.stat_desc.has_stree,o=n.stat_desc.extra_bits,a=n.stat_desc.extra_base,l=n.stat_desc.max_length;let u,d,R,P,L,K,ce=0;for(P=0;P<=15;P++)t.bl_count[P]=0;for(e[2*t.heap[t.heap_max]+1]=0,u=t.heap_max+1;u<573;u++)d=t.heap[u],P=e[2*e[2*d+1]+1]+1,P>l&&(P=l,ce++),e[2*d+1]=P,!(d>i)&&(t.bl_count[P]++,L=0,d>=a&&(L=o[d-a]),K=e[2*d],t.opt_len+=K*(P+L),s&&(t.static_len+=K*(r[2*d+1]+L)));if(0!==ce){do{for(P=l-1;0===t.bl_count[P];)P--;t.bl_count[P]--,t.bl_count[P+1]+=2,t.bl_count[l]--,ce-=2}while(ce>0);for(P=l;0!==P;P--)for(d=t.bl_count[P];0!==d;)R=t.heap[--u],!(R>i)&&(e[2*R+1]!==P&&(t.opt_len+=(P-e[2*R+1])*e[2*R],e[2*R+1]=P),d--)}})(t,n),cR(e,l,t.bl_count)},pR=(t,n,e)=>{let i,s,r=-1,o=n[1],a=0,l=7,u=4;for(0===o&&(l=138,u=3),n[2*(e+1)+1]=65535,i=0;i<=e;i++)s=o,o=n[2*(i+1)+1],!(++a<l&&s===o)&&(a<u?t.bl_tree[2*s]+=a:0!==s?(s!==r&&t.bl_tree[2*s]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,r=s,0===o?(l=138,u=3):s===o?(l=6,u=3):(l=7,u=4))},gR=(t,n,e)=>{let i,s,r=-1,o=n[1],a=0,l=7,u=4;for(0===o&&(l=138,u=3),i=0;i<=e;i++)if(s=o,o=n[2*(i+1)+1],!(++a<l&&s===o)){if(a<u)do{Qr(t,s,t.bl_tree)}while(0!=--a);else 0!==s?(s!==r&&(Qr(t,s,t.bl_tree),a--),Qr(t,16,t.bl_tree),wi(t,a-3,2)):a<=10?(Qr(t,17,t.bl_tree),wi(t,a-3,3)):(Qr(t,18,t.bl_tree),wi(t,a-11,7));a=0,r=s,0===o?(l=138,u=3):s===o?(l=6,u=3):(l=7,u=4)}};let _R=!1;const mR=(t,n,e,i)=>{wi(t,0+(i?1:0),3),((t,n,e,i)=>{dR(t),ou(t,e),ou(t,~e),t.pending_buf.set(t.window.subarray(n,n+e),t.pending),t.pending+=e})(t,n,e)};var gz={_tr_init:t=>{_R||((()=>{let t,n,e,i,r;const s=new Array(16);for(e=0,i=0;i<28;i++)for(Jy[i]=e,t=0;t<1<<Zy[i];t++)su[e++]=i;for(su[e-1]=i,r=0,i=0;i<16;i++)for(Tf[i]=r,t=0;t<1<<Cf[i];t++)ru[r++]=i;for(r>>=7;i<30;i++)for(Tf[i]=r<<7,t=0;t<1<<Cf[i]-7;t++)ru[256+r++]=i;for(n=0;n<=15;n++)s[n]=0;for(t=0;t<=143;)gs[2*t+1]=8,t++,s[8]++;for(;t<=255;)gs[2*t+1]=9,t++,s[9]++;for(;t<=279;)gs[2*t+1]=7,t++,s[7]++;for(;t<=287;)gs[2*t+1]=8,t++,s[8]++;for(cR(gs,287,s),t=0;t<30;t++)iu[2*t+1]=5,iu[2*t]=lR(t,5);rR=new eE(gs,Zy,257,286,15),sR=new eE(iu,Cf,0,30,15),oR=new eE(new Array(0),XW,0,19,7)})(),_R=!0),t.l_desc=new tE(t.dyn_ltree,rR),t.d_desc=new tE(t.dyn_dtree,sR),t.bl_desc=new tE(t.bl_tree,oR),t.bi_buf=0,t.bi_valid=0,uR(t)},_tr_stored_block:mR,_tr_flush_block:(t,n,e,i)=>{let r,s,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),iE(t,t.l_desc),iE(t,t.d_desc),o=(t=>{let n;for(pR(t,t.dyn_ltree,t.l_desc.max_code),pR(t,t.dyn_dtree,t.d_desc.max_code),iE(t,t.bl_desc),n=18;n>=3&&0===t.bl_tree[2*iR[n]+1];n--);return t.opt_len+=3*(n+1)+5+5+4,n})(t),r=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=r&&(r=s)):r=s=e+5,e+4<=r&&-1!==n?mR(t,n,e,i):4===t.strategy||s===r?(wi(t,2+(i?1:0),3),fR(t,gs,iu)):(wi(t,4+(i?1:0),3),((t,n,e,i)=>{let r;for(wi(t,n-257,5),wi(t,e-1,5),wi(t,i-4,4),r=0;r<i;r++)wi(t,t.bl_tree[2*iR[r]+1],3);gR(t,t.dyn_ltree,n-1),gR(t,t.dyn_dtree,e-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),fR(t,t.dyn_ltree,t.dyn_dtree)),uR(t),i&&dR(t)},_tr_tally:(t,n,e)=>(t.pending_buf[t.d_buf+2*t.last_lit]=n>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&n,t.pending_buf[t.l_buf+t.last_lit]=255&e,t.last_lit++,0===n?t.dyn_ltree[2*e]++:(t.matches++,n--,t.dyn_ltree[2*(su[e]+256+1)]++,t.dyn_dtree[2*aR(n)]++),t.last_lit===t.lit_bufsize-1),_tr_align:t=>{wi(t,2,3),Qr(t,256,gs),(t=>{16===t.bi_valid?(ou(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},au=(t,n,e,i)=>{let r=65535&t|0,s=t>>>16&65535|0,o=0;for(;0!==e;){o=e>2e3?2e3:e,e-=o;do{r=r+n[i++]|0,s=s+r|0}while(--o);r%=65521,s%=65521}return r|s<<16|0};const mz=new Uint32Array((()=>{let t,n=[];for(var e=0;e<256;e++){t=e;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;n[e]=t}return n})());var Yn=(t,n,e,i)=>{const r=mz,s=i+e;t^=-1;for(let o=i;o<s;o++)t=t>>>8^r[255&(t^n[o])];return-1^t},Vo={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ho={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:yz,_tr_stored_block:Ez,_tr_flush_block:bz,_tr_tally:zs,_tr_align:vz}=gz,{Z_NO_FLUSH:$o,Z_PARTIAL_FLUSH:Cz,Z_FULL_FLUSH:Tz,Z_FINISH:qs,Z_BLOCK:yR,Z_OK:Kr,Z_STREAM_END:ER,Z_STREAM_ERROR:lr,Z_DATA_ERROR:Sz,Z_BUF_ERROR:rE,Z_DEFAULT_COMPRESSION:wz,Z_FILTERED:Dz,Z_HUFFMAN_ONLY:Sf,Z_RLE:Iz,Z_FIXED:Az,Z_DEFAULT_STRATEGY:Mz,Z_UNKNOWN:Rz,Z_DEFLATED:wf}=Ho,Mr=262,Qs=(t,n)=>(t.msg=Vo[n],n),bR=t=>(t<<1)-(t>4?9:0),Ks=t=>{let n=t.length;for(;--n>=0;)t[n]=0};let Xs=(t,n,e)=>(n<<t.hash_shift^e)&t.hash_mask;const Zs=t=>{const n=t.state;let e=n.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.output.set(n.pending_buf.subarray(n.pending_out,n.pending_out+e),t.next_out),t.next_out+=e,n.pending_out+=e,t.total_out+=e,t.avail_out-=e,n.pending-=e,0===n.pending&&(n.pending_out=0))},ni=(t,n)=>{bz(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,n),t.block_start=t.strstart,Zs(t.strm)},Wt=(t,n)=>{t.pending_buf[t.pending++]=n},uu=(t,n)=>{t.pending_buf[t.pending++]=n>>>8&255,t.pending_buf[t.pending++]=255&n},Hz=(t,n,e,i)=>{let r=t.avail_in;return r>i&&(r=i),0===r?0:(t.avail_in-=r,n.set(t.input.subarray(t.next_in,t.next_in+r),e),1===t.state.wrap?t.adler=au(t.adler,n,r,e):2===t.state.wrap&&(t.adler=Yn(t.adler,n,r,e)),t.next_in+=r,t.total_in+=r,r)},vR=(t,n)=>{let r,s,e=t.max_chain_length,i=t.strstart,o=t.prev_length,a=t.nice_match;const l=t.strstart>t.w_size-Mr?t.strstart-(t.w_size-Mr):0,u=t.window,d=t.w_mask,R=t.prev,P=t.strstart+258;let L=u[i+o-1],K=u[i+o];t.prev_length>=t.good_match&&(e>>=2),a>t.lookahead&&(a=t.lookahead);do{if(r=n,u[r+o]===K&&u[r+o-1]===L&&u[r]===u[i]&&u[++r]===u[i+1]){i+=2,r++;do{}while(u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&i<P);if(s=258-(P-i),i=P-258,s>o){if(t.match_start=n,o=s,s>=a)break;L=u[i+o-1],K=u[i+o]}}}while((n=R[n&d])>l&&0!=--e);return o<=t.lookahead?o:t.lookahead},Wo=t=>{const n=t.w_size;let e,i,r,s,o;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=n+(n-Mr)){t.window.set(t.window.subarray(n,n+n),0),t.match_start-=n,t.strstart-=n,t.block_start-=n,i=t.hash_size,e=i;do{r=t.head[--e],t.head[e]=r>=n?r-n:0}while(--i);i=n,e=i;do{r=t.prev[--e],t.prev[e]=r>=n?r-n:0}while(--i);s+=n}if(0===t.strm.avail_in)break;if(i=Hz(t.strm,t.window,t.strstart+t.lookahead,s),t.lookahead+=i,t.lookahead+t.insert>=3)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=Xs(t,t.ins_h,t.window[o+1]);t.insert&&(t.ins_h=Xs(t,t.ins_h,t.window[o+3-1]),t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Mr&&0!==t.strm.avail_in)},aE=(t,n)=>{let e,i;for(;;){if(t.lookahead<Mr){if(Wo(t),t.lookahead<Mr&&n===$o)return 1;if(0===t.lookahead)break}if(e=0,t.lookahead>=3&&(t.ins_h=Xs(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==e&&t.strstart-e<=t.w_size-Mr&&(t.match_length=vR(t,e)),t.match_length>=3)if(i=zs(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Xs(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Xs(t,t.ins_h,t.window[t.strstart+1]);else i=zs(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(ni(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,n===qs?(ni(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ni(t,!1),0===t.strm.avail_out)?1:2},fl=(t,n)=>{let e,i,r;for(;;){if(t.lookahead<Mr){if(Wo(t),t.lookahead<Mr&&n===$o)return 1;if(0===t.lookahead)break}if(e=0,t.lookahead>=3&&(t.ins_h=Xs(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==e&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-Mr&&(t.match_length=vR(t,e),t.match_length<=5&&(t.strategy===Dz||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,i=zs(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=Xs(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(ni(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(i=zs(t,0,t.window[t.strstart-1]),i&&ni(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=zs(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,n===qs?(ni(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ni(t,!1),0===t.strm.avail_out)?1:2};function Xr(t,n,e,i,r){this.good_length=t,this.max_lazy=n,this.nice_length=e,this.max_chain=i,this.func=r}const du=[new Xr(0,0,0,0,(t,n)=>{let e=65535;for(e>t.pending_buf_size-5&&(e=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Wo(t),0===t.lookahead&&n===$o)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const i=t.block_start+e;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,ni(t,!1),0===t.strm.avail_out)||t.strstart-t.block_start>=t.w_size-Mr&&(ni(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===qs?(ni(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&ni(t,!1),1)}),new Xr(4,4,8,4,aE),new Xr(4,5,16,8,aE),new Xr(4,6,32,32,aE),new Xr(4,4,16,16,fl),new Xr(8,16,32,32,fl),new Xr(8,16,128,128,fl),new Xr(8,32,128,256,fl),new Xr(32,128,258,1024,fl),new Xr(32,258,258,4096,fl)];function zz(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=wf,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ks(this.dyn_ltree),Ks(this.dyn_dtree),Ks(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ks(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ks(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const CR=t=>{if(!t||!t.state)return Qs(t,lr);t.total_in=t.total_out=0,t.data_type=Rz;const n=t.state;return n.pending=0,n.pending_out=0,n.wrap<0&&(n.wrap=-n.wrap),n.status=n.wrap?42:113,t.adler=2===n.wrap?0:1,n.last_flush=$o,yz(n),Kr},TR=t=>{const n=CR(t);return n===Kr&&(t=>{t.window_size=2*t.w_size,Ks(t.head),t.max_lazy_match=du[t.level].max_lazy,t.good_match=du[t.level].good_length,t.nice_match=du[t.level].nice_length,t.max_chain_length=du[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0})(t.state),n},SR=(t,n,e,i,r,s)=>{if(!t)return lr;let o=1;if(n===wz&&(n=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>9||e!==wf||i<8||i>15||n<0||n>9||s<0||s>Az)return Qs(t,lr);8===i&&(i=9);const a=new zz;return t.state=a,a.strm=t,a.wrap=o,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=n,a.strategy=s,a.method=e,TR(t)};var hu_deflateInit2=SR,hu_deflateSetHeader=(t,n)=>t&&t.state&&2===t.state.wrap?(t.state.gzhead=n,Kr):lr,hu_deflate=(t,n)=>{let e,i;if(!t||!t.state||n>yR||n<0)return t?Qs(t,lr):lr;const r=t.state;if(!t.output||!t.input&&0!==t.avail_in||666===r.status&&n!==qs)return Qs(t,0===t.avail_out?rE:lr);r.strm=t;const s=r.last_flush;if(r.last_flush=n,42===r.status)if(2===r.wrap)t.adler=0,Wt(r,31),Wt(r,139),Wt(r,8),r.gzhead?(Wt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Wt(r,255&r.gzhead.time),Wt(r,r.gzhead.time>>8&255),Wt(r,r.gzhead.time>>16&255),Wt(r,r.gzhead.time>>24&255),Wt(r,9===r.level?2:r.strategy>=Sf||r.level<2?4:0),Wt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Wt(r,255&r.gzhead.extra.length),Wt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Yn(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Wt(r,0),Wt(r,0),Wt(r,0),Wt(r,0),Wt(r,0),Wt(r,9===r.level?2:r.strategy>=Sf||r.level<2?4:0),Wt(r,3),r.status=113);else{let o=wf+(r.w_bits-8<<4)<<8,a=-1;a=r.strategy>=Sf||r.level<2?0:r.level<6?1:6===r.level?2:3,o|=a<<6,0!==r.strstart&&(o|=32),o+=31-o%31,r.status=113,uu(r,o),0!==r.strstart&&(uu(r,t.adler>>>16),uu(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(e=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>e&&(t.adler=Yn(t.adler,r.pending_buf,r.pending-e,e)),Zs(t),e=r.pending,r.pending!==r.pending_buf_size));)Wt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>e&&(t.adler=Yn(t.adler,r.pending_buf,r.pending-e,e)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){e=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>e&&(t.adler=Yn(t.adler,r.pending_buf,r.pending-e,e)),Zs(t),e=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Wt(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>e&&(t.adler=Yn(t.adler,r.pending_buf,r.pending-e,e)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){e=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>e&&(t.adler=Yn(t.adler,r.pending_buf,r.pending-e,e)),Zs(t),e=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Wt(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>e&&(t.adler=Yn(t.adler,r.pending_buf,r.pending-e,e)),0===i&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Zs(t),r.pending+2<=r.pending_buf_size&&(Wt(r,255&t.adler),Wt(r,t.adler>>8&255),t.adler=0,r.status=113)):r.status=113),0!==r.pending){if(Zs(t),0===t.avail_out)return r.last_flush=-1,Kr}else if(0===t.avail_in&&bR(n)<=bR(s)&&n!==qs)return Qs(t,rE);if(666===r.status&&0!==t.avail_in)return Qs(t,rE);if(0!==t.avail_in||0!==r.lookahead||n!==$o&&666!==r.status){let o=r.strategy===Sf?((t,n)=>{let e;for(;;){if(0===t.lookahead&&(Wo(t),0===t.lookahead)){if(n===$o)return 1;break}if(t.match_length=0,e=zs(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(ni(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===qs?(ni(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ni(t,!1),0===t.strm.avail_out)?1:2})(r,n):r.strategy===Iz?((t,n)=>{let e,i,r,s;const o=t.window;for(;;){if(t.lookahead<=258){if(Wo(t),t.lookahead<=258&&n===$o)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=t.strstart-1,i=o[r],i===o[++r]&&i===o[++r]&&i===o[++r])){s=t.strstart+258;do{}while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<s);t.match_length=258-(s-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(e=zs(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=zs(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(ni(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,n===qs?(ni(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ni(t,!1),0===t.strm.avail_out)?1:2})(r,n):du[r.level].func(r,n);if((3===o||4===o)&&(r.status=666),1===o||3===o)return 0===t.avail_out&&(r.last_flush=-1),Kr;if(2===o&&(n===Cz?vz(r):n!==yR&&(Ez(r,0,0,!1),n===Tz&&(Ks(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Zs(t),0===t.avail_out))return r.last_flush=-1,Kr}return n!==qs?Kr:r.wrap<=0?ER:(2===r.wrap?(Wt(r,255&t.adler),Wt(r,t.adler>>8&255),Wt(r,t.adler>>16&255),Wt(r,t.adler>>24&255),Wt(r,255&t.total_in),Wt(r,t.total_in>>8&255),Wt(r,t.total_in>>16&255),Wt(r,t.total_in>>24&255)):(uu(r,t.adler>>>16),uu(r,65535&t.adler)),Zs(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?Kr:ER)},hu_deflateEnd=t=>{if(!t||!t.state)return lr;const n=t.state.status;return 42!==n&&69!==n&&73!==n&&91!==n&&103!==n&&113!==n&&666!==n?Qs(t,lr):(t.state=null,113===n?Qs(t,Sz):Kr)},hu_deflateSetDictionary=(t,n)=>{let e=n.length;if(!t||!t.state)return lr;const i=t.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return lr;if(1===r&&(t.adler=au(t.adler,n,e,0)),i.wrap=0,e>=i.w_size){0===r&&(Ks(i.head),i.strstart=0,i.block_start=0,i.insert=0);let l=new Uint8Array(i.w_size);l.set(n.subarray(e-i.w_size,e),0),n=l,e=i.w_size}const s=t.avail_in,o=t.next_in,a=t.input;for(t.avail_in=e,t.next_in=0,t.input=n,Wo(i);i.lookahead>=3;){let l=i.strstart,u=i.lookahead-2;do{i.ins_h=Xs(i,i.ins_h,i.window[l+3-1]),i.prev[l&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=l,l++}while(--u);i.strstart=l,i.lookahead=2,Wo(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=o,t.input=a,t.avail_in=s,i.wrap=r,Kr};const a9=(t,n)=>Object.prototype.hasOwnProperty.call(t,n);var Rf_assign=function(t){const n=Array.prototype.slice.call(arguments,1);for(;n.length;){const e=n.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(const i in e)a9(e,i)&&(t[i]=e[i])}}return t},Rf_flattenChunks=t=>{let n=0;for(let i=0,r=t.length;i<r;i++)n+=t[i].length;const e=new Uint8Array(n);for(let i=0,r=0,s=t.length;i<s;i++){let o=t[i];e.set(o,r),r+=o.length}return e};let wR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){wR=!1}const fu=new Uint8Array(256);for(let t=0;t<256;t++)fu[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;fu[254]=fu[254]=1;var pu_string2buf=t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let n,e,i,r,s,o=t.length,a=0;for(r=0;r<o;r++)e=t.charCodeAt(r),55296==(64512&e)&&r+1<o&&(i=t.charCodeAt(r+1),56320==(64512&i)&&(e=65536+(e-55296<<10)+(i-56320),r++)),a+=e<128?1:e<2048?2:e<65536?3:4;for(n=new Uint8Array(a),s=0,r=0;s<a;r++)e=t.charCodeAt(r),55296==(64512&e)&&r+1<o&&(i=t.charCodeAt(r+1),56320==(64512&i)&&(e=65536+(e-55296<<10)+(i-56320),r++)),e<128?n[s++]=e:e<2048?(n[s++]=192|e>>>6,n[s++]=128|63&e):e<65536?(n[s++]=224|e>>>12,n[s++]=128|e>>>6&63,n[s++]=128|63&e):(n[s++]=240|e>>>18,n[s++]=128|e>>>12&63,n[s++]=128|e>>>6&63,n[s++]=128|63&e);return n},pu_buf2string=(t,n)=>{const e=n||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,n));let i,r;const s=new Array(2*e);for(r=0,i=0;i<e;){let o=t[i++];if(o<128){s[r++]=o;continue}let a=fu[o];if(a>4)s[r++]=65533,i+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&i<e;)o=o<<6|63&t[i++],a--;a>1?s[r++]=65533:o<65536?s[r++]=o:(o-=65536,s[r++]=55296|o>>10&1023,s[r++]=56320|1023&o)}}return((t,n)=>{if(n<65534&&t.subarray&&wR)return String.fromCharCode.apply(null,t.length===n?t:t.subarray(0,n));let e="";for(let i=0;i<n;i++)e+=String.fromCharCode(t[i]);return e})(s,r)},pu_utf8border=(t,n)=>{(n=n||t.length)>t.length&&(n=t.length);let e=n-1;for(;e>=0&&128==(192&t[e]);)e--;return e<0||0===e?n:e+fu[t[e]]>n?e:n},DR=function p9(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const IR=Object.prototype.toString,{Z_NO_FLUSH:g9,Z_SYNC_FLUSH:_9,Z_FULL_FLUSH:m9,Z_FINISH:y9,Z_OK:Of,Z_STREAM_END:E9,Z_DEFAULT_COMPRESSION:b9,Z_DEFAULT_STRATEGY:v9,Z_DEFLATED:C9}=Ho;function gu(t){this.options=Rf_assign({level:b9,method:C9,chunkSize:16384,windowBits:15,memLevel:8,strategy:v9},t||{});let n=this.options;n.raw&&n.windowBits>0?n.windowBits=-n.windowBits:n.gzip&&n.windowBits>0&&n.windowBits<16&&(n.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new DR,this.strm.avail_out=0;let e=hu_deflateInit2(this.strm,n.level,n.method,n.windowBits,n.memLevel,n.strategy);if(e!==Of)throw new Error(Vo[e]);if(n.header&&hu_deflateSetHeader(this.strm,n.header),n.dictionary){let i;if(i="string"==typeof n.dictionary?pu_string2buf(n.dictionary):"[object ArrayBuffer]"===IR.call(n.dictionary)?new Uint8Array(n.dictionary):n.dictionary,e=hu_deflateSetDictionary(this.strm,i),e!==Of)throw new Error(Vo[e]);this._dict_set=!0}}function lE(t,n){const e=new gu(n);if(e.push(t,!0),e.err)throw e.msg||Vo[e.err];return e.result}gu.prototype.push=function(t,n){const e=this.strm,i=this.options.chunkSize;let r,s;if(this.ended)return!1;for(s=n===~~n?n:!0===n?y9:g9,e.input="string"==typeof t?pu_string2buf(t):"[object ArrayBuffer]"===IR.call(t)?new Uint8Array(t):t,e.next_in=0,e.avail_in=e.input.length;;)if(0===e.avail_out&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),(s===_9||s===m9)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if(r=hu_deflate(e,s),r===E9)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),r=hu_deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===Of;if(0!==e.avail_out){if(s>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(0===e.avail_in)break}else this.onData(e.output)}return!0},gu.prototype.onData=function(t){this.chunks.push(t)},gu.prototype.onEnd=function(t){t===Of&&(this.result=Rf_flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var R9={Deflate:gu,deflate:lE,deflateRaw:function T9(t,n){return(n=n||{}).raw=!0,lE(t,n)},gzip:function S9(t,n){return(n=n||{}).gzip=!0,lE(t,n)},constants:Ho},N9=function(n,e){let i,r,s,o,a,l,u,d,R,P,L,K,ce,he,Te,ge,Ie,De,Ge,St,We,Ot,wt,ot;const Et=n.state;i=n.next_in,wt=n.input,r=i+(n.avail_in-5),s=n.next_out,ot=n.output,o=s-(e-n.avail_out),a=s+(n.avail_out-257),l=Et.dmax,u=Et.wsize,d=Et.whave,R=Et.wnext,P=Et.window,L=Et.hold,K=Et.bits,ce=Et.lencode,he=Et.distcode,Te=(1<<Et.lenbits)-1,ge=(1<<Et.distbits)-1;e:do{K<15&&(L+=wt[i++]<<K,K+=8,L+=wt[i++]<<K,K+=8),Ie=ce[L&Te];t:for(;;){if(De=Ie>>>24,L>>>=De,K-=De,De=Ie>>>16&255,0===De)ot[s++]=65535&Ie;else{if(!(16&De)){if(0==(64&De)){Ie=ce[(65535&Ie)+(L&(1<<De)-1)];continue t}if(32&De){Et.mode=12;break e}n.msg="invalid literal/length code",Et.mode=30;break e}Ge=65535&Ie,De&=15,De&&(K<De&&(L+=wt[i++]<<K,K+=8),Ge+=L&(1<<De)-1,L>>>=De,K-=De),K<15&&(L+=wt[i++]<<K,K+=8,L+=wt[i++]<<K,K+=8),Ie=he[L&ge];n:for(;;){if(De=Ie>>>24,L>>>=De,K-=De,De=Ie>>>16&255,!(16&De)){if(0==(64&De)){Ie=he[(65535&Ie)+(L&(1<<De)-1)];continue n}n.msg="invalid distance code",Et.mode=30;break e}if(St=65535&Ie,De&=15,K<De&&(L+=wt[i++]<<K,K+=8,K<De&&(L+=wt[i++]<<K,K+=8)),St+=L&(1<<De)-1,St>l){n.msg="invalid distance too far back",Et.mode=30;break e}if(L>>>=De,K-=De,De=s-o,St>De){if(De=St-De,De>d&&Et.sane){n.msg="invalid distance too far back",Et.mode=30;break e}if(We=0,Ot=P,0===R){if(We+=u-De,De<Ge){Ge-=De;do{ot[s++]=P[We++]}while(--De);We=s-St,Ot=ot}}else if(R<De){if(We+=u+R-De,De-=R,De<Ge){Ge-=De;do{ot[s++]=P[We++]}while(--De);if(We=0,R<Ge){De=R,Ge-=De;do{ot[s++]=P[We++]}while(--De);We=s-St,Ot=ot}}}else if(We+=R-De,De<Ge){Ge-=De;do{ot[s++]=P[We++]}while(--De);We=s-St,Ot=ot}for(;Ge>2;)ot[s++]=Ot[We++],ot[s++]=Ot[We++],ot[s++]=Ot[We++],Ge-=3;Ge&&(ot[s++]=Ot[We++],Ge>1&&(ot[s++]=Ot[We++]))}else{We=s-St;do{ot[s++]=ot[We++],ot[s++]=ot[We++],ot[s++]=ot[We++],Ge-=3}while(Ge>2);Ge&&(ot[s++]=ot[We++],Ge>1&&(ot[s++]=ot[We++]))}break}}break}}while(i<r&&s<a);Ge=K>>3,i-=Ge,K-=Ge<<3,L&=(1<<K)-1,n.next_in=i,n.next_out=s,n.avail_in=i<r?r-i+5:5-(i-r),n.avail_out=s<a?a-s+257:257-(s-a),Et.hold=L,Et.bits=K};const P9=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),x9=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),k9=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),F9=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var _u=(t,n,e,i,r,s,o,a)=>{const l=a.bits;let Ie,De,Ge,St,We,ot,u=0,d=0,R=0,P=0,L=0,K=0,ce=0,he=0,Te=0,ge=0,Ot=null,wt=0;const Et=new Uint16Array(16),ii=new Uint16Array(16);let Es,qe,nt,ui=null,ys=0;for(u=0;u<=15;u++)Et[u]=0;for(d=0;d<i;d++)Et[n[e+d]]++;for(L=l,P=15;P>=1&&0===Et[P];P--);if(L>P&&(L=P),0===P)return r[s++]=20971520,r[s++]=20971520,a.bits=1,0;for(R=1;R<P&&0===Et[R];R++);for(L<R&&(L=R),he=1,u=1;u<=15;u++)if(he<<=1,he-=Et[u],he<0)return-1;if(he>0&&(0===t||1!==P))return-1;for(ii[1]=0,u=1;u<15;u++)ii[u+1]=ii[u]+Et[u];for(d=0;d<i;d++)0!==n[e+d]&&(o[ii[n[e+d]]++]=d);if(0===t?(Ot=ui=o,ot=19):1===t?(Ot=P9,wt-=257,ui=x9,ys-=257,ot=256):(Ot=k9,ui=F9,ot=-1),ge=0,d=0,u=R,We=s,K=L,ce=0,Ge=-1,Te=1<<L,St=Te-1,1===t&&Te>852||2===t&&Te>592)return 1;for(;;){Es=u-ce,o[d]<ot?(qe=0,nt=o[d]):o[d]>ot?(qe=ui[ys+o[d]],nt=Ot[wt+o[d]]):(qe=96,nt=0),Ie=1<<u-ce,De=1<<K,R=De;do{De-=Ie,r[We+(ge>>ce)+De]=Es<<24|qe<<16|nt|0}while(0!==De);for(Ie=1<<u-1;ge&Ie;)Ie>>=1;if(0!==Ie?(ge&=Ie-1,ge+=Ie):ge=0,d++,0==--Et[u]){if(u===P)break;u=n[e+o[d]]}if(u>L&&(ge&St)!==Ge){for(0===ce&&(ce=L),We+=R,K=u-ce,he=1<<K;K+ce<P&&(he-=Et[K+ce],!(he<=0));)K++,he<<=1;if(Te+=1<<K,1===t&&Te>852||2===t&&Te>592)return 1;Ge=ge&St,r[Ge]=L<<24|K<<16|We-s|0}}return 0!==ge&&(r[We+ge]=u-ce<<24|64<<16|0),a.bits=L,0};const{Z_FINISH:xR,Z_BLOCK:U9,Z_TREES:Pf,Z_OK:zo,Z_STREAM_END:B9,Z_NEED_DICT:V9,Z_STREAM_ERROR:cr,Z_DATA_ERROR:kR,Z_MEM_ERROR:FR,Z_BUF_ERROR:H9,Z_DEFLATED:LR}=Ho,aO=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function z9(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const lO=t=>{if(!t||!t.state)return cr;const n=t.state;return t.total_in=t.total_out=n.total=0,t.msg="",n.wrap&&(t.adler=1&n.wrap),n.mode=1,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new Int32Array(852),n.distcode=n.distdyn=new Int32Array(592),n.sane=1,n.back=-1,zo},cO=t=>{if(!t||!t.state)return cr;const n=t.state;return n.wsize=0,n.whave=0,n.wnext=0,lO(t)},uO=(t,n)=>{let e;if(!t||!t.state)return cr;const i=t.state;return n<0?(e=0,n=-n):(e=1+(n>>4),n<48&&(n&=15)),n&&(n<8||n>15)?cr:(null!==i.window&&i.wbits!==n&&(i.window=null),i.wrap=e,i.wbits=n,cO(t))},dO=(t,n)=>{if(!t)return cr;const e=new z9;t.state=e,e.window=null;const i=uO(t,n);return i!==zo&&(t.state=null),i};let fE,pE,hO=!0;const Y9=t=>{if(hO){fE=new Int32Array(512),pE=new Int32Array(32);let n=0;for(;n<144;)t.lens[n++]=8;for(;n<256;)t.lens[n++]=9;for(;n<280;)t.lens[n++]=7;for(;n<288;)t.lens[n++]=8;for(_u(1,t.lens,0,288,fE,0,t.work,{bits:9}),n=0;n<32;)t.lens[n++]=5;_u(2,t.lens,0,32,pE,0,t.work,{bits:5}),hO=!1}t.lencode=fE,t.lenbits=9,t.distcode=pE,t.distbits=5},fO=(t,n,e,i)=>{let r;const s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(n.subarray(e-s.wsize,e),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(n.subarray(e-i,e-i+r),s.wnext),(i-=r)?(s.window.set(n.subarray(e-i,e),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0};var ms_inflateReset=cO,ms_inflateInit2=dO,ms_inflate=(t,n)=>{let e,i,r,s,o,a,l,u,d,R,P,L,K,ce,Te,ge,Ie,De,Ge,St,We,Ot,he=0;const wt=new Uint8Array(4);let ot,Et;const ii=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return cr;e=t.state,12===e.mode&&(e.mode=13),o=t.next_out,r=t.output,l=t.avail_out,s=t.next_in,i=t.input,a=t.avail_in,u=e.hold,d=e.bits,R=a,P=l,Ot=zo;e:for(;;)switch(e.mode){case 1:if(0===e.wrap){e.mode=13;break}for(;d<16;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}if(2&e.wrap&&35615===u){e.check=0,wt[0]=255&u,wt[1]=u>>>8&255,e.check=Yn(e.check,wt,2,0),u=0,d=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",e.mode=30;break}if((15&u)!==LR){t.msg="unknown compression method",e.mode=30;break}if(u>>>=4,d-=4,We=8+(15&u),0===e.wbits)e.wbits=We;else if(We>e.wbits){t.msg="invalid window size",e.mode=30;break}e.dmax=1<<e.wbits,t.adler=e.check=1,e.mode=512&u?10:12,u=0,d=0;break;case 2:for(;d<16;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}if(e.flags=u,(255&e.flags)!==LR){t.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){t.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=u>>8&1),512&e.flags&&(wt[0]=255&u,wt[1]=u>>>8&255,e.check=Yn(e.check,wt,2,0)),u=0,d=0,e.mode=3;case 3:for(;d<32;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}e.head&&(e.head.time=u),512&e.flags&&(wt[0]=255&u,wt[1]=u>>>8&255,wt[2]=u>>>16&255,wt[3]=u>>>24&255,e.check=Yn(e.check,wt,4,0)),u=0,d=0,e.mode=4;case 4:for(;d<16;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}e.head&&(e.head.xflags=255&u,e.head.os=u>>8),512&e.flags&&(wt[0]=255&u,wt[1]=u>>>8&255,e.check=Yn(e.check,wt,2,0)),u=0,d=0,e.mode=5;case 5:if(1024&e.flags){for(;d<16;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}e.length=u,e.head&&(e.head.extra_len=u),512&e.flags&&(wt[0]=255&u,wt[1]=u>>>8&255,e.check=Yn(e.check,wt,2,0)),u=0,d=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(L=e.length,L>a&&(L=a),L&&(e.head&&(We=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(i.subarray(s,s+L),We)),512&e.flags&&(e.check=Yn(e.check,i,L,s)),a-=L,s+=L,e.length-=L),e.length))break e;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(0===a)break e;L=0;do{We=i[s+L++],e.head&&We&&e.length<65536&&(e.head.name+=String.fromCharCode(We))}while(We&&L<a);if(512&e.flags&&(e.check=Yn(e.check,i,L,s)),a-=L,s+=L,We)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(0===a)break e;L=0;do{We=i[s+L++],e.head&&We&&e.length<65536&&(e.head.comment+=String.fromCharCode(We))}while(We&&L<a);if(512&e.flags&&(e.check=Yn(e.check,i,L,s)),a-=L,s+=L,We)break e}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;d<16;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}if(u!==(65535&e.check)){t.msg="header crc mismatch",e.mode=30;break}u=0,d=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=12;break;case 10:for(;d<32;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}t.adler=e.check=aO(u),u=0,d=0,e.mode=11;case 11:if(0===e.havedict)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,e.hold=u,e.bits=d,V9;t.adler=e.check=1,e.mode=12;case 12:if(n===U9||n===Pf)break e;case 13:if(e.last){u>>>=7&d,d-=7&d,e.mode=27;break}for(;d<3;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}switch(e.last=1&u,u>>>=1,d-=1,3&u){case 0:e.mode=14;break;case 1:if(Y9(e),e.mode=20,n===Pf){u>>>=2,d-=2;break e}break;case 2:e.mode=17;break;case 3:t.msg="invalid block type",e.mode=30}u>>>=2,d-=2;break;case 14:for(u>>>=7&d,d-=7&d;d<32;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&u,u=0,d=0,e.mode=15,n===Pf)break e;case 15:e.mode=16;case 16:if(L=e.length,L){if(L>a&&(L=a),L>l&&(L=l),0===L)break e;r.set(i.subarray(s,s+L),o),a-=L,s+=L,l-=L,o+=L,e.length-=L;break}e.mode=12;break;case 17:for(;d<14;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}if(e.nlen=257+(31&u),u>>>=5,d-=5,e.ndist=1+(31&u),u>>>=5,d-=5,e.ncode=4+(15&u),u>>>=4,d-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;d<3;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}e.lens[ii[e.have++]]=7&u,u>>>=3,d-=3}for(;e.have<19;)e.lens[ii[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,ot={bits:e.lenbits},Ot=_u(0,e.lens,0,19,e.lencode,0,e.work,ot),e.lenbits=ot.bits,Ot){t.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;he=e.lencode[u&(1<<e.lenbits)-1],Te=he>>>24,ge=he>>>16&255,Ie=65535&he,!(Te<=d);){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}if(Ie<16)u>>>=Te,d-=Te,e.lens[e.have++]=Ie;else{if(16===Ie){for(Et=Te+2;d<Et;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}if(u>>>=Te,d-=Te,0===e.have){t.msg="invalid bit length repeat",e.mode=30;break}We=e.lens[e.have-1],L=3+(3&u),u>>>=2,d-=2}else if(17===Ie){for(Et=Te+3;d<Et;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}u>>>=Te,d-=Te,We=0,L=3+(7&u),u>>>=3,d-=3}else{for(Et=Te+7;d<Et;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}u>>>=Te,d-=Te,We=0,L=11+(127&u),u>>>=7,d-=7}if(e.have+L>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=30;break}for(;L--;)e.lens[e.have++]=We}}if(30===e.mode)break;if(0===e.lens[256]){t.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,ot={bits:e.lenbits},Ot=_u(1,e.lens,0,e.nlen,e.lencode,0,e.work,ot),e.lenbits=ot.bits,Ot){t.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,ot={bits:e.distbits},Ot=_u(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,ot),e.distbits=ot.bits,Ot){t.msg="invalid distances set",e.mode=30;break}if(e.mode=20,n===Pf)break e;case 20:e.mode=21;case 21:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,e.hold=u,e.bits=d,N9(t,P),o=t.next_out,r=t.output,l=t.avail_out,s=t.next_in,i=t.input,a=t.avail_in,u=e.hold,d=e.bits,12===e.mode&&(e.back=-1);break}for(e.back=0;he=e.lencode[u&(1<<e.lenbits)-1],Te=he>>>24,ge=he>>>16&255,Ie=65535&he,!(Te<=d);){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}if(ge&&0==(240&ge)){for(De=Te,Ge=ge,St=Ie;he=e.lencode[St+((u&(1<<De+Ge)-1)>>De)],Te=he>>>24,ge=he>>>16&255,Ie=65535&he,!(De+Te<=d);){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}u>>>=De,d-=De,e.back+=De}if(u>>>=Te,d-=Te,e.back+=Te,e.length=Ie,0===ge){e.mode=26;break}if(32&ge){e.back=-1,e.mode=12;break}if(64&ge){t.msg="invalid literal/length code",e.mode=30;break}e.extra=15&ge,e.mode=22;case 22:if(e.extra){for(Et=e.extra;d<Et;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}e.length+=u&(1<<e.extra)-1,u>>>=e.extra,d-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;he=e.distcode[u&(1<<e.distbits)-1],Te=he>>>24,ge=he>>>16&255,Ie=65535&he,!(Te<=d);){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}if(0==(240&ge)){for(De=Te,Ge=ge,St=Ie;he=e.distcode[St+((u&(1<<De+Ge)-1)>>De)],Te=he>>>24,ge=he>>>16&255,Ie=65535&he,!(De+Te<=d);){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}u>>>=De,d-=De,e.back+=De}if(u>>>=Te,d-=Te,e.back+=Te,64&ge){t.msg="invalid distance code",e.mode=30;break}e.offset=Ie,e.extra=15&ge,e.mode=24;case 24:if(e.extra){for(Et=e.extra;d<Et;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}e.offset+=u&(1<<e.extra)-1,u>>>=e.extra,d-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(0===l)break e;if(L=P-l,e.offset>L){if(L=e.offset-L,L>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=30;break}L>e.wnext?(L-=e.wnext,K=e.wsize-L):K=e.wnext-L,L>e.length&&(L=e.length),ce=e.window}else ce=r,K=o-e.offset,L=e.length;L>l&&(L=l),l-=L,e.length-=L;do{r[o++]=ce[K++]}while(--L);0===e.length&&(e.mode=21);break;case 26:if(0===l)break e;r[o++]=e.length,l--,e.mode=21;break;case 27:if(e.wrap){for(;d<32;){if(0===a)break e;a--,u|=i[s++]<<d,d+=8}if(P-=l,t.total_out+=P,e.total+=P,P&&(t.adler=e.check=e.flags?Yn(e.check,r,P,o-P):au(e.check,r,P,o-P)),P=l,(e.flags?u:aO(u))!==e.check){t.msg="incorrect data check",e.mode=30;break}u=0,d=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;d<32;){if(0===a)break e;a--,u+=i[s++]<<d,d+=8}if(u!==(4294967295&e.total)){t.msg="incorrect length check",e.mode=30;break}u=0,d=0}e.mode=29;case 29:Ot=B9;break e;case 30:Ot=kR;break e;case 31:return FR;default:return cr}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,e.hold=u,e.bits=d,(e.wsize||P!==t.avail_out&&e.mode<30&&(e.mode<27||n!==xR))&&fO(t,t.output,t.next_out,P-t.avail_out),R-=t.avail_in,P-=t.avail_out,t.total_in+=R,t.total_out+=P,e.total+=P,e.wrap&&P&&(t.adler=e.check=e.flags?Yn(e.check,r,P,t.next_out-P):au(e.check,r,P,t.next_out-P)),t.data_type=e.bits+(e.last?64:0)+(12===e.mode?128:0)+(20===e.mode||15===e.mode?256:0),(0===R&&0===P||n===xR)&&Ot===zo&&(Ot=H9),Ot},ms_inflateEnd=t=>{if(!t||!t.state)return cr;let n=t.state;return n.window&&(n.window=null),t.state=null,zo},ms_inflateGetHeader=(t,n)=>{if(!t||!t.state)return cr;const e=t.state;return 0==(2&e.wrap)?cr:(e.head=n,n.done=!1,zo)},ms_inflateSetDictionary=(t,n)=>{const e=n.length;let i,r,s;return t&&t.state&&(i=t.state,0===i.wrap||11===i.mode)?11===i.mode&&(r=1,r=au(r,n,e,0),r!==i.check)?kR:(s=fO(t,n,e,e),s?(i.mode=31,FR):(i.havedict=1,zo)):cr},uq=function cq(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const pO=Object.prototype.toString,{Z_NO_FLUSH:dq,Z_FINISH:hq,Z_OK:mu,Z_STREAM_END:gE,Z_NEED_DICT:_E,Z_STREAM_ERROR:fq,Z_DATA_ERROR:gO,Z_MEM_ERROR:pq}=Ho;function yu(t){this.options=Rf_assign({chunkSize:65536,windowBits:15,to:""},t||{});const n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,0===n.windowBits&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(t&&t.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&0==(15&n.windowBits)&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new DR,this.strm.avail_out=0;let e=ms_inflateInit2(this.strm,n.windowBits);if(e!==mu)throw new Error(Vo[e]);if(this.header=new uq,ms_inflateGetHeader(this.strm,this.header),n.dictionary&&("string"==typeof n.dictionary?n.dictionary=pu_string2buf(n.dictionary):"[object ArrayBuffer]"===pO.call(n.dictionary)&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(e=ms_inflateSetDictionary(this.strm,n.dictionary),e!==mu)))throw new Error(Vo[e])}function mE(t,n){const e=new yu(n);if(e.push(t),e.err)throw e.msg||Vo[e.err];return e.result}yu.prototype.push=function(t,n){const e=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(o=n===~~n?n:!0===n?hq:dq,e.input="[object ArrayBuffer]"===pO.call(t)?new Uint8Array(t):t,e.next_in=0,e.avail_in=e.input.length;;){for(0===e.avail_out&&(e.output=new Uint8Array(i),e.next_out=0,e.avail_out=i),s=ms_inflate(e,o),s===_E&&r&&(s=ms_inflateSetDictionary(e,r),s===mu?s=ms_inflate(e,o):s===gO&&(s=_E));e.avail_in>0&&s===gE&&e.state.wrap>0&&0!==t[e.next_in];)ms_inflateReset(e),s=ms_inflate(e,o);switch(s){case fq:case gO:case _E:case pq:return this.onEnd(s),this.ended=!0,!1}if(a=e.avail_out,e.next_out&&(0===e.avail_out||s===gE))if("string"===this.options.to){let l=pu_utf8border(e.output,e.next_out),u=e.next_out-l,d=pu_buf2string(e.output,l);e.next_out=u,e.avail_out=i-u,u&&e.output.set(e.output.subarray(l,l+u),0),this.onData(d)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(s!==mu||0!==a){if(s===gE)return s=ms_inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===e.avail_in)break}}return!0},yu.prototype.onData=function(t){this.chunks.push(t)},yu.prototype.onEnd=function(t){t===mu&&(this.result="string"===this.options.to?this.chunks.join(""):Rf_flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var vq={Inflate:yu,inflate:mE,inflateRaw:function gq(t,n){return(n=n||{}).raw=!0,mE(t,n)},ungzip:mE,constants:Ho};const{ungzip:Mq}=vq;var _O=Mq;let Uq=(()=>{class t{transform(e){if(!e)return null;if(!(e instanceof Map))throw Error("[IllegalArgumentError] Object expected to be a Map.");return Array.from(e).sort(([i],[r])=>i.localeCompare(r)).map(([i,r])=>`{"${i}" => ${JSON.stringify(r)}}`).join("\n").trim()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=hi({name:"appStringifyMap",type:t,pure:!0}),t})();function Bq(t,n){if(1&t&&(Er(0),Se(1,"label"),Le(2,"Params:"),we(),Se(3,"span"),Le(4),ki(5,"appStringifyMap"),we(),br()),2&t){const e=Qe();Oe(4),Kn(Zi(5,1,e.envelope.params))}}function Vq(t,n){if(1&t&&(Er(0),Se(1,"label"),Le(2,"Headers:"),we(),Se(3,"span"),Le(4),ki(5,"appStringifyMap"),we(),br()),2&t){const e=Qe();Oe(4),Kn(Zi(5,1,e.envelope.headers))}}function Hq(t,n){if(1&t){const e=bn();Se(0,"button",7),Ke("click",function(){zt(e);const r=Qe();return r.onReply(r.envelope.message)}),Se(1,"mat-icon"),Le(2,"reply"),we()()}}let mO=(()=>{class t{constructor(){this.delete=new et,this.reply=new et}onDelete(){this.delete.emit()}onReply(e){this.reply.emit()}ngOnChanges(e){this.message=this.envelope.message,this.details=this.message.dump(xe.MessageDumpFlag.MSGDUMP_BRIEF),this.type=function $q(t){switch(t){case xe.MessageType.TEXT:return`TEXT (${t})`;case xe.MessageType.BINARY:return`BINARY (${t})`;case xe.MessageType.MAP:return`MAP (${t})`;case xe.MessageType.STREAM:return`STREAM (${t})`;default:return`UNKNOWN (${t})`}}(this.message.getType()),this.content=function Gq(t){const n=t.headers.get("Content-Encoding");switch(t.message.getType()){case xe.MessageType.BINARY:return yO(t.message.getBinaryAttachment(),n);case xe.MessageType.TEXT:return yO(t.message.getSdtContainer().getValue(),n);default:return}}(this.envelope)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["app-message-list-item"]],inputs:{envelope:"envelope"},outputs:{delete:"delete",reply:"reply"},features:[An],decls:27,vars:13,consts:[[1,"timestamp"],[1,"topic"],[4,"ngIf"],[1,"content"],[1,"actions"],["mat-mini-fab","","class","reply","color","primary","title","Reply",3,"click",4,"ngIf"],["mat-mini-fab","","color","primary","title","Delete",1,"delete",3,"click"],["mat-mini-fab","","color","primary","title","Reply",1,"reply",3,"click"]],template:function(e,i){1&e&&(Se(0,"span",0),Le(1),ki(2,"date"),we(),Se(3,"label"),Le(4,"Destination:"),we(),Se(5,"span",1),Le(6),we(),Se(7,"label"),Le(8,"Type:"),we(),Se(9,"span"),Le(10),we(),Je(11,Bq,6,3,"ng-container",2),Je(12,Vq,6,3,"ng-container",2),Se(13,"label"),Le(14,"Details:"),we(),Se(15,"sci-viewport",3),Le(16),we(),Se(17,"label"),Le(18,"Content:"),we(),Se(19,"sci-viewport",3)(20,"section"),Le(21),we()(),Se(22,"section",4),Je(23,Hq,3,0,"button",5),Se(24,"button",6),Ke("click",function(){return i.onDelete()}),Se(25,"mat-icon"),Le(26,"delete"),we()()()),2&e&&(Oe(1),Kn(function fS(t,n,e,i){const r=t+20,s=ke(),o=na(s,r);return ic(s,r)?cS(s,fi(),n,o.transform,e,i,o):o.transform(e,i)}(2,10,i.message.getReceiverTimestamp(),"HH:mm:ss")),Oe(5),Kn(i.envelope.message.getDestination().getName()),Oe(4),Kn(i.type),Oe(1),Pe("ngIf",null==i.envelope.params?null:i.envelope.params.size),Oe(1),Pe("ngIf",null==i.envelope.headers?null:i.envelope.headers.size),Oe(4),Kn(i.details),Oe(4),Nt("zipped","gzip"===i.envelope.headers.get("Content-Encoding")),Oe(1),Rs(" ",i.content," "),Oe(2),Pe("ngIf",i.envelope.message.getReplyTo()))},directives:[Fi,eu,ps,Ef],pipes:[M0,Uq],styles:['[_nghost-%COMP%]{font-family:monospace;font-size:.9em;display:grid;grid-template-columns:7em auto;grid-gap:.5em 1em;gap:.5em 1em;padding:1em;position:relative}[_nghost-%COMP%] > span.timestamp[_ngcontent-%COMP%]{position:absolute;top:0;right:1em;font-size:smaller}[_nghost-%COMP%] > section.actions[_ngcontent-%COMP%]{display:flex;gap:.25em;position:absolute;right:1em;align-self:center}[_nghost-%COMP%]:not(:hover) > section.actions[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%] > sci-viewport.content[_ngcontent-%COMP%]{max-height:20em;margin-right:1em}[_nghost-%COMP%] > sci-viewport.content[_ngcontent-%COMP%]   section.zipped[_ngcontent-%COMP%]{background-color:#ffffe0}[_nghost-%COMP%] > sci-viewport.content[_ngcontent-%COMP%]   section.zipped[_ngcontent-%COMP%]:before{display:block;content:"=== UNZIPPED CONTENT ===";font-style:italic}'],changeDetection:0}),t})();function yO(t,n){if(null!=t){if("gzip"===n){const e="string"==typeof t?(new TextEncoder).encode(t):t;return _O(e,{to:"string"})}return"string"==typeof t?t:(new TextDecoder).decode(t)}}function jq(t,n){if(1&t){const e=bn();Se(0,"button",15),Ke("click",function(){return zt(e),Qe().onPublish()}),Le(1,"Publish"),we()}2&t&&Pe("disabled",Qe().form.invalid)}function Wq(t,n){if(1&t){const e=bn();Se(0,"button",16),Ke("click",function(){return zt(e),Qe().onCancelPublish()}),Le(1,"Cancel"),we()}}function zq(t,n){if(1&t){const e=bn();Se(0,"app-message-list-item",20),Ke("delete",function(){const s=zt(e).$implicit;return Qe(2).onDeleteReply(s)}),we()}2&t&&Pe("envelope",n.$implicit)}function qq(t,n){if(1&t){const e=bn();Se(0,"button",21),Ke("click",function(){return zt(e),Qe(2).onClearReplies()}),Le(1,"Clear"),we()}}function Yq(t,n){if(1&t&&(Se(0,"section",17)(1,"sci-viewport"),Je(2,zq,1,1,"app-message-list-item",18),we(),Je(3,qq,2,0,"button",19),we()),2&t){const e=Qe();Oe(2),Pe("ngForOf",e.replies),Oe(1),Pe("ngIf",e.replies.length)}}function Qq(t,n){1&t&&(Se(0,"mat-card-footer")(1,"section",22),Le(2," Waiting for the event broker to acknowledge the message. "),we()())}function Kq(t,n){1&t&&(Se(0,"mat-card-footer")(1,"section",22),Le(2," Waiting for the reply to be received. "),we()())}function Xq(t,n){if(1&t&&(Se(0,"mat-card-footer")(1,"section",23),Le(2),we()()),2&t){const e=Qe();Oe(2),Rs(" ",e.publishError," ")}}const yE="destination",EE="destinationType",bE="deliveryMode",vE="message",CE="messageType",TE="headers",SE="request/reply";let Zq=(()=>{class t{constructor(e,i,r){this._solaceMessageClient=i,this._cd=r,this._destroy$=new le,this._publishSubscription=null,this.DESTINATION=yE,this.DESTINATION_TYPE=EE,this.DELIVERY_MODE=bE,this.MESSAGE=vE,this.MESSAGE_TYPE=CE,this.HEADERS=TE,this.REQUEST_REPLY=SE,this.publishError=null,this.MessageType=xe.MessageType,this.DestinationType=xe.DestinationType,this.MessageDeliveryModeType=xe.MessageDeliveryModeType,this.replies=[],this.form=new Us({[yE]:e.control("",rr.required),[EE]:e.control(xe.DestinationType.TOPIC,rr.required),[bE]:e.control(void 0),[vE]:e.control(""),[CE]:e.control(xe.MessageType.BINARY,rr.required),[TE]:e.control(""),[SE]:e.control(!1)})}onPublish(){var e=this;return function MW(t){return function(){var n=this,e=arguments;return new Promise(function(i,r){var s=t.apply(n,e);function o(l){$M(s,i,r,o,a,"next",l)}function a(l){$M(s,i,r,o,a,"throw",l)}o(void 0)})}}(function*(){e.form.disable(),e.publishError=null,e._publishSubscription=e.publish$().pipe(al(i=>{i(),e._cd.markForCheck()}),pc(()=>{e.form.enable(),e._publishSubscription=null}),at(e._destroy$)).subscribe({error:i=>e.publishError=i})})()}onCancelPublish(){var e;null===(e=this._publishSubscription)||void 0===e||e.unsubscribe(),this._publishSubscription=null,this.replies.length=0}onClearReplies(){this.replies.length=0}publish$(){try{const e=this.form.get(yE).value,i=this.form.get(EE).value,r=this.readMessageFromUI(),s=this.readPublishOptionsFromUI();switch(i){case xe.DestinationType.TOPIC:{const o=xe.SolclientFactory.createTopicDestination(e);return this.requestReply?this._solaceMessageClient.request$(o,r).pipe(Pn(a=>this.replies.push(a))):$a(()=>this._solaceMessageClient.publish(o,r,s))}case xe.DestinationType.QUEUE:{const o=xe.SolclientFactory.createDurableQueueDestination(e);return this.requestReply?this._solaceMessageClient.request$(o,r,s).pipe(Pn(a=>this.replies.push(a))):$a(()=>this._solaceMessageClient.publish(o,r,s))}default:return tr(()=>`Unsupported destination type: ${i}`)}}catch(e){return tr(()=>e)}}onDeleteReply(e){Jc.remove(this.replies,e)}get requestReply(){return this.form.get(SE).value}get publishing(){return null!==this._publishSubscription}readPublishOptionsFromUI(){return{headers:this.readHeadersFromUI(),deliveryMode:this.form.get(bE).value}}readMessageFromUI(){const e=this.form.get(vE).value;if(e)return this.form.get(CE).value===xe.MessageType.TEXT?xe.SDTField.create(xe.SDTFieldType.STRING,e):(new TextEncoder).encode(e)}readHeadersFromUI(){const e=this.form.get(TE).value;if(!e.length)return;const i=new Map;return e.split(";").forEach(r=>{const[s,o]=r.split("->");"true"===o||"false"===o?i.set(s,Boolean(o)):Number.isNaN(Number(o))?i.set(s,o):i.set(s,Number(o))}),i}ngOnDestroy(){this._destroy$.next()}}return t.\u0275fac=function(e){return new(e||t)(X(oI),X(ll),X(Cn))},t.\u0275cmp=Ht({type:t,selectors:[["app-publisher"]],decls:52,vars:22,consts:[[1,"sub-title"],[3,"formGroup"],[1,"destination"],["matInput","",3,"formControlName"],[1,"destination-type"],[3,"formControlName"],[3,"value"],["matInput","",1,"message",3,"formControlName"],[1,"message-type"],[1,"message-delivery-mode"],["matInput","","placeholder","name->value;name->value",3,"formControlName"],["mat-stroked-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-stroked-button","","color","primary",3,"click",4,"ngIf"],["class","replies",4,"ngIf"],[4,"ngIf"],["mat-stroked-button","","color","primary",3,"disabled","click"],["mat-stroked-button","","color","primary",3,"click"],[1,"replies"],[3,"envelope","delete",4,"ngFor","ngForOf"],["class","clear","mat-stroked-button","","color","primary",3,"click",4,"ngIf"],[3,"envelope","delete"],["mat-stroked-button","","color","primary",1,"clear",3,"click"],[1,"sending"],[1,"error"]],template:function(e,i){1&e&&(Se(0,"mat-card")(1,"mat-card-content")(2,"header"),Le(3,"Publisher"),we(),Se(4,"span",0),Le(5,"Publish a message to a topic destination."),we(),Se(6,"sci-viewport")(7,"form",1)(8,"mat-form-field",2)(9,"mat-label"),Le(10,"Destination"),we(),Lt(11,"input",3),we(),Se(12,"mat-form-field",4)(13,"mat-label"),Le(14,"Destination Type"),we(),Se(15,"mat-select",5)(16,"mat-option",6),Le(17,"Topic"),we(),Se(18,"mat-option",6),Le(19,"Queue"),we()()(),Se(20,"mat-form-field")(21,"mat-label"),Le(22,"Message"),we(),Lt(23,"textarea",7),we(),Se(24,"mat-form-field",8)(25,"mat-label"),Le(26,"Message Type"),we(),Se(27,"mat-select",5)(28,"mat-option",6),Le(29,"Binary"),we(),Se(30,"mat-option",6),Le(31,"Text"),we()()(),Se(32,"mat-form-field",9)(33,"mat-label"),Le(34,"Message Delivery Mode"),we(),Se(35,"mat-select",5)(36,"mat-option",6),Le(37,"Direct (default)"),we(),Se(38,"mat-option",6),Le(39,"Persistent"),we()()(),Se(40,"mat-form-field")(41,"mat-label"),Le(42,"Headers"),we(),Lt(43,"input",10),we(),Se(44,"mat-checkbox",5),Le(45,"Request/Reply"),we(),Je(46,jq,2,1,"button",11),Je(47,Wq,2,0,"button",12),we(),Je(48,Yq,4,2,"section",13),we()(),Je(49,Qq,3,0,"mat-card-footer",14),Je(50,Kq,3,0,"mat-card-footer",14),Je(51,Xq,3,1,"mat-card-footer",14),we()),2&e&&(Oe(6),Nt("request-reply",i.requestReply),Oe(1),Pe("formGroup",i.form),Oe(4),Pe("formControlName",i.DESTINATION),Oe(4),Pe("formControlName",i.DESTINATION_TYPE),Oe(1),Pe("value",i.DestinationType.TOPIC),Oe(2),Pe("value",i.DestinationType.QUEUE),Oe(5),Pe("formControlName",i.MESSAGE),Oe(4),Pe("formControlName",i.MESSAGE_TYPE),Oe(1),Pe("value",i.MessageType.BINARY),Oe(2),Pe("value",i.MessageType.TEXT),Oe(5),Pe("formControlName",i.DELIVERY_MODE),Oe(1),Pe("value",i.MessageDeliveryModeType.DIRECT),Oe(2),Pe("value",i.MessageDeliveryModeType.PERSISTENT),Oe(5),Pe("formControlName",i.HEADERS),Oe(1),Pe("formControlName",i.REQUEST_REPLY),Oe(2),Pe("ngIf",!i.publishing),Oe(1),Pe("ngIf",i.publishing),Oe(1),Pe("ngIf",i.requestReply),Oe(1),Pe("ngIf",i.publishing&&!i.requestReply),Oe(1),Pe("ngIf",i.publishing&&i.requestReply),Oe(1),Pe("ngIf",i.publishError))},directives:[Py,Ny,eu,vm,lh,Bs,af,Wc,zc,ks,Ya,Oc,xy,nf,df,Fi,ps,yo,mO,C6],styles:["[_nghost-%COMP%]{display:grid;margin:.25em}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%]{flex:auto;display:flex;flex-direction:column}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > header[_ngcontent-%COMP%]{flex:none;font-size:20px;margin-bottom:.25em}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > span.sub-title[_ngcontent-%COMP%]{flex:none;font-size:15px;color:#0000008a}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > sci-viewport[_ngcontent-%COMP%]{flex:1 1 0}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > sci-viewport.request-reply[_ngcontent-%COMP%]{--sci-viewport-content-grid-template-rows: auto 1fr;--sci-viewport-content-grid-gap: 1em 0}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > sci-viewport[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:grid;grid-auto-rows:auto;grid-template-columns:1fr auto;place-content:start;grid-column-gap:2em;column-gap:2em;margin-top:3em}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > sci-viewport[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea.message[_ngcontent-%COMP%]{height:10em}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > sci-viewport[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%], [_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > sci-viewport[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{grid-column:1/-1}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > sci-viewport[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > mat-form-field.destination[_ngcontent-%COMP%], [_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > sci-viewport[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > mat-form-field.message-type[_ngcontent-%COMP%]{grid-column:1}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > sci-viewport[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > mat-form-field.destination-type[_ngcontent-%COMP%], [_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > sci-viewport[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > mat-form-field.message-delivery-mode[_ngcontent-%COMP%]{grid-column:2}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > sci-viewport[_ngcontent-%COMP%]   section.replies[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1em;border:1px solid rgba(0,0,0,.12);border-radius:5px}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > sci-viewport[_ngcontent-%COMP%]   section.replies[_ngcontent-%COMP%] > sci-viewport[_ngcontent-%COMP%]{flex:1 1 0;--sci-viewport-content-grid-auto-rows: max-content;--sci-viewport-content-grid-gap: 1em 0;min-height:15em}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > sci-viewport[_ngcontent-%COMP%]   section.replies[_ngcontent-%COMP%] > sci-viewport[_ngcontent-%COMP%]   app-message-list-item[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > sci-viewport[_ngcontent-%COMP%]   section.replies[_ngcontent-%COMP%] > button.replies.clear[_ngcontent-%COMP%]{flex:none}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-footer[_ngcontent-%COMP%]{flex:none}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-footer[_ngcontent-%COMP%] > section.sending[_ngcontent-%COMP%]{margin:.75em;color:#0000008a;background-color:#00000003;border:1px solid rgba(0,0,0,.12);border-radius:3px;padding:1em;font-style:italic;text-align:center}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-footer[_ngcontent-%COMP%] > section.error[_ngcontent-%COMP%]{margin:.75em;border:1px solid #f44336;border-radius:3px;background-color:#ffcdd2;padding:1em}"],changeDetection:0}),t})(),Jq=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=cn(e)}get inset(){return this._inset}set inset(e){this._inset=cn(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(Kt("aria-orientation",i.vertical?"vertical":"horizontal"),Nt("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t})(),e7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[tn],tn]}),t})();function t7(t,n){1&t&&fn(0)}const EO=["*"];function n7(t,n){}const r7=function(t){return{animationDuration:t}},s7=function(t,n){return{value:t,params:n}},o7=["tabListContainer"],a7=["tabList"],l7=["tabListInner"],c7=["nextPaginator"],u7=["previousPaginator"],d7=["tabBodyWrapper"],h7=["tabHeader"];function f7(t,n){}function p7(t,n){1&t&&Je(0,f7,0,0,"ng-template",10),2&t&&Pe("cdkPortalOutlet",Qe().$implicit.templateLabel)}function g7(t,n){1&t&&Le(0),2&t&&Kn(Qe().$implicit.textLabel)}function _7(t,n){if(1&t){const e=bn();Se(0,"div",6),Ke("click",function(){const r=zt(e),s=r.$implicit,o=r.index,a=Qe(),l=Ur(1);return a._handleClick(s,l,o)})("cdkFocusChange",function(r){const o=zt(e).index;return Qe()._tabFocusChanged(r,o)}),Se(1,"div",7),Je(2,p7,1,1,"ng-template",8),Je(3,g7,1,1,"ng-template",null,9,bd),we()()}if(2&t){const e=n.$implicit,i=n.index,r=Ur(4),s=Qe();Nt("mat-tab-label-active",s.selectedIndex===i),Pe("id",s._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("matRippleDisabled",e.disabled||s.disableRipple),Kt("tabIndex",s._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(i))("aria-selected",s.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),Oe(2),Pe("ngIf",e.templateLabel)("ngIfElse",r)}}function m7(t,n){if(1&t){const e=bn();Se(0,"mat-tab-body",11),Ke("_onCentered",function(){return zt(e),Qe()._removeTabBodyWrapperHeight()})("_onCentering",function(r){return zt(e),Qe()._setTabBodyWrapperHeight(r)}),we()}if(2&t){const e=n.$implicit,i=n.index,r=Qe();Nt("mat-tab-body-active",r.selectedIndex===i),Pe("id",r._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration),Kt("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const y7=new He("MatInkBarPositioner",{providedIn:"root",factory:function E7(){return n=>({left:n?(n.offsetLeft||0)+"px":"0",width:n?(n.offsetWidth||0)+"px":"0"})}});let bO=(()=>{class t{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=s}alignToElement(e){this.show(),this._ngZone.onStable.pipe(In(1)).subscribe(()=>{const i=this._inkBarPositioner(e),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(tt),X(y7),X(ei,8))},t.\u0275dir=Ue({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&Nt("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),t})();const b7=new He("MatTabContent"),vO=new He("MatTabLabel"),CO=new He("MAT_TAB");let v7=(()=>{class t extends e5{constructor(e,i,r){super(e,i),this._closestTab=r}}return t.\u0275fac=function(e){return new(e||t)(X(Xn),X(qn),X(CO,8))},t.\u0275dir=Ue({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Gt([{provide:vO,useExisting:t}]),st]}),t})();const C7=$c(class{}),TO=new He("MAT_TAB_GROUP");let SO=(()=>{class t extends C7{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new le,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new el(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return t.\u0275fac=function(e){return new(e||t)(X(qn),X(TO,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-tab"]],contentQueries:function(e,i,r){if(1&e&&(Rn(r,vO,5),Rn(r,b7,7,Xn)),2&e){let s;gt(s=_t())&&(i.templateLabel=s.first),gt(s=_t())&&(i._explicitContent=s.first)}},viewQuery:function(e,i){if(1&e&&Zt(Xn,7),2&e){let r;gt(r=_t())&&(i._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[Gt([{provide:CO,useExisting:t}]),st,An],ngContentSelectors:EO,decls:1,vars:0,template:function(e,i){1&e&&(Xi(),Je(0,t7,1,0,"ng-template"))},encapsulation:2}),t})();const T7={translateTab:Oo("translateTab",[Ui("center, void, left-origin-center, right-origin-center",an({transform:"none"})),Ui("left",an({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Ui("right",an({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Bi("* => left, * => right, left => center, right => center",sr("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Bi("void => left-origin-center",[an({transform:"translate3d(-100%, 0, 0)"}),sr("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Bi("void => right-origin-center",[an({transform:"translate3d(100%, 0, 0)"}),sr("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let S7=(()=>{class t extends Ao{constructor(e,i,r,s){super(e,i,s),this._host=r,this._centeringSub=h.EMPTY,this._leavingSub=h.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(yi(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(X(Os),X(qn),X(Yt(()=>wO)),X(Ct))},t.\u0275dir=Ue({type:t,selectors:[["","matTabBodyHost",""]],features:[st]}),t})(),w7=(()=>{class t{constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=h.EMPTY,this._translateTabComplete=new le,this._onCentering=new et,this._beforeCentering=new et,this._afterLeavingCenter=new et,this._onCentered=new et(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(s=>{this._computePositionAnimationState(s),r.markForCheck()})),this._translateTabComplete.pipe(Lc((s,o)=>s.fromState===o.fromState&&s.toState===o.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(Li,8),X(Cn))},t.\u0275dir=Ue({type:t,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),wO=(()=>{class t extends w7{constructor(e,i,r){super(e,i,r)}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(Li,8),X(Cn))},t.\u0275cmp=Ht({type:t,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&Zt(Ao,5),2&e){let r;gt(r=_t())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[st],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(Se(0,"div",0,1),Ke("@translateTab.start",function(s){return i._onTranslateTabStarted(s)})("@translateTab.done",function(s){return i._translateTabComplete.next(s)}),Je(2,n7,0,0,"ng-template",2),we()),2&e&&Pe("@translateTab",function aS(t,n,e,i,r){return cS(ke(),fi(),t,n,e,i,r)}(3,s7,i._position,Gg(1,r7,i.animationDuration)))},directives:[S7],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[T7.translateTab]}}),t})();const DO=new He("MAT_TABS_CONFIG"),D7=$c(class{});let IO=(()=>{class t extends D7{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(X(ht))},t.\u0275dir=Ue({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(Kt("aria-disabled",!!i.disabled),Nt("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[st]}),t})();const AO=Xa({passive:!0});let M7=(()=>{class t{constructor(e,i,r,s,o,a,l){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=s,this._ngZone=o,this._platform=a,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new le,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new le,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new et,this.indexFocused=new et,o.runOutsideAngular(()=>{Tn(e.nativeElement,"mouseleave").pipe(at(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Vs(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){Tn(this._previousPaginator.nativeElement,"touchstart",AO).pipe(at(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Tn(this._nextPaginator.nativeElement,"touchstart",AO).pipe(at(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:it("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new k5(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(In(1)).subscribe(r),hn(e,i,this._items.changes).pipe(at(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(r)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(at(this._destroyed)).subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Hs(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:o}=i.elementRef.nativeElement;let a,l;"ltr"==this._getLayoutDirection()?(a=s,l=a+o):(l=this._tabListInner.nativeElement.offsetWidth-s,a=l-o);const u=this.scrollDistance,d=this.scrollDistance+r;a<u?this.scrollDistance-=u-a+60:l>d&&(this.scrollDistance+=l-d+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),km(650,100).pipe(at(hn(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(e);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(Cn),X(Za),X(Li,8),X(tt),X(kn),X(ei,8))},t.\u0275dir=Ue({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),R7=(()=>{class t extends M7{constructor(e,i,r,s,o,a,l){super(e,i,r,s,o,a,l),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=cn(e)}_itemSelected(e){e.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(Cn),X(Za),X(Li,8),X(tt),X(kn),X(ei,8))},t.\u0275dir=Ue({type:t,inputs:{disableRipple:"disableRipple"},features:[st]}),t})(),O7=(()=>{class t extends R7{constructor(e,i,r,s,o,a,l){super(e,i,r,s,o,a,l)}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(Cn),X(Za),X(Li,8),X(tt),X(kn),X(ei,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-tab-header"]],contentQueries:function(e,i,r){if(1&e&&Rn(r,IO,4),2&e){let s;gt(s=_t())&&(i._items=s)}},viewQuery:function(e,i){if(1&e&&(Zt(bO,7),Zt(o7,7),Zt(a7,7),Zt(l7,7),Zt(c7,5),Zt(u7,5)),2&e){let r;gt(r=_t())&&(i._inkBar=r.first),gt(r=_t())&&(i._tabListContainer=r.first),gt(r=_t())&&(i._tabList=r.first),gt(r=_t())&&(i._tabListInner=r.first),gt(r=_t())&&(i._nextPaginator=r.first),gt(r=_t())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&Nt("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[st],ngContentSelectors:EO,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(Xi(),Se(0,"button",0,1),Ke("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(s){return i._handlePaginatorPress("before",s)})("touchend",function(){return i._stopInterval()}),Lt(2,"div",2),we(),Se(3,"div",3,4),Ke("keydown",function(s){return i._handleKeydown(s)}),Se(5,"div",5,6),Ke("cdkObserveContent",function(){return i._onContentChanges()}),Se(7,"div",7,8),fn(9),we(),Lt(10,"mat-ink-bar"),we()(),Se(11,"button",9,10),Ke("mousedown",function(s){return i._handlePaginatorPress("after",s)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),Lt(13,"div",2),we()),2&e&&(Nt("mat-tab-header-pagination-disabled",i._disableScrollBefore),Pe("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),Oe(5),Nt("_mat-animation-noopable","NoopAnimations"===i._animationMode),Oe(6),Nt("mat-tab-header-pagination-disabled",i._disableScrollAfter),Pe("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},directives:[Fo,Qm,bO],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),t})(),N7=0;class P7{}const x7=Gc(ef(class{constructor(t){this._elementRef=t}}),"primary");let k7=(()=>{class t extends x7{constructor(e,i,r,s){var o;super(e),this._changeDetectorRef=i,this._animationMode=s,this._tabs=new Ua,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=h.EMPTY,this._tabLabelSubscription=h.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new et,this.focusChange=new et,this.animationDone=new et,this.selectedTabChange=new et(!0),this._groupId=N7++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=null!==(o=null==r?void 0:r.contentTabIndex)&&void 0!==o?o:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=cn(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=Vs(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=Vs(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,s)=>r.isActive=s===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let r;for(let s=0;s<i.length;s++)if(i[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,r=i[s];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(yi(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new P7;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=hn(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){e.disabled||(this.selectedIndex=i.focusIndex=r)}_getTabIndex(e,i){var r;return e.disabled?null:i===(null!==(r=this._lastFocusedTabIndex)&&void 0!==r?r:this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(Cn),X(DO,8),X(ei,8))},t.\u0275dir=Ue({type:t,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[st]}),t})(),F7=(()=>{class t extends k7{constructor(e,i,r,s){super(e,i,r,s)}}return t.\u0275fac=function(e){return new(e||t)(X(ht),X(Cn),X(DO,8),X(ei,8))},t.\u0275cmp=Ht({type:t,selectors:[["mat-tab-group"]],contentQueries:function(e,i,r){if(1&e&&Rn(r,SO,5),2&e){let s;gt(s=_t())&&(i._allTabs=s)}},viewQuery:function(e,i){if(1&e&&(Zt(d7,5),Zt(h7,5)),2&e){let r;gt(r=_t())&&(i._tabBodyWrapper=r.first),gt(r=_t())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&Nt("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[Gt([{provide:TO,useExisting:t}]),st],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,i){1&e&&(Se(0,"mat-tab-header",0,1),Ke("indexFocused",function(s){return i._focusChanged(s)})("selectFocusedIndex",function(s){return i.selectedIndex=s}),Je(2,_7,5,15,"div",2),we(),Se(3,"div",3,4),Je(5,m7,1,10,"mat-tab-body",5),we()),2&e&&(Pe("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),Oe(2),Pe("ngForOf",i._tabs),Oe(1),Nt("_mat-animation-noopable","NoopAnimations"===i._animationMode),Oe(2),Pe("ngForOf",i._tabs))},directives:[O7,wO,yo,IO,Fo,t$,Bd,Fi,Ao],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})(),L7=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[Dr,tn,Dh,tf,Oh,Jm],tn]}),t})(),U7=(()=>{class t{constructor(e){this._host=e,Ch.schedule(()=>this._host.nativeElement.focus())}}return t.\u0275fac=function(e){return new(e||t)(X(ht))},t.\u0275dir=Ue({type:t,selectors:[["","appAutoFocus",""]]}),t})();function B7(t,n){if(1&t){const e=bn();Se(0,"button",12),Ke("click",function(){return zt(e),Qe().onSubscribe()}),Le(1,"Subscribe"),we()}2&t&&Pe("disabled",Qe().form.invalid)}function V7(t,n){if(1&t){const e=bn();Se(0,"button",13),Ke("click",function(){return zt(e),Qe().onUnsubscribe()}),Le(1,"Unsubscribe"),we()}2&t&&Pe("disabled",Qe().form.invalid)}function H7(t,n){if(1&t){const e=bn();Se(0,"app-message-list-item",14),Ke("reply",function(){const s=zt(e).$implicit;return Qe().onReply(s.message)})("delete",function(){const s=zt(e).$implicit;return Qe().onDelete(s)}),we()}2&t&&Pe("envelope",n.$implicit)}function $7(t,n){if(1&t){const e=bn();Se(0,"button",15),Ke("click",function(){return zt(e),Qe().onClear()}),Le(1,"Clear messages"),we()}}function G7(t,n){if(1&t&&(Se(0,"section",16),Le(1),we()),2&t){const e=Qe();Oe(1),Rs(" ",e.subscribeError," ")}}const wE="destination",DE="destinationType",qo="subscription",Lf="followTail";let j7=(()=>{class t{constructor(e,i){this._solaceMessageClient=e,this._cd=i,this.DESTINATION=wE,this.DESTINATION_TYPE=DE,this.SUBSCRIPTION=qo,this.FOLLOW_TAIL=Lf,this.subscribeError=null,this.envelopes=[],this.tooltips={topic:"Subscribes to messages published to the given topic.",queue:"Subscribes for messages sent to the given durable queue. The queue needs to be administratively configured on the broker.",topicEndpoint:"Subscribes to a non-durable topic endpoint (similar to a queue) that subscribes to the given topic destination. The topic endpoint needs NOT to be configured on the broker.\n\n                    Unlike a durable endpoint, the lifecycle of a non-durable endpoint (also known as a private, temporary endpoint) is bound to the client that created it, with an additional 60s in case of unexpected disconnect.\n\n                    Topic endpoints in particular are useful for not losing messages in the event of short connection interruptions as messages are retained on the broker until they are consumed.",queueBrowser:"Browses messages in a queue, without removing/consuming the messages."},this._subscription=null,this._destroy$=new le,this.SubscriptionDestinationType=$i,this.form=new Us({[qo]:new Us({[wE]:new So("",rr.required),[DE]:new So($i.TOPIC,rr.required)}),[Lf]:new So(!0)}),this.installFollowTailListener()}onSubscribe(){this.form.get(qo).disable(),this.subscribeError=null;const e=this.form.get([qo,wE]).value,i=this.form.get([qo,DE]).value;try{const r=(()=>{switch(i){case $i.TOPIC:return this._solaceMessageClient.observe$(e);case $i.QUEUE:return this._solaceMessageClient.consume$({queueDescriptor:new xe.QueueDescriptor({type:xe.QueueType.QUEUE,name:e}),queueProperties:void 0});case $i.TOPIC_ENDPOINT:return this._solaceMessageClient.consume$(e);case $i.QUEUE_BROWSER:return this._solaceMessageClient.browse$(e);default:throw Error(`[UnsupportedDestinationError] Expected '${$i.TOPIC}', '${$i.QUEUE}', '${$i.TOPIC_ENDPOINT}', or '${$i.QUEUE_BROWSER}', but was ${i}`)}})();this._subscription=r.pipe(pc(()=>this.form.get(qo).enable()),at(this._destroy$)).subscribe({next:s=>{this.envelopes=this.envelopes.concat(s),this.form.get(Lf).value&&(this._cd.detectChanges(),this.scrollToEnd())},error:s=>this.subscribeError=`${s}`})}catch(r){this.form.get(qo).enable(),this.subscribeError=`${r}`}}onUnsubscribe(){var e;null===(e=this._subscription)||void 0===e||e.unsubscribe(),this._subscription=null}onClear(){this.envelopes=[]}onDelete(e){this.envelopes=this.envelopes.filter(i=>i!==e)}onReply(e){this._solaceMessageClient.reply(e,"this is a reply").catch(i=>this.subscribeError=`${i}`)}get isSubscribed(){var e;return null!==(e=this._subscription&&!this._subscription.closed)&&void 0!==e&&e}scrollToEnd(){this._viewport.scrollTop=this._viewport.scrollHeight}installFollowTailListener(){this.form.get(Lf).valueChanges.pipe(Dn(Boolean),at(this._destroy$)).subscribe(()=>{this.scrollToEnd()})}ngOnDestroy(){this._destroy$.next()}}return t.\u0275fac=function(e){return new(e||t)(X(ll),X(Cn))},t.\u0275cmp=Ht({type:t,selectors:[["app-subscriber"]],viewQuery:function(e,i){if(1&e&&Zt(eu,7),2&e){let r;gt(r=_t())&&(i._viewport=r.first)}},decls:27,vars:18,consts:[[3,"formGroup"],[1,"subscription",3,"formGroupName"],["matInput","","appAutoFocus","",3,"formControlName"],[3,"formControlName"],["matTooltipClass","large",3,"value","matTooltip"],["mat-stroked-button","","color","primary","class","subscribe",3,"disabled","click",4,"ngIf"],["mat-stroked-button","","color","primary","class","unsubscribe",3,"disabled","click",4,"ngIf"],[1,"messages"],[3,"envelope","reply","delete",4,"ngFor","ngForOf"],["color","primary",1,"follow-tail",3,"formControlName"],["mat-stroked-button","",3,"click",4,"ngIf"],["class","error",4,"ngIf"],["mat-stroked-button","","color","primary",1,"subscribe",3,"disabled","click"],["mat-stroked-button","","color","primary",1,"unsubscribe",3,"disabled","click"],[3,"envelope","reply","delete"],["mat-stroked-button","",3,"click"],[1,"error"]],template:function(e,i){1&e&&(Er(0,0),Se(1,"section",1)(2,"mat-form-field")(3,"mat-label"),Le(4,"Destination"),we(),Lt(5,"input",2),we(),Se(6,"mat-form-field")(7,"mat-label"),Le(8,"Destination Type"),we(),Se(9,"mat-select",3)(10,"mat-option",4),Le(11,"Topic"),we(),Se(12,"mat-option",4),Le(13,"Queue"),we(),Se(14,"mat-option",4),Le(15,"Topic Endpoint"),we(),Se(16,"mat-option",4),Le(17,"Queue Browser"),we()()(),Je(18,B7,2,1,"button",5),Je(19,V7,2,1,"button",6),we(),Se(20,"sci-viewport",7),Je(21,H7,1,1,"app-message-list-item",8),we(),Se(22,"mat-checkbox",9),Le(23,"Follow tail"),we(),Se(24,"footer"),Je(25,$7,2,0,"button",10),Je(26,G7,2,1,"section",11),we(),br()),2&e&&(Pe("formGroup",i.form),Oe(1),Pe("formGroupName",i.SUBSCRIPTION),Oe(4),Pe("formControlName",i.DESTINATION),Oe(4),Pe("formControlName",i.DESTINATION_TYPE),Oe(1),Pe("value",i.SubscriptionDestinationType.TOPIC)("matTooltip",i.tooltips.topic),Oe(2),Pe("value",i.SubscriptionDestinationType.QUEUE)("matTooltip",i.tooltips.queue),Oe(2),Pe("value",i.SubscriptionDestinationType.TOPIC_ENDPOINT)("matTooltip",i.tooltips.topicEndpoint),Oe(2),Pe("value",i.SubscriptionDestinationType.QUEUE_BROWSER)("matTooltip",i.tooltips.queueBrowser),Oe(2),Pe("ngIf",!i.isSubscribed),Oe(1),Pe("ngIf",i.isSubscribed),Oe(2),Pe("ngForOf",i.envelopes),Oe(1),Pe("formControlName",i.FOLLOW_TAIL),Oe(3),Pe("ngIf",i.envelopes.length),Oe(1),Pe("ngIf",i.subscribeError))},directives:[lh,Bs,mh,af,Wc,zc,ks,U7,Ya,Oc,xy,nf,jy,Fi,ps,eu,yo,mO,df],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;margin-top:3em}[_nghost-%COMP%] > section.subscription[_ngcontent-%COMP%]{flex:none;display:grid;grid-template-columns:1fr auto;grid-column-gap:2em;column-gap:2em}[_nghost-%COMP%] > section.subscription[_ngcontent-%COMP%] > button.subscribe[_ngcontent-%COMP%], [_nghost-%COMP%] > section.subscription[_ngcontent-%COMP%] > button.unsubscribe[_ngcontent-%COMP%]{grid-column:1/-1}[_nghost-%COMP%] > sci-viewport.messages[_ngcontent-%COMP%]{flex:1 1 0;--sci-viewport-content-grid-auto-rows: max-content;--sci-viewport-content-grid-gap: 1em 0;min-height:20em}[_nghost-%COMP%] > sci-viewport.messages[_ngcontent-%COMP%]   app-message-list-item[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%] > mat-checkbox.follow-tail[_ngcontent-%COMP%]{flex:none;margin-bottom:1em;align-self:flex-end}[_nghost-%COMP%] > footer[_ngcontent-%COMP%]{flex:none;display:grid;grid-auto-rows:auto;grid-row-gap:1em;row-gap:1em}[_nghost-%COMP%] > footer[_ngcontent-%COMP%] > section.error[_ngcontent-%COMP%]{border:1px solid #f44336;background-color:#ffcdd2;border-radius:3px;padding:1em}  .mat-tooltip.large{white-space:pre-line;font-size:larger}"]}),t})();var $i=(()=>(function(t){t.QUEUE="QUEUE",t.TOPIC="TOPIC",t.TOPIC_ENDPOINT="TOPIC_ENDPOINT",t.QUEUE_BROWSER="QUEUE_BROWSER"}($i||($i={})),$i))();function W7(t,n){if(1&t){const e=bn();Se(0,"div",8),Ke("mousedown",function(r){zt(e);const s=Qe().$implicit;return Qe(2).onTabMouseDown(r,s)}),Se(1,"input",9),Ke("ngModelChange",function(r){return zt(e),Qe().$implicit.name=r}),we(),Se(2,"button",10),Ke("click",function(){zt(e);const r=Qe().$implicit;return Qe(2).onSubscriptionDelete(r)}),Se(3,"mat-icon"),Le(4,"close"),we()()()}if(2&t){const e=Qe().$implicit;Oe(1),ho("width",e.name.length/2,"em"),Pe("ngModel",e.name)}}function z7(t,n){1&t&&(Se(0,"mat-tab"),Je(1,W7,5,3,"ng-template",7),Se(2,"sci-viewport"),Lt(3,"app-subscriber"),we()())}function q7(t,n){if(1&t){const e=bn();Se(0,"mat-tab-group",5),Ke("selectedIndexChange",function(r){return zt(e),Qe().selectedTabIndex=r}),Je(1,z7,4,0,"mat-tab",6),we()}if(2&t){const e=Qe();Pe("selectedIndex",e.selectedTabIndex),Oe(1),Pe("ngForOf",e.subscriptions)}}let Y7=(()=>{class t{constructor(){this.subscriptions=[]}onSubscriptionAdd(){const e=this.subscriptions.filter(r=>r.name.startsWith("Subscription")).length;this.subscriptions.push({name:0===e?"Subscription":`Subscription (${e+1})`}),this.selectedTabIndex=this.subscriptions.length-1}onSubscriptionDelete(e){this.deleteSubscription(e)}onTabMouseDown(e,i){1===e.button&&(this.deleteSubscription(i),e.preventDefault())}deleteSubscription(e){Jc.remove(this.subscriptions,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["app-subscribers"]],decls:14,vars:1,consts:[[1,"title"],[1,"sub-title"],[1,"divider"],["mat-fab","","color","primary","matTooltip","Click to add a subscription",1,"add",3,"click"],["animationDuration","0ms",3,"selectedIndex","selectedIndexChange",4,"ngIf"],["animationDuration","0ms",3,"selectedIndex","selectedIndexChange"],[4,"ngFor","ngForOf"],["mat-tab-label",""],[1,"tab",3,"mousedown"],["matInput","",1,"tab-name",3,"ngModel","ngModelChange"],["mat-icon-button","",1,"delete",3,"click"]],template:function(e,i){1&e&&(Se(0,"mat-card")(1,"mat-card-header")(2,"header")(3,"span",0),Le(4,"Subscribers"),we(),Se(5,"span",1),Le(6,"Subscribe to a topic or queue to receive messages published to that destination."),we()(),Se(7,"div",2),Lt(8,"mat-divider"),Se(9,"button",3),Ke("click",function(){return i.onSubscriptionAdd()}),Se(10,"mat-icon"),Le(11,"add"),we()()()(),Se(12,"mat-card-content"),Je(13,q7,2,2,"mat-tab-group",4),we()()),2&e&&(Oe(13),Pe("ngIf",i.subscriptions.length))},directives:[Py,T6,Jq,ps,jy,Ef,Ny,Fi,F7,yo,SO,v7,zc,ks,Ya,bm,eu,j7],styles:["[_nghost-%COMP%]{display:grid;margin:.25em}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-header[_ngcontent-%COMP%]{flex:none;display:flex;flex-direction:column}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-header[_ngcontent-%COMP%] > header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:2em}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-header[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > span.title[_ngcontent-%COMP%]{font-size:20px;margin-bottom:.25em}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-header[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > span.sub-title[_ngcontent-%COMP%]{font-size:15px;color:#0000008a}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-header[_ngcontent-%COMP%] > div.divider[_ngcontent-%COMP%]{display:grid;align-items:center;position:relative;margin-bottom:2em}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-header[_ngcontent-%COMP%] > div.divider[_ngcontent-%COMP%] > mat-divider[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-header[_ngcontent-%COMP%] > div.divider[_ngcontent-%COMP%] > button[mat-fab].add[_ngcontent-%COMP%]{justify-self:center}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%]{flex:auto;position:relative}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > mat-tab-group[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > mat-tab-group[_ngcontent-%COMP%]   div.tab[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > mat-tab-group[_ngcontent-%COMP%]   div.tab[_ngcontent-%COMP%] > input.tab-name[_ngcontent-%COMP%]{cursor:default}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > mat-tab-group[_ngcontent-%COMP%]   div.tab[_ngcontent-%COMP%] > button.delete[_ngcontent-%COMP%]{line-height:1}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > mat-tab-group[_ngcontent-%COMP%]   div.tab[_ngcontent-%COMP%]:not(:hover) > button.delete[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > mat-tab-group[_ngcontent-%COMP%]     .mat-tab-body-wrapper{flex:auto}[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%] > mat-card-content[_ngcontent-%COMP%] > mat-tab-group[_ngcontent-%COMP%]     .mat-tab-body-wrapper   .mat-tab-body-content{display:grid}"]}),t})();function Q7(t,n){1&t&&cd(0)}function K7(t,n){if(1&t){const e=bn();Se(0,"button",9),Ke("click",function(){return zt(e),Qe().onDisconnect()}),Se(1,"mat-icon"),Le(2,"wifi"),we()()}}function X7(t,n){if(1&t){const e=bn();Se(0,"button",10),Ke("click",function(){return zt(e),Qe().onConnect()}),Se(1,"mat-icon"),Le(2,"wifi_off"),we()()}}function Z7(t,n){if(1&t){const e=bn();Se(0,"button",11),Ke("click",function(){return zt(e),Qe().onUpdateAccessToken()}),Se(1,"mat-icon",12),Le(2,"pin"),we()()}}function J7(t,n){1&t&&Lt(0,"app-publisher")}function eY(t,n){1&t&&Lt(0,"app-subscribers")}function tY(t,n){if(1&t&&Le(0),2&t){const e=Qe();Pg(" Connected to ",e.sessionConfig.url," / ",e.sessionConfig.vpnName,"\n")}}function nY(t,n){1&t&&Le(0," Disconnected from the Solace Message Broker\n")}const iY=[{path:"login",component:rj},{path:"",canActivate:[(()=>{class t{constructor(e){this._router=e}canActivate(e,i){return!Yc.empty()||this._router.createUrlTree(["/login"])}}return t.\u0275fac=function(e){return new(e||t)(ve(Ei))},t.\u0275prov=Ve({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()],component:(()=>{class t{constructor(e,i,r,s){this.solaceMessageClient=e,this._snackBar=i,this._locationService=r,this._matDialog=s,this.AuthenticationScheme=xe.AuthenticationScheme,this.sessionConfig=Yc.load()}onLoginPage(){this._locationService.navigateToAppRoot({clearConnectProperties:!0})}onDisconnect(){this.solaceMessageClient.disconnect().then()}onConnect(){this.solaceMessageClient.connect(this.sessionConfig).then(()=>console.log("Connected to Solace message broker"),e=>console.error("Failed to connect to Solace message broker",e))}onSessionPropertiesOpen(){this._snackBar.openFromComponent(Hj,{data:this.sessionConfig,verticalPosition:"top",panelClass:"session-properties"})}onUpdateAccessToken(){this._matDialog.open(KA)}}return t.\u0275fac=function(e){return new(e||t)(X(ll),X(uM),X(XA),X(rf))},t.\u0275cmp=Ht({type:t,selectors:[["app-try-me"]],decls:20,vars:16,consts:[["title","Click to see session properties",1,"connection-state",3,"click"],[4,"ngIf","ngIfThen","ngIfElse"],["mat-stroked-button","","matTooltip","Disconnect",3,"click",4,"ngIf"],["mat-stroked-button","","matTooltip","Connect",3,"click",4,"ngIf"],["mat-stroked-button","",3,"click",4,"ngIf"],["mat-stroked-button","","matTooltip","Go to the login page",3,"click"],["sciSash",""],["connected_template",""],["disconnected_template",""],["mat-stroked-button","","matTooltip","Disconnect",3,"click"],["mat-stroked-button","","matTooltip","Connect",3,"click"],["mat-stroked-button","",3,"click"],["matTooltip","Provide OAuth 2.0 access token",1,"material-icons-outlined"]],template:function(e,i){if(1&e&&(Se(0,"header")(1,"div",0),Ke("click",function(){return i.onSessionPropertiesOpen()}),ki(2,"async"),Je(3,Q7,1,0,"ng-container",1),ki(4,"async"),we(),Je(5,K7,3,0,"button",2),ki(6,"async"),Je(7,X7,3,0,"button",3),ki(8,"async"),Je(9,Z7,3,0,"button",4),Se(10,"button",5),Ke("click",function(){return i.onLoginPage()}),Se(11,"mat-icon"),Le(12,"login"),we()()(),Se(13,"sci-sashbox"),Je(14,J7,1,0,"ng-template",6),Je(15,eY,1,0,"ng-template",6),we(),Je(16,tY,1,2,"ng-template",null,7,bd),Je(18,nY,1,0,"ng-template",null,8,bd)),2&e){const r=Ur(17),s=Ur(19);Oe(1),Nt("connected",Zi(2,8,i.solaceMessageClient.connected$)),Oe(2),Pe("ngIf",Zi(4,10,i.solaceMessageClient.connected$))("ngIfThen",r)("ngIfElse",s),Oe(2),Pe("ngIf",Zi(6,12,i.solaceMessageClient.connected$)),Oe(2),Pe("ngIf",!1===Zi(8,14,i.solaceMessageClient.connected$)),Oe(2),Pe("ngIf",i.sessionConfig.authenticationScheme===i.AuthenticationScheme.OAUTH2)}},directives:[Fi,ps,jy,Ef,DW,BM,Zq,Y7],pipes:[dc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%] > header[_ngcontent-%COMP%]{flex:none;display:flex;gap:.5em;justify-content:flex-end}[_nghost-%COMP%] > header[_ngcontent-%COMP%] > div.connection-state[_ngcontent-%COMP%]{border-radius:3px;padding:.25em 1em;text-align:center;display:flex;align-items:center;cursor:pointer}[_nghost-%COMP%] > header[_ngcontent-%COMP%] > div.connection-state.connected[_ngcontent-%COMP%]{border:1px solid #24be6f;background-color:#caffe6}[_nghost-%COMP%] > header[_ngcontent-%COMP%] > div.connection-state[_ngcontent-%COMP%]:not(.connected){border:1px solid #f44336;background-color:#ffcdd2}[_nghost-%COMP%] > sci-sashbox[_ngcontent-%COMP%]{flex:1 1 0;margin-top:5em}"]}),t})()}];let rY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t}),t.\u0275inj=Tt({imports:[[eD.forRoot(iY,{useHash:!0})],eD]}),t})(),sY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Ht({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&Lt(0,"router-outlet")},directives:[X_],styles:["[_nghost-%COMP%]{display:grid;position:absolute;top:0;right:0;bottom:0;left:0}[_nghost-%COMP%] > router-outlet[_ngcontent-%COMP%]{position:absolute}"]}),t})(),oY=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Dt({type:t,bootstrap:[sY]}),t.\u0275inj=Tt({providers:[{provide:zA,useValue:{floatLabel:"always",appearance:"outline"}}],imports:[[Dr,j0,tG,rY,sI,EH,sW.forRoot(Yc.load()),yj,QA,tj,lf,Bj,h6,j6,lM,S6,GW,AW,L7,e7,mW,FG,Jm]]}),t})();(function H2(){JS=!1})(),KB().bootstrapModule(oY).catch(t=>console.error(t))},904:function(gl){gl.exports=(()=>{var _l={6010:(E,B,c)=>{E.exports=c(3987)},840:(E,B,c)=>{const{Base64:h}=c(7791),{Bits:_}=c(1531),{Convert:f}=c(3087),{Hex:m}=c(8586),{Long:b}=c(559);E.exports.Base64=h,E.exports.Bits=_,E.exports.Convert=f,E.exports.Hex=m,E.exports.Long=b},7791:(E,B,c)=>{var h=c(8764).Buffer;const _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,99,-1,-1,99,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,99,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];class m extends Error{}const b={base64_encode(D){let A="",I=0;do{const S=D.charCodeAt(I++),M=D.charCodeAt(I++),F=D.charCodeAt(I++),N=S>>2,q=(3&S)<<4|M>>4;let H=(15&M)<<2|F>>6,G=63&F;isNaN(M)?H=G=64:isNaN(F)&&(G=64),A+=_.charAt(N),A+=_.charAt(q),A+=_.charAt(H),A+=_.charAt(G)}while(I<D.length);return A},base64_decode(D){let A="",I=0;do{for(;f[D.charCodeAt(I)]>64;)I++;const S=f[D.charCodeAt(I++)],M=f[D.charCodeAt(I++)],F=f[D.charCodeAt(I++)],N=f[D.charCodeAt(I++)];if(S<0||M<0||F<0||N<0)throw new m("Invalid base64 character");const H=(15&M)<<4|F>>2,G=(3&F)<<6|N;A+=String.fromCharCode(S<<2|M>>4),64!==F&&(A+=String.fromCharCode(H)),64!==N&&(A+=String.fromCharCode(G))}while(I<D.length-3);return A}},p="undefined"==typeof window,v="undefined"!=typeof Blob,g=void 0!==h&&(v||p)?{base64_encode:D=>h.from(D,"binary").toString("base64"),base64_decode:D=>h.from(D,"base64").toString("binary")}:{},w="undefined"!=typeof window?{base64_encode:window.btoa?D=>window.btoa(D):null,base64_decode:window.atob?D=>window.atob(D):null}:{};E.exports.Base64={encode:w.base64_encode||g.base64_encode||b.base64_encode,decode:w.base64_decode||g.base64_decode||b.base64_decode}},1531:E=>{E.exports.Bits={get:(c,h,_)=>c>>>h&(1<<_)-1,set(c,h,_,f){const m=(1<<f)-1;return c&~(m<<_)|(h&m)<<_}}},3087:(E,B,c)=>{const h=c(1583),{ErrorSubcode:_,OperationError:f}=c(3870),m=c(8764).Buffer,b=String.fromCharCode(0,0),p=String.fromCharCode(0,0,0),v=String.fromCharCode(0,0,0,0),g=8192,w=32768;function C(S){const M=S.length,F=new ArrayBuffer(M),N=new Uint8Array(F,0,M);for(let q=0;q<M;q++)N[q]=S.charCodeAt(q);return N}function D(S){if(0===S)return v;if(S>0){if(S<256)return p+String.fromCharCode(S);if(S<65536)return b+String.fromCharCode(S>>8)+String.fromCharCode(255&S)}return String.fromCharCode(S>>24&255)+String.fromCharCode(S>>16&255)+String.fromCharCode(S>>8&255)+String.fromCharCode(255&S)}function A(S){return 16777216*S.charCodeAt(0)+(S.charCodeAt(1)<<16)+(S.charCodeAt(2)<<8)+S.charCodeAt(3)}E.exports.Convert={arrayBufferToString:function(S){if(!S)return"";const M=S.byteLength,F=new Uint8Array(S);if(M<w)return String.fromCharCode.apply(null,F);let N=0,q="";for(;N<M;)q+=String.fromCharCode.apply(null,F.subarray(N,N+w)),N+=w;return q},stringToArrayBuffer:function(S){return C(S).buffer},stringToUint8Array:C,int8ToStr:function(S){return String.fromCharCode(255&S)},strToInt8:function(S){return 255&S.charCodeAt(0)},int16ToStr:function(S){return String.fromCharCode(S>>8&255)+String.fromCharCode(255&S)},strToInt16:function(S){return(S.charCodeAt(0)<<8)+S.charCodeAt(1)},int24ToStr:function(S){return String.fromCharCode(S>>16&255)+String.fromCharCode(S>>8&255)+String.fromCharCode(255&S)},strToInt24:function(S){return(S.charCodeAt(0)<<16)+(S.charCodeAt(1)<<8)+S.charCodeAt(2)},int32ToStr:D,strToInt32:function(S){return(S.charCodeAt(0)<<24)+(S.charCodeAt(1)<<16)+(S.charCodeAt(2)<<8)+S.charCodeAt(3)},strToUInt32:A,int64ToStr:function(S){if("number"!=typeof S)return D(S.high)+D(S.low);if(S>=0){if(S<256)return v+p+String.fromCharCode(S);if(S<65536)return v+b+String.fromCharCode(S>>8)+String.fromCharCode(255&S);if(S<4294967296)return v+(String.fromCharCode(S>>24&255)+String.fromCharCode(S>>16&255)+String.fromCharCode(S>>8&255)+String.fromCharCode(255&S))}return String.fromCharCode(S>>56&255)+String.fromCharCode(S>>48&255)+String.fromCharCode(S>>40&255)+String.fromCharCode(S>>32&255)+String.fromCharCode(S>>24&255)+String.fromCharCode(S>>16&255)+String.fromCharCode(S>>8&255)+String.fromCharCode(255&S)},strToUInt64:function(S){return h.fromBits(A(S.substr(4,4)),A(S.substr(0,4)),!0)},byteArrayToStr:function(S){const M=S.length;if(M<g)return String.fromCharCode.apply(null,S);let F=0,N="";for(;F<M;)N+=String.fromCharCode.apply(null,S.slice(F,F+g)),F+=g;return N},strToByteArray:function(S){const M=[];let F;for(F=0;F<S.length;F++)M[F]=S.charCodeAt(F);return M},strToHexArray:function(S){return Array.prototype.map.call(S.split(""),function(M){return M.charCodeAt(0).toString(16)})},ucs2ToUtf8:function(S){return unescape(encodeURIComponent(S))},utf8ToUcs2:function(S){return decodeURIComponent(escape(S))},anythingToBuffer:function(S){if(m.isBuffer(S))return S;if("string"==typeof S)return m.from(S,"latin1");if(S instanceof ArrayBuffer)return m.from(S);if(S.buffer instanceof ArrayBuffer&&"number"==typeof S.byteLength&&"number"==typeof S.byteOffset)return 0===S.byteOffset&&S.byteLength===S.buffer.byteLength?m.from(S.buffer):m.from(S.buffer,S.byteOffset,S.byteLength);throw new f("Parameter value failed validation",_.PARAMETER_OUT_OF_RANGE,"Expecting Buffer/Uint8Array, also accepting string, ArrayBuffer, any TypedArray, or DataView.")}}},8586:E=>{function B(h){if("number"!=typeof h)return"";const _=h.toString(16);return _.length<2?`0${_}`:_}E.exports.Hex={formatHexString:function(h){return"number"==typeof h?`0x${B(h)}`:"object"==typeof h&&Array.isArray(h)?h.map(B).join():"string"==typeof h?Array.prototype.map.call(h,(_,f)=>B(h.charCodeAt(f))).join(""):null}}},559:(E,B,c)=>{E.exports.Long=c(1583)},9850:(E,B,c)=>{const h=c(840),_=c(1880),f=c(3170),m=c(3870),b=c(9359),p=c(828),v=c(8535),g=c(390),w=c(4789),C=c(6780),D=c(7252),A=c(5594),I=c(7291),S=c(1843),M=c(5470),F=c(3147),N=c(7882),q=c(2201);E.exports={Convert:h,Debug:_,Destination:f,Error:m,ESKit:b,Factory:p,FSM:v,Log:g,Message:w,Publisher:C,SDT:D,Session:A,SMF:I,SolcacheSession:S,TestEnv:M,Transport:F,Util:N,Validate:q}},3987:(E,B,c)=>{const h=c(828),{SolclientFactory:_,SolclientFactoryProfiles:f,SolclientFactoryProperties:m}=h,{Long:b}=c(840),{Destination:p,DestinationType:v,Topic:g}=c(3170),{ErrorSubcode:w,NotImplementedError:C,OperationError:D,RequestError:A,RequestEventCode:I}=c(3870),{makeIterator:S}=c(9359),{ConsoleLogImpl:M,LogImpl:F,LogLevel:N}=c(390),{Message:q,MessageCacheStatus:H,MessageDeliveryModeType:G,MessageDumpFlag:te,MessageType:Z,MessageUserCosType:j,ReplicationGroupMessageId:Q}=c(4789),{MessageConsumer:V,MessageConsumerAcknowledgeMode:ie,MessageConsumerEventName:z,MessageConsumerProperties:ne,QueueBrowser:T,QueueBrowserEventName:$,QueueBrowserProperties:U}=c(4858),{ReplayStartLocation:W,ReplayStartLocationBeginning:se}=c(2604),{MessagePublisherAcknowledgeMode:le,MessagePublisherProperties:Me}=c(6780),{AbstractQueueDescriptor:Ee,QueueAccessType:ye,QueueDescriptor:ue,QueueDiscardBehavior:_e,QueuePermissions:de,QueueProperties:k,QueueType:J}=c(5754),{SDTField:fe,SDTFieldType:pe,SDTMapContainer:Y,SDTStreamContainer:Fe,SDTUnsupportedValueError:Be,SDTValueErrorSubcode:Ye}=c(7252),{AuthenticationScheme:ae,CapabilityType:oe,MessageRxCBInfo:be,MutableSessionProperty:y,Session:O,SessionEvent:x,SessionEventCBInfo:ee,SessionEventCode:re,SessionProperties:me,SessionState:Ae,SslDowngrade:Ce}=c(5594),{CacheCBInfo:Ne,CacheLiveDataAction:$e,CacheRequestResult:Ze,CacheReturnCode:lt,CacheReturnSubcode:Gn,CacheSession:Di,CacheSessionProperties:Jr}=c(1843),{StatType:Re}=c(6818),{TransportError:dt,TransportProtocol:pt}=c(3147),{Version:nn}=c(7882),_n={AbstractQueueDescriptor:Ee,AuthenticationScheme:ae,CacheCBInfo:Ne,CacheLiveDataAction:$e,CacheRequestResult:Ze,CacheReturnCode:lt,CacheReturnSubcode:Gn,CacheSession:Di,CacheSessionProperties:Jr,CapabilityType:oe,ConsoleLogImpl:M,Destination:p,DestinationType:v,ErrorSubcode:w,LogImpl:F,LogLevel:N,Long:b,Message:q,MessageCacheStatus:H,MessageConsumer:V,MessageConsumerAcknowledgeMode:ie,MessageConsumerEventName:z,MessageConsumerProperties:ne,MessageDeliveryModeType:G,MessageDumpFlag:te,MessagePublisherAcknowledgeMode:le,MessagePublisherProperties:Me,MessageRxCBInfo:be,MessageType:Z,MessageUserCosType:j,MutableSessionProperty:y,NotImplementedError:C,OperationError:D,QueueAccessType:ye,QueueBrowser:T,QueueBrowserEventName:$,QueueBrowserProperties:U,QueueDescriptor:ue,QueueDiscardBehavior:_e,QueuePermissions:de,QueueProperties:k,QueueType:J,ReplayStartLocation:W,ReplayStartLocationBeginning:se,ReplicationGroupMessageId:Q,RequestError:A,RequestEventCode:I,SDTField:fe,SDTFieldType:pe,SDTMapContainer:Y,SDTStreamContainer:Fe,SDTUnsupportedValueError:Be,SDTValueErrorSubcode:Ye,Session:O,SessionEvent:x,SessionEventCBInfo:ee,SessionEventCode:re,SessionProperties:me,SessionState:Ae,SolclientFactory:_,SolclientFactoryProfiles:f,SolclientFactoryProperties:m,SslDowngrade:Ce,StatType:Re,Topic:g,TransportError:dt,TransportProtocol:pt,Version:nn,makeIterator:S,_internal:c(9850)};Object.assign(E.exports,_n)},1880:(E,B,c)=>{const{Debug:h}=c(4092);E.exports.Debug=h},4092:(E,B,c)=>{const h=(()=>{const f=[];for(let m=0;m<256;++m)f[m]=m<33||m>126?".":String.fromCharCode(m);return f})();E.exports.Debug={formatDumpBytes:function(f,m,b){const{StringBuffer:p,StringUtils:v}=c(7882),{isEmpty:g,padLeft:w,padRight:C}=v;if(g(f))return null;const D=new p,A=new p,I=new p;let S=0;for(let M=0,F=f.length;M<F;++M){const N=f.charCodeAt(M);I.append(w(N.toString(16),2,"0")," "),A.append(h[N]||"."),S++,8===S&&I.append("   "),16!==S&&M!==f.length-1||(b>0&&D.append(C("",b," ")),D.append(C(I.toString(),54," ")),m&&D.append(A),D.append("\n"),I.clear(),A.clear(),S=0)}return D.toString()},parseSMFStream:function(f){const{Codec:{Decode:{decodeCompoundMessage:m}}}=c(7291),{LOG_WARN:b,LOG_ERROR:p}=c(390);if(null===f)return void p("data null in debugParseSmfStream");let v=0;for(b(`parseSMFStream(): Starting parse, length ${f.length}`);v<f.length;){const g=m(f,v),w=g?g.smfHeader:null;if(!g||!w)return b("parseSMFStream(): couldn't decode message."),void b(`Position: ${v} length: ${f.length}`);b(`>> Pos(${v}) Protocol ${w.smf_protocol}, Length: ${w.messageLength}`),v+=w.messageLength}}}},3170:(E,B,c)=>{const{Destination:h}=c(6798),{DestinationFromNetwork:_}=c(5527),{DestinationType:f}=c(7691),{DestinationUtil:m}=c(7493),{Parameter:b}=c(2201),{Queue:p}=c(2199),{SolclientFactory:v}=c(828),{Topic:g}=c(508);v.createTopicDestination=v.createFactory(w=>(b.isString("topicName",w),g.createFromName(w))),v.createTopic=v.createFactory(w=>new g(w)),v.createDurableQueueDestination=v.createFactory(w=>(b.isString("queueName",w),p.createFromLocalName(w))),E.exports.Destination=h,E.exports.DestinationFromNetwork=_,E.exports.DestinationType=f,E.exports.DestinationUtil=m,E.exports.Queue=p,E.exports.Topic=g},5527:(E,B,c)=>{const{DestinationType:h}=c(7691),{DestinationUtil:_}=c(7493),{Queue:f}=c(2199),{Topic:m}=c(508),b="#P2P/QUE/",p=b.length;function v(w,C){if(null===w||0===w.length)return null;const D={name:w,bytes:C||_.encodeBytes(w)};if("#"===w[0]){if(w.startsWith(b)){const A=p;return D.name=w.substr(A),D.type=h.QUEUE,D.offset=A,new f(D)}if(w.startsWith("#P2P/QTMP/"))return D.name=w,D.type=h.TEMPORARY_QUEUE,D.offset=0,new f(D)}return new m(D)}E.exports.DestinationFromNetwork={createDestinationFromBytes:function(w){return null===w||0===w.length?null:v(_.decodeBytes(w),w)},createDestinationFromName:v}},7691:(E,B,c)=>{const{Enum:h}=c(9359),_={TOPIC:"topic",QUEUE:"queue",TEMPORARY_QUEUE:"temporary_queue"};E.exports.DestinationType=h.new(_),E.exports.DestinationType._setCanonical({TOPIC:_.TOPIC,QUEUE:_.QUEUE,TEMPORARY_QUEUE:_.TEMPORARY_QUEUE})},7493:(E,B,c)=>{const h=c(828),{Convert:_}=c(840),{DestinationType:f}=c(7691),{LOG_ERROR:m}=c(390),{SubscriptionInfo:b}=c(4133),{UUID:p,StringUtils:v}=c(7882),{ucs2ToUtf8:g,utf8ToUcs2:w}=_,{ProfileBinding:C}=h,{toSafeChars:D,stripNullTerminate:A}=v,{ErrorSubcode:I,OperationError:S}=c(3870),M={[f.QUEUE]:"#P2P/QUE/",[f.TEMPORARY_QUEUE]:"#P2P/QTMP/"};function F(Z){return M[Z]||""}function N(Z,j){return new S(`Invalid ${Z}: ${j}`,I.INVALID_TOPIC_SYNTAX)}function q(Z,j,Q,V=N.bind(null,Z)){let ie;const z=Q.length;if(z<1)return ie=V("Too short (must be >= 1 character)."),{error:ie};const ne=j.length;if(ne>251)return ie=V(`Too long (encoding must be <= 250 bytes); name is ${ne-1} bytes: '${Q}'`),{error:ie};let T=!1;">"===Q.charAt(z-1)&&(T=!0);for(let $=0;$<z;++$)switch(Q.charAt($)){case"/":if(0===$||$===z-1||"/"===Q.charAt($-1))return ie=V(`Empty level(s) in '${Q}'@${$}.`),{error:ie};break;case"*":if($<z-1&&"/"!==Q.charAt($+1))return ie=V(`Illegal wildcard(s) in '${Q}'@${$}.`),{error:ie};T=!0}return{isWildcarded:T}}function H(Z){return C.value.topicUtf8Encode?`${g(Z)}\0`:`${Z}\0`}function G(Z,j){const Q=F(Z),V=Q.length,ie=Q+j;return{bytes:H(ie),offset:V,networkName:ie}}E.exports.DestinationUtil={createPrefix:F,createTemporaryName:function(Z,j,Q){const V=Q||p.generateUUID();switch(Z){case f.TOPIC:return`#P2P/TTMP/${j}/${V}`;case f.TEMPORARY_QUEUE:return`#P2P/QTMP/${j}/${V}`;default:m("Unknown/invalid destination type",f.describe(Z))}},decodeBytes:function(Z){return A(C.value.topicUtf8Encode?w(Z):Z)},encode:G,encodeBytes:H,legacyValidate:q,toSafeChars:D,validateAndEncode:function(Z,j,Q=N.bind(null,Z)){const{bytes:V,offset:ie}=G(Z,j),{error:z,isWildcarded:ne}=q(Z,V,j,Q);let T=z,$={};if($.isWildcarded=ne,T||Object.keys(M).some(U=>{const W=M[U];return!!j.startsWith(W)&&(T=Q(`Reserved prefix '${W}' found at start of '${j}'`),!0)}),!T){const{error:U,subInfo:W}=b.parseFromName(j,Z);T=U,$=W}return{bytes:V,offset:ie,error:T,isWildcarded:ne,subscriptionInfo:$}}}},6798:(E,B,c)=>{var h=c(9489);const{DestinationType:_}=c(7691),{DestinationUtil:f}=c(7493);class m{constructor(p,v=_.TOPIC){if("object"==typeof p)this._name=p.name,this._type=p.type,this._bytes=p.bytes,this._offset=p.offset,p.isValidated?(this._isValidated=!0,this._isWildcarded=p.isWildcarded,this._subscriptionInfo=p.subscriptionInfo||{}):(this._isValidated=!1,this._subscriptionInfo={});else{this._name=p,this._type=v;const g=f.encode(v,p);this._bytes=g.bytes,this._offset=g.offset,this._isValidated=!1,this._subscriptionInfo={}}}getName(){return this._name}get name(){return this.getName()}getType(){return this._type}get type(){return this.getType()}getBytes(){return this._bytes}get bytes(){return this.getBytes()}getOffset(){return this._offset}get offset(){return this.getOffset()}validate(){if(this._isValidated){if(this._error)throw this._error;return}const{error:p,isWildcarded:v}=f.legacyValidate(this.type,this.bytes,this.name);if(this._isValidated=!0,p)throw this._error=p,p;this._isWildcarded=v}isWildcarded(){return this.validate(),this._isWildcarded}getSubscriptionInfo(){return this._subscriptionInfo||{}}toString(){return h(this)}equals(p){return p instanceof m&&this.toString().valueOf()===p.toString().valueOf()}}E.exports.Destination=m},2199:(E,B,c)=>{const h=c(7493),{assert:_}=c(9359),{Destination:f}=c(6798),{DestinationType:m}=c(7691);class b extends f{constructor(v){_(v.name,"Queue name not supplied"),_(v.type===m.QUEUE||v.type===m.TEMPORARY_QUEUE,"Queue spec.type is invalid"),_(v.bytes,"Queue spec missing bytes"),_(void 0!==v.offset,"Queue spec missing offset"),super(v)}getOffset(){return this._offset}get offset(){return this.getOffset()}inspect(){return`[Queue ${this.getName()}]`}static createFromLocalName(v){const g=h.DestinationUtil.validateAndEncode(m.QUEUE,v);if(g.error)throw g.error;return new b({name:v,type:m.QUEUE,isValidated:!0,bytes:g.bytes,offset:g.offset,isWildcarded:g.isWildcarded,subscriptionInfo:g.subscriptionInfo})}}E.exports.Queue=b},4133:(E,B,c)=>{var h=c(9489);const{DestinationType:_}=c(7691),{ErrorSubcode:f,OperationError:m}=c(3870),b={[_.TOPIC]:{_layers:[function(g,w,C,D,A){const I="#noexport/",S=I.length;let M=D;return w.length-M>S&&!A.isNoExport&&w.startsWith(I,M)?(M+=S,A.isNoExport=!0):A.isNoExport=!1,{error:void 0,index:M,result:A}},function(g,w,C,D,A,I){const S="#share/",M=S.length;let N,q,H=D,G=-1;return w.length-H>M&&!A.isShare&&w.startsWith(S,D)&&w.length-(H+M)>2?(H+=M,G=H,H=w.indexOf("/",G),H>0?(q=w.substring(G,H),H+=1,A.isShare=!0,A.shareGroup=q,A.dispatchTopicIndex=H):(N=I(`Illegal share Group in '${w}'@${G}.`),A.isShare=!0)):A.isShare=!1,{error:N,index:H,result:A}}],parse:function(g,w,C,D,A){const{error:I,result:S}=function(M,F,N,q,H,G){const te=M.length||0;let Z,j=0,Q=H||{};for(let V=0;V<te;++V){const{error:ie,index:z,result:ne}=M[V](F,N,q,j,Q,G);if(j=z,Q=ne,Z=ie,Z)break}return{error:Z,result:Q}}(this._layers,g,w,C,D,A);return{error:I,result:S}}}};function p(g,w){return new m(`Invalid ${g}: ${w}`,f.INVALID_TOPIC_SYNTAX)}class v{constructor(w){this._name=w,this._isShare=!1,this._isNoExport=!1,this._dispatchTopicIndex=-1,this._shareGroup=null}getName(){return this._name}get name(){return this.getName()}get isShare(){return this._isShare}set isShare(w){this._isShare=w}get isNoExport(){return this._isNoExport}set isNoExport(w){this._isNoExport=w}get dispatchTopicIndex(){return this._dispatchTopicIndex<0?0:this._dispatchTopicIndex}set dispatchTopicIndex(w){this._dispatchTopicIndex=w<0?-1:w}get shareGroup(){return this.isShare?this._shareGroup:null}set shareGroup(w){this.isShare&&(this._shareGroup=w)}toString(){return h(this)}static parseFromName(w,C=_.TOPIC){let D=new v(w),A=null;const I=b[C];if(I){const{error:S,result:M}=I.parse(C,w,null,D,p.bind(null,C));D=M,A=S}return{error:A,subInfo:D}}}E.exports.SubscriptionInfo=v},508:(E,B,c)=>{const h=c(7493),{Destination:_}=c(6798),{DestinationType:f}=c(7691);class m extends _{constructor(p){"object"==typeof p?super({type:f.TOPIC,name:p.name,bytes:p.bytes,offset:p.offset,isValidated:p.isValidated,isWildcarded:p.isWildcarded,subscriptionInfo:p.subscriptionInfo}):super(p,f.TOPIC)}inspect(){return`[Topic ${this.getName()}]`}static createFromName(p){const v=h.DestinationUtil.validateAndEncode(f.TOPIC,p);if(v.error)throw v.error;return new m({name:p,isValidated:!0,bytes:v.bytes,offset:v.offset,isWildcarded:v.isWildcarded,subscriptionInfo:v.subscriptionInfo})}}E.exports.Topic=m},5470:(E,B,c)=>{function h(_){throw new Error("Test environment will not override build environment")}h.target=()=>h(),E.exports=h},3870:(E,B,c)=>{const{ErrorResponseSubcodeMapper:h}=c(8976),{ErrorSubcode:_}=c(2662),{NotImplementedError:f}=c(2227),{OperationError:m}=c(6177),{RequestError:b}=c(7904),{RequestEventCode:p}=c(4170),{SolaceError:v}=c(4006);E.exports.ErrorResponseSubcodeMapper=h,E.exports.ErrorSubcode=_,E.exports.NotImplementedError=f,E.exports.OperationError=m,E.exports.RequestError=b,E.exports.RequestEventCode=p,E.exports.SolaceError=v},8976:(E,B,c)=>{const{ErrorSubcode:h}=c(2662),{makeMap:_}=c(9359),f=h,m=_(400,_("client name parse error",f.CLIENT_NAME_INVALID,"document is too large",f.MESSAGE_TOO_LARGE,"inactivity timeout",f.INACTIVITY_TIMEOUT,"max num subscriptions exceeded",f.SUBSCRIPTION_TOO_MANY,"message too long",f.MESSAGE_TOO_LARGE,"nolocal discard",f.NOLOCAL_DISCARD,"not enough space",f.OUT_OF_RESOURCES,"subscription already exists",f.SUBSCRIPTION_ALREADY_PRESENT,"subscription attributes conflict with existing subscription",f.SUBSCRIPTION_ATTRIBUTES_CONFLICT,"subscription not found",f.SUBSCRIPTION_NOT_FOUND,"subscription parse error",f.SUBSCRIPTION_INVALID,"topic parse error",f.INVALID_TOPIC_SYNTAX,"unknown transport session identifier",f.UNKNOWN_TRANSPORT_SESSION_ID,"xml parse error",f.XML_PARSE_ERROR,"unsupported ssl downgrade value",f.LOGIN_FAILURE),401,_("",f.LOGIN_FAILURE),403,_("basic authentication is shutdown",f.BASIC_AUTHENTICATION_IS_SHUTDOWN,"client certificate authentication is shutdown",f.CLIENT_CERTIFICATE_AUTHENTICATION_IS_SHUTDOWN,"client name already in use",f.CLIENT_NAME_ALREADY_IN_USE,"client username is shutdown",f.CLIENT_USERNAME_IS_SHUTDOWN,"dynamic clients not allowed",f.DYNAMIC_CLIENTS_NOT_ALLOWED,"invalid virtual router address",f.INVALID_VIRTUAL_ADDRESS,"forbidden",f.CLIENT_ACL_DENIED,"message vpn not allowed",f.MESSAGE_VPN_NOT_ALLOWED,"publish acl denied",f.PUBLISH_ACL_DENIED,"replication is standby",f.REPLICATION_IS_STANDBY,"selector does not match",f.SELECTOR_DOES_NOT_MATCH,"subscription acl denied",f.SUBSCRIPTION_ACL_DENIED,"subscription does not match",f.SUBSCRIPTION_DOES_NOT_MATCH,"compression is shutdown",f.LOGIN_FAILURE,"shared subscriptions not supported on topic endpoints",f.SHARED_SUBSCRIPTIONS_ENDPOINT_NOT_ALLOWED,"shared subscriptions not supported on queues",f.SHARED_SUBSCRIPTIONS_ENDPOINT_NOT_ALLOWED,"shared subscription permission denied",f.SHARED_SUBSCRIPTIONS_NOT_ALLOWED),404,_("",f.LOGIN_FAILURE),503,_("low priority msg congestion",f.LOW_PRIORITY_MSG_CONGESTION,"message vpn unavailable",f.MESSAGE_VPN_UNAVAILABLE,"replication is standby",f.REPLICATION_IS_STANDBY,"service unavailable",f.GM_UNAVAILABLE,"spool over quota",f.SPOOL_OVER_QUOTA,"subscriber delete in progress",f.CLIENT_DELETE_IN_PROGRESS,"too many clients",f.TOO_MANY_CLIENTS,"too many connections for vpn",f.TOO_MANY_CLIENTS,"max message usage exceeded",f.MAX_MESSAGE_USAGE_EXCEEDED),507,_("ad not ready",f.GM_NOT_READY)),b=_("PARENT",m,400,_("already bound",f.ALREADY_BOUND,"endpoint already exists",f.ENDPOINT_ALREADY_EXISTS,"subscription already exists",f.SUBSCRIPTION_ALREADY_PRESENT,"already exists",f.ENDPOINT_ALREADY_EXISTS,"endpoint property mismatch",f.ENDPOINT_PROPERTY_MISMATCH,"invalid durable topic endpoint name",f.INVALID_DTE_NAME,"invalid selector",f.INVALID_SELECTOR,"invalid topic name",f.INVALID_TOPIC_NAME_FOR_TOPIC_ENDPOINT,"queue not found",f.QUEUE_NOT_FOUND,"quota out of range",f.QUOTA_OUT_OF_RANGE,"unknown flow name",f.UNKNOWN_FLOW_NAME,"unsubscribe not allowed",f.UNSUBSCRIBE_NOT_ALLOWED_CLIENTS_BOUND),403,_("permission not allowed",f.PERMISSION_NOT_ALLOWED,"client initiated replay not allowed on non-exclusive topic endpoint",f.CLIENT_INITIATED_REPLAY_NON_EXCLUSIVE_NOT_ALLOWED,"client initiated replay not allowed on non-exclusive queue",f.CLIENT_INITIATED_REPLAY_NON_EXCLUSIVE_NOT_ALLOWED,"client initiated replay from inactive flow not allowed",f.CLIENT_INITIATED_REPLAY_INACTIVE_FLOW_NOT_ALLOWED,"client initiated replay from browser flow not allowed",f.CLIENT_INITIATED_REPLAY_BROWSER_FLOW_NOT_ALLOWED,"replay not supported on temporary topic endpoint",f.REPLAY_TEMPORARY_NOT_SUPPORTED,"replay not supported on temporary queue",f.REPLAY_TEMPORARY_NOT_SUPPORTED,"unknown start location type",f.UNKNOWN_START_LOCATION_TYPE,"mismatched endpoint error id",f.MISMATCHED_ENDPOINT_ERROR_ID,"replay start message unavailable",f.REPLAY_START_MESSAGE_NOT_AVAILABLE),503,_("durable topic endpoint shutdown",f.TOPIC_ENDPOINT_SHUTDOWN,"endpoint shutdown",f.TOPIC_ENDPOINT_SHUTDOWN,"max clients exceeded for durable topic endpoint",f.MAX_CLIENTS_FOR_TE,"max clients exceeded for queue",f.MAX_CLIENTS_FOR_QUEUE,"no more non-durable queue or topic endpoint",f.NO_MORE_NON_DURABLE_QUEUE_OR_TOPIC_ENDPOINT,"no subscription match",f.NO_SUBSCRIPTION_MATCH,"queue shutdown",f.QUEUE_SHUTDOWN,"te shutdown",f.TOPIC_ENDPOINT_SHUTDOWN,"unknown durable topic endpoint",f.UNKNOWN_TOPIC_ENDPOINT_NAME,"unknown queue",f.UNKNOWN_QUEUE_NAME,"replay disabled",f.REPLAY_DISABLED,"replay cancelled",f.REPLAY_CANCELLED,"replay message unavailable",f.REPLAY_MESSAGE_UNAVAILABLE,"replay started",f.REPLAY_STARTED,"replayed message rejected by topic endpoint",f.REPLAY_MESSAGE_REJECTED,'replayed message rejected by queue"',f.REPLAY_MESSAGE_REJECTED,"replay log modified",f.REPLAY_LOG_MODIFIED,"mismatched endpoint error id",f.MISMATCHED_ENDPOINT_ERROR_ID,"out of replay resources",f.OUT_OF_REPLAY_RESOURCES,"topic or selector modified on durable topic endpoint",f.TOPIC_OR_SELECTOR_MODIFIED_ON_DURABLE_TOPIC_ENDPOINT,"replay failed",f.REPLAY_FAILED,"replay start time not available",f.REPLAY_START_TIME_NOT_AVAILABLE,"replay start message unavailable",f.REPLAY_START_MESSAGE_NOT_AVAILABLE));function p(w,C,D){if(200===C)return 0;const A=w[C]||{},I=(D||"").toLowerCase(),S=Object.keys(A).find(M=>M===I||I.indexOf(M)>=0);return S?A[S]:A[""]?A[""]:w.PARENT?p(w.PARENT,C,D):void 0}function v(w,C,D){const A=p(w,C,D);return void 0===A?f.UNKNOWN_ERROR:A}E.exports.ErrorResponseSubcodeMapper={getErrorSubcode:(w,C)=>v(m,w,C),getADErrorSubcode:(w,C)=>v(b,w,C)}},2662:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.ErrorSubcode=h.new({UNKNOWN_ERROR:4294967295,NO_ERROR:0,SESSION_NOT_CONNECTED:2,INVALID_SESSION_OPERATION:3,INVALID_OPERATION:3,TIMEOUT:4,MESSAGE_VPN_NOT_ALLOWED:5,MESSAGE_VPN_UNAVAILABLE:6,CLIENT_USERNAME_IS_SHUTDOWN:7,DYNAMIC_CLIENTS_NOT_ALLOWED:8,CLIENT_NAME_ALREADY_IN_USE:9,CLIENT_NAME_INVALID:10,CLIENT_DELETE_IN_PROGRESS:11,TOO_MANY_CLIENTS:12,LOGIN_FAILURE:13,INVALID_VIRTUAL_ADDRESS:14,CLIENT_ACL_DENIED:15,SUBSCRIPTION_ACL_DENIED:16,PUBLISH_ACL_DENIED:17,PARAMETER_OUT_OF_RANGE:18,PARAMETER_CONFLICT:19,PARAMETER_INVALID_TYPE:20,INTERNAL_ERROR:21,INSUFFICIENT_SPACE:22,OUT_OF_RESOURCES:23,PROTOCOL_ERROR:24,COMMUNICATION_ERROR:25,KEEP_ALIVE_FAILURE:26,TOPIC_MISSING:28,INVALID_TOPIC_SYNTAX:31,MESSAGE_TOO_LARGE:32,XML_PARSE_ERROR:33,SUBSCRIPTION_ALREADY_PRESENT:34,SUBSCRIPTION_NOT_FOUND:35,SUBSCRIPTION_INVALID:36,SUBSCRIPTION_ERROR_OTHER:37,SUBSCRIPTION_TOO_MANY:38,SUBSCRIPTION_ATTRIBUTES_CONFLICT:39,NO_LOCAL_NOT_SUPPORTED:40,DATA_ERROR_OTHER:42,CREATE_XHR_FAILED:43,CONNECTION_ERROR:44,DATA_DECODE_ERROR:45,INACTIVITY_TIMEOUT:46,UNKNOWN_TRANSPORT_SESSION_ID:47,AD_MESSAGING_NOT_SUPPORTED:48,CREATE_WEBSOCKET_FAILED:49,REPLICATION_IS_STANDBY:50,BASIC_AUTHENTICATION_IS_SHUTDOWN:51,CLIENT_CERTIFICATE_AUTHENTICATION_IS_SHUTDOWN:52,GM_UNAVAILABLE:100,UNKNOWN_FLOW_NAME:111,ALREADY_BOUND:112,INVALID_TOPIC_NAME_FOR_TOPIC_ENDPOINT:113,UNKNOWN_QUEUE_NAME:114,UNKNOWN_TOPIC_ENDPOINT_NAME:115,MAX_CLIENTS_FOR_QUEUE:116,MAX_CLIENTS_FOR_TE:117,UNEXPECTED_UNBIND:118,QUEUE_NOT_FOUND:119,SPOOL_OVER_QUOTA:120,QUEUE_SHUTDOWN:121,TOPIC_ENDPOINT_SHUTDOWN:122,NO_MORE_NON_DURABLE_QUEUE_OR_TOPIC_ENDPOINT:123,ENDPOINT_ALREADY_EXISTS:124,PERMISSION_NOT_ALLOWED:125,INVALID_SELECTOR:126,MAX_MESSAGE_USAGE_EXCEEDED:127,ENDPOINT_PROPERTY_MISMATCH:128,NO_SUBSCRIPTION_MATCH:129,MESSAGE_DELIVERY_MODE_MISMATCH:130,MESSAGE_ALREADY_ACKNOWLEDGED:131,SUBSCRIPTION_DOES_NOT_MATCH:133,SELECTOR_DOES_NOT_MATCH:134,INVALID_DTE_NAME:135,UNSUBSCRIBE_NOT_ALLOWED_CLIENTS_BOUND:136,CALLBACK_ERROR:137,NOLOCAL_DISCARD:138,GM_NOT_READY:140,LOW_PRIORITY_MSG_CONGESTION:141,QUOTA_OUT_OF_RANGE:142,FAILED_LOADING_TRUSTSTORE:143,FAILED_LOADING_CERTIFICATE_AND_KEY:144,UNRESOLVED_HOSTS:145,REPLAY_NOT_SUPPORTED:146,REPLAY_DISABLED:147,CLIENT_INITIATED_REPLAY_NON_EXCLUSIVE_NOT_ALLOWED:148,CLIENT_INITIATED_REPLAY_INACTIVE_FLOW_NOT_ALLOWED:149,CLIENT_INITIATED_REPLAY_BROWSER_FLOW_NOT_ALLOWED:150,REPLAY_TEMPORARY_NOT_SUPPORTED:151,UNKNOWN_START_LOCATION_TYPE:152,REPLAY_CANCELLED:153,REPLAY_MESSAGE_UNAVAILABLE:154,REPLAY_START_TIME_NOT_AVAILABLE:155,REPLAY_MESSAGE_REJECTED:156,REPLAY_LOG_MODIFIED:157,MISMATCHED_ENDPOINT_ERROR_ID:158,OUT_OF_REPLAY_RESOURCES:159,TOPIC_OR_SELECTOR_MODIFIED_ON_DURABLE_TOPIC_ENDPOINT:160,REPLAY_FAILED:161,REPLAY_STARTED:162,COMPRESSED_TLS_NOT_SUPPORTED:163,SHARED_SUBSCRIPTIONS_NOT_SUPPORTED:164,SHARED_SUBSCRIPTIONS_NOT_ALLOWED:165,SHARED_SUBSCRIPTIONS_ENDPOINT_NOT_ALLOWED:166,REPLAY_START_MESSAGE_NOT_AVAILABLE:167,MESSAGE_ID_NOT_COMPARABLE:168})},2227:(E,B,c)=>{const{SolaceError:h}=c(4006);class _ extends h{constructor(m){super("NotImplementedError",m||"",_)}}E.exports.NotImplementedError=_},6177:(E,B,c)=>{const{SolaceError:h}=c(4006);class _ extends h{constructor(m,b,p){super("OperationError",m,_),this.subcode=b,this.reason=p}}E.exports.OperationError=_},7904:(E,B,c)=>{var h=c(9489);const{ErrorSubcode:_}=c(2662),{OperationError:f}=c(6177),{RequestEventCode:m}=c(4170),b={[m.REQUEST_ABORTED]:_.SESSION_NOT_CONNECTED,[m.REQUEST_TIMEOUT]:_.TIMEOUT};E.exports.RequestError=class extends f{constructor(p,v,g,w){super(p,b[v],w),this.name="RequestError",this._eventCode=v,this._correlationKey=g}get requestEventCode(){return this._requestEventCode}get errorSubcode(){return super.subcode}inspect(){const p=super.inspect?super.inspect():{};return Object.assign(p,{requestEventCode:m.describe(this.requestEventCode),infoStr:this.infoStr,correlationKey:this.correlationKey})}toString(){return h(this)}}},4170:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.RequestEventCode=h.new({REQUEST_ABORTED:8,REQUEST_TIMEOUT:9})},4006:E=>{class B extends Error{constructor(h,_,f){super(_||""),this.message=_,this.name=h,Error.captureStackTrace?Error.captureStackTrace(this,f):this.stack=(new Error).stack}}E.exports.SolaceError=B},9359:(E,B,c)=>{const{ArrayOperations:h}=c(7727),{assert:_}=c(9729),{BidiMap:f}=c(2509),{Enum:m}=c(4427),{Iterator:b}=c(123),{Lazy:p}=c(809),{makeMap:v}=c(3925),{Mixin:g}=c(7597),{Resolver:w}=c(1207),{SetOperations:C}=c(6679);E.exports.assert=_,E.exports.ArrayOperations=h,E.exports.BidiMap=f,E.exports.Enum=m,E.exports.Iterator=b,E.exports.Lazy=p,E.exports.makeIterator=b.makeIterator,E.exports.makeMap=v,E.exports.Mixin=g,E.exports.mixin=g.mixin,E.exports.Resolver=w,E.exports.resolve=w.resolve,E.exports.SetOperations=C},7727:E=>{function B(c,h){const _=String(c),f=String(h);return _>f?1:_<f?-1:0}E.exports={ArrayOperations:{defaultComparator:B,insertOrdered:function(c,h,_=B){const f=[...c];return this.inplaceInsertOrdered(f,h,_)},inplaceInsertOrdered:function(c,h,_=B){let f=0,m=0,b=c.length;if(b>0)if(_(h,c[b-1])>0)f=b;else for(f=m+b>>1;b>m;)_(h,c[f])<0?b=f:m=f+1,f=m+b>>1;c.splice(f,0,h)}}}},9729:E=>{let B;B=()=>{},E.exports.assert=B},2509:E=>{E.exports.BidiMap=class{constructor(...B){this.forward=new Map,this.reverse=new Map,B.forEach(c=>{this.setValues(c[0],c[1])})}setValues(B,c){this.forward.set(B,c),this.reverse.set(c,B)}}},4427:E=>{function B(h,_,f){const m=_.filter(b=>h[b]===f);return m.length?m[0]:null}class c{constructor(_){Object.defineProperties(this,{_canonical:{value:null,enumerable:!1,writable:!0,configurable:!0}}),this._setCanonical(_)}_setCanonical(_,f=!1){this._canonical=Object.assign({},_),Object.keys(this).forEach(m=>{const b=Object.getOwnPropertyDescriptor(this,m);void 0!==b.value&&Object.defineProperty(this,m,{enumerable:!1,writable:!0,configurable:!0,value:b.value})}),Object.keys(_).forEach(m=>{Object.defineProperty(this,m,{enumerable:!0,writable:!f,configurable:!f,value:_[m]})})}describe(_,f="<none>",m="<unknown>"){if(null==_)return f;const b=B(this._canonical,Object.keys(this._canonical||{}),_)||m;return b===_?b:`${b} (${_})`}nameOf(_){return B(this._canonical,Object.keys(this._canonical||{}),_)}get names(){return Object.keys(this._canonical||{})}get values(){return _=this._canonical,f=Object.keys(this._canonical||{}),Array.from(new Set(f.map(m=>_[m])));var _,f}get isEnum(){return!0}static nameOf(_,f){return _.nameOf(f)}static values(_){return _.values()}static new(_){return new c(_)}static ofStrings(_){const f={};return _.forEach(m=>{f[m]=m}),c.new(f)}static ofNumbers(_){const f={};return _.forEach((m,b)=>{f[m]=b}),c.new(f)}}E.exports.Enum=c},123:E=>{class B{constructor(h,_=0,f=h.length){this._arr=h,this._index=_,this._end=f}deref(){return this._arr[this._index]}incr(){return++this._index}end(){return this._index>=this._end}static makeIterator(h,_=0,f=h.length){return new B(h,_,f)}}E.exports.Iterator=B},809:E=>{const B={enumerable:!0};function c(f,m,b,p=null){Object.defineProperty(f,m,Object.assign({value:b},B,p))}function h(f,m,b){return Object.defineProperty(f,m,Object.assign({configurable:!0,get:()=>{const p=b(f,m);return c(f,m,p),p},set:p=>{c(f,m,p)}},B)),f}E.exports.Lazy={lazyProperties:function(f,m){return Object.keys(m).forEach(b=>{h(f,b,m[b])}),m},lazyProperty:h,lazyValue:function(f){return h({},"value",f)}}},3925:E=>{E.exports.makeMap=function(...B){const c={};for(let h=0;h<B.length;h+=2)c[B[h]]=B[h+1];return c}},7597:E=>{E.exports.Mixin={mixin:function(c,h){const _=c.prototype,f=h.prototype;return Object.getOwnPropertyNames(f).forEach(m=>{"constructor"!==m&&Object.defineProperty(_,m,Object.getOwnPropertyDescriptor(f,m))}),c}}},1207:(E,B,c)=>{const{Lazy:h}=c(809),{lazyProperty:_}=h;class f{constructor(b,p){Object.keys(b).forEach(v=>{v.split(",").map(g=>g.trim()).forEach(g=>{const w=b[v],C="string"==typeof w?w.split("."):w,D=(Array.isArray(C)?C:[C]).concat(g);_(this,g,()=>D.reduce((M,F)=>"string"==typeof F?M[F]:F,this))})})}static resolve(b,p){return new f(b,p)}}E.exports.Resolver=f},6679:E=>{function B(c,h){return h.forEach(_=>{c.add(_)}),c}E.exports={SetOperations:{inplaceDifference:function(c,h){return h.forEach(_=>{c.delete(_)}),c},inplaceIntersection:function(c,h){return c.forEach(_=>{h.has(_)||c.delete(_)}),c},inplaceUnion:B,isSuperset:function(c,h){return Array.from(h).every(_=>c.has(_))},difference:function(c,h){return new Set(Array.from(c).filter(_=>!h.has(_)))},intersection:function(c,h){return new Set(Array.from(c).filter(_=>h.has(_)))},union:function(c,h){return B(new Set(c),h)}}}},7758:(E,B,c)=>{const{EventEmitter:h}=c(5571),{Timer:_}=c(1028);E.exports={EventEmitter:h,Timer:_}},5571:(E,B,c)=>{const h=c(4370).EventEmitter,{ArrayUtils:_}=c(7882),{ErrorSubcode:f,OperationError:m}=c(3870),{LOG_WARN:b}=c(390),{flatten:p,includes:v}=_,g=["error","newListener","removeListener"],w=["newListener","removeListener"],C={ignore(){},fail(){throw new Error("Emitter disabled")}};E.exports.EventEmitter=class extends h{constructor(D){super();const{direct:A,emits:I,unsafe:S,formatEventName:M}=D||{};this.formatEventName=M||(N=>N);const F=this.emit.bind(this);this._installDirectFilter(A,F),this._installErrorHandlers(S),this._installEmitVerifier(),this._listenerVerificationFilter=function(N){if("function"==typeof N)return G=>v(g,G)||N(G);if(!Array.isArray(N))return null;const q=new Set(p(N));g.forEach(G=>q.add(G));const H=Array.from(q);return G=>v(H,G)}(I),this._emits=I}_installDirectFilter(D,A){if(D){if(v(w,D))throw new m(`Cannot configure listener collection events [${w.join(", ")}] as direct`,f.INTERNAL_ERROR);this._defaultEmitDirect=(...I)=>A(D,...I),this.emitDirect=this._defaultEmitDirect,this._directEventName=D,this.on=(I,S)=>{this._verifyListenerEvent(I);const M=super.on(I,S);return this._setEmitDirect(I,!0,S),M},this.addListener=(I,S)=>this.on(I,S),this.once=(I,S)=>{this._verifyListenerEvent(I);const M=super.once(I,S);return this._setEmitDirect(I,!1),M},this.prependListener=(I,S)=>{this._verifyListenerEvent(I);const M=super.prependListener(I,S);return this._setEmitDirect(I,!0,S),M},this.prependOnceListener=(I,S)=>{this._verifyListenerEvent(I);const M=super.prependOnceListener(I,S);return this._setEmitDirect(I,!1),M},this.removeAllListeners=I=>{const S=super.removeAllListeners(I);return I!==this._directEventName&&void 0!==I||(this.emitDirect=this._defaultEmitDirect),S},this.removeListener=(I,S)=>{const M=super.removeListener(I,S);return I===this._directEventName&&0===this.listenerCount(I)&&(this.emitDirect=this._defaultEmitDirect),M},this.directListenerCount=()=>this.listenerCount(this._directEventName),this.setOnFirstDirectListener=I=>{this._onFirstDirectListener=I}}}_setEmitDirect(D,A,I){D===this._directEventName&&(this.emitDirect=A&&1===this.directListenerCount()?I:this._defaultEmitDirect,1===this.directListenerCount()&&void 0!==this._onFirstDirectListener&&this._onFirstDirectListener())}_verifyListenerEvent(D){this._listenerVerificationFilter&&(null==D&&this.throwInternal(new m(`Emitter rejects listener for no-name event: ${D}`,f.PARAMETER_OUT_OF_RANGE)),this._listenerVerificationFilter(D)||this.throwInternal(new m(`Emitter rejects listeners for ${D}, emits ${this._emits}`,f.PARAMETER_OUT_OF_RANGE)))}_installEmitVerifier(){}_installErrorHandlers(D){if(D)return void(this.throwInternal=I=>{throw I});const A=this.emit.bind(this);this.throwInternal=function(I){throw this._internalError=!0,I},this.emit=(I,...S)=>{try{A(I,...S)}catch(M){if(this._internalError)throw this._internalError=void 0,M;const F=this.formatErrorEvent(M,I,...S);try{b(`Listener for '${F.info.event.formattedName}' threw exception, dispatching to 'error'`),A("error",F)}catch(N){b("Listener for 'error' threw exception:",N,"\nOriginal exception:",M)}}}}get isDirect(){return this.emitDirect&&this.emitDirect!==this._defaultEmitDirect}formatErrorEvent(D,A,...I){const S=this.formatEventName(A);return Object.assign(new m(`Unhandled error in event handler for '${S}'`,f.CALLBACK_ERROR,`On event: ${[A,...I]} ${D}`),{stack:D.stack,info:{event:{name:A,formattedName:S,args:I},error:D}})}disableEmitter(){this._defaultEmitDirect=C.ignore,this.removeAllListeners(),this.emit=C.ignore,this.addListener("removeListener",C.fail),this.addListener("newListener",C.fail)}}},1028:E=>{class B{constructor(h){this.cancel=()=>{this.cancel=()=>{},h()}}static newInterval(h,_,...f){const m=setInterval(_,h,...f);return new B(()=>clearInterval(m))}static newTimeout(h,_,...f){const m=setTimeout(_,h,...f);return new B(()=>clearTimeout(m))}}E.exports.Timer=B},828:(E,B,c)=>{const{FactoryProfile:h,SolclientFactoryProfiles:_}=c(1777),{ProfileBinding:f}=c(3794),{SolclientFactory:m}=c(9016),{SolclientFactoryProperties:b}=c(3543);E.exports.FactoryProfile=h,E.exports.ProfileBinding=f,E.exports.SolclientFactoryProfiles=_,E.exports.SolclientFactoryProperties=b,E.exports.SolclientFactory=m},3794:(E,B,c)=>{const{OperationError:h}=c(3870);let _=null;E.exports.ProfileBinding={get value(){if(null===_)throw new h("Profile binding not initialized. Call solace.SolclientFactory.init");return _},set value(m){_=m}}},1777:(E,B,c)=>{var h=c(9489);class _{get guaranteedMessagingEnabled(){}get cometEnabled(){}get topicUtf8Encode(){}get byteArrayAsString(){}inspect(){return{guaranteedMessagingEnabled:this.guaranteedMessagingEnabled,cometEnabled:this.cometEnabled,topicUtf8Encode:this.topicUtf8Encode,byteArrayAsString:this.byteArrayAsString}}toString(){return h(this)}}const f=new class extends _{get guaranteedMessagingEnabled(){return!1}get cometEnabled(){return!0}get topicUtf8Encode(){return!1}get byteArrayAsString(){return!0}},m=new class extends _{get guaranteedMessagingEnabled(){return!0}get cometEnabled(){return!1}get topicUtf8Encode(){return!0}get byteArrayAsString(){return!0}},b=new class extends _{get guaranteedMessagingEnabled(){return!0}get cometEnabled(){return!1}get topicUtf8Encode(){return!0}get byteArrayAsString(){return!1}},p={_legacy:f,_v10:m,_forward:b,_default:f,version7:f,version10:m,version10_5:b,inspect(){return{version7:this.version7,version10:this.version10,version10_5:this.version10_5}},toString(){return h(this)}};E.exports.FactoryProfile=_,E.exports.SolclientFactoryProfiles=p},3543:(E,B,c)=>{var h=c(9489);const{APIProperties:_}=c(7882),{Check:f}=c(2201);function m(){const{LogLevel:b}=c(390);return b.INFO}E.exports.SolclientFactoryProperties=class extends _{constructor(b){super({logLevel:m(),logger:null},b)}get profile(){return this._profile}set profile(b){this._profile=b}get logLevel(){return f.number(this._logLevel)?this._logLevel:m()}set logLevel(b){this._logLevel=b}get logger(){return this._logger||null}set logger(b){this._logger=b}inspect(){const{LogLevel:b}=c(390);return{logLevel:b.describe(this._logLevel),profile:this._profile}}toString(){return h(this)}}},9016:(E,B,c)=>{const{ErrorSubcode:h,OperationError:_}=c(3870),{FactoryProfile:f,SolclientFactoryProfiles:m}=c(1777),{Parameter:b}=c(2201),{ProfileBinding:p}=c(3794),{SolclientFactoryProperties:v}=c(3543),g={initializeCount:0,initializers:[]};E.exports.SolclientFactory={addInitializer(C){g.initializers.push(C)},createFactory:C=>function(...D){if(0===g.initializeCount)throw new _("SolclientFactory not initialized",h.INVALID_OPERATION);return C(...D)},init(C){if(g.initializeCount>0)return this;const D=new v(C),A=C&&C.profile||m.version7;return b.isInstanceOf("factoryProps.profile",A,f),p.value=A,g.initializers.forEach(I=>{I.call(this,D,g)}),++g.initializeCount,null!=C&&c(390),this},reset(){g.initializeCount=0},_getInitializeCount:()=>g.initializeCount,get profiles(){return m}}},5370:(E,B,c)=>{const{Flow:h}=c(4741),{FlowOperation:_}=c(620),{PrivateFlowEventName:f}=c(3801);E.exports.Flow=h,E.exports.FlowOperation=_,E.exports.PrivateFlowEventName=f},620:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.FlowOperation=h.new({CONNECT:"FlowOperation_CONNECT",DISCONNECT:"FlowOperation_DISCONNECT",START:"FlowOperation_START",STOP:"FlowOperation_STOP",DISPOSE:"FlowOperation_DESTROY",GET_STATS:"FlowOperation_GET_STATS",RESET_STATS:"FlowOperation_RESET_STATS",GET_PROPERTIES:"FlowOperation_GET_PROPERTIES",GET_DESTINATION:"FlowOperation_GET_DESTINATION"})},4741:(E,B,c)=>{const{ErrorSubcode:h,NotImplementedError:_,OperationError:f}=c(3870),{EventEmitter:m}=c(7758),{FlowOperation:b}=c(620),{LogFormatter:p}=c(390),{PrivateFlowEventName:v}=c(3801),{Stats:g}=c(6818),w=[b.DISPOSE,b.GET_STATS,b.GET_PROPERTIES,b.RESET_STATS];E.exports.Flow=class extends m{constructor(C,D,A){const I=Object.assign({},A);I.emits=(I.emits||[]).concat(v.values),super(I);const S=D(this),M=this;this.logger=new p((...F)=>[`[session=${S.sessionIdHex}]`,`[flow=${M.flowIdDec}]`,...F]),this.log=this.logger.wrap(this.log,this),this._disposing=!1,this._disposed=!1,this._userDisconnected=!0,this._properties=C,this._sessionInterface=S,this._stats=new g(S),this._privateEventEmitter=new m(I)}_emit(C,...D){this._privateEventEmitter.emit(C,...D),this.emit(C,...D)}_on(C,D){this._privateEventEmitter.on(C,D)}_once(C,D){this._privateEventEmitter.once(C,D)}_removeListener(C,D){this._privateEventEmitter.removeListener(C,D)}clearStats(){this._operationCheck(b.RESET_STATS),this._stats.resetStats()}connect(){this.userDisconnected=!1,this._operationCheck(b.CONNECT)}dispose(){if(this._disposed||this._disposing)return;this._operationCheck(b.DISPOSE),this._disposing=!0;const A=()=>{this._disposed=!0,this._properties=null,this._userDisconnected=!0,this._emit(this.getDisposedEvent()),this.disableEmitter(),this._privateEventEmitter.disableEmitter()};if(this._fsm._midDispatch){const I=()=>{this._fsm.terminateFsm(),A()};setTimeout(()=>I(),0)}else A()}disconnect(){this._operationCheck(b.DISCONNECT),this.userDisconnected=!0}_disconnectSession(){this._operationCheck(b.DISCONNECT)}getDisposedEvent(){throw new _("Abstract method")}getProperties(){return this._operationCheck(b.GET_PROPERTIES),this._properties.clone()}getStat(C){return this._operationCheck(b.GET_STATS),this._stats.getStat(C)}handleUncorrelatedControlMessage(C){throw new _("Guaranteed Message Connection does not implement a control message handler",C)}incStat(C,D){this._stats.incStat(C,D)}processFSMEvent(C){this._fsm.processEvent(C)}inspect(){return{flowId:this.flowIdDec}}toString(){return this.inspect()}get canAck(){return!this.disposed}get disposed(){return this._disposed}get flowIdDec(){return this.flowId||"(N/A)"}get flowId(){return new _("Flow does not implement ID accessor")}get session(){return this._session}get userDisconnected(){return this._userDisconnecte}set userDisconnected(C){this._userDisconnected=C}_operationCheck(C){if(b.describe(C),this._disposed)throw new f("Operation is invalid for Message Consumer in disposed state",h.INVALID_OPERATION);if(w.some(A=>A===C))return!0;if(C===b.DISCONNECT&&this._isDisconnected())throw new f("Operation is invalid for Message Consumer in disconnected state",h.INVALID_OPERATION)}_isDisconnected(){throw new _("Flow#_isDisconnected not implemented")}}},3801:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.PrivateFlowEventName=h.new({BIND_WAITING:"PrivateFlowEventName_bindWaiting"})},8535:(E,B,c)=>{const{FsmEvent:h}=c(8562),{State:_}=c(9009),{StateMachine:f}=c(4831);E.exports.FsmEvent=h,E.exports.State=_,E.exports.StateMachine=f},1786:(E,B,c)=>{const h=c(9009),{FsmObject:_}=c(4072);E.exports.EntryPoint=class extends _{constructor(f){let m;super({name:f.entryPointName}),this.impl=this.impl||{},this.impl.outerState=new h.State({name:`${f.state.getName()} outerEntryPoint: ${f.entryPointName}`,parentContext:f.state.getParent()}).initial(()=>f.state.transitionTo(m)),m=new h.State({name:`${f.state.getName()} innerEntryPoint: ${f.entryPointName}`,parentContext:f.state}).initial(f.func)}getDestState(){return this.impl.outerState}}},8562:(E,B,c)=>{const{FsmObject:h}=c(4072);E.exports.FsmEvent=class extends h{}},3828:(E,B,c)=>{const h=c(9009),{FsmObject:_}=c(4072);E.exports.ExitPoint=class extends _{constructor(f){let m;super({name:f.exitPointName}),this.impl.innerState=new h.State({name:`${f.state.getName()} innerExitPoint: ${f.exitPointName}`,parentContext:f.state}).initial(()=>f.state.transitionTo(m)),m=new h.State({name:`${f.state.getName()} outerExitPoint: ${f.exitPointName}`,parentContext:f.state.getParent()}).initial(f.func)}getDestState(){return this.impl.innerState}}},4072:(E,B,c)=>{const{OperationError:h}=c(3870);E.exports.FsmObject=class{constructor(_){if(!_)throw new h("No spec provided");if(!_.name)throw new h("No name provided for spec");this.impl={name:_.name}}toString(){let _=this.getExtraStringInfo();return _.length>0&&(_=`; ${_}`),`{${this.constructor.name}: ${this.getName()}${_}}`}getExtraStringInfo(){return""}getName(){return this.impl.name}}},4927:(E,B,c)=>{const h=c(9009),{FsmObject:_}=c(4072),{Iterator:f}=c(9359),{makeIterator:b}=(c(390),f);class p extends _{constructor(g){super(g),this.impl=this.impl||{},this.impl.logPadding=""}getStateMachine(){return this.impl.ancestorList[0]}initial(g){return this.impl.initialReaction&&this.log(`Replacing ${this} initialReaction ${this.impl.initialReaction} with ${g}`),this.impl.initialReaction=g.bind(this),this}transitionTo(g,w){return new p.ReactionResult({caller:this,destState:g,action:w})}terminate(g){return new p.ReactionResult({caller:this,destState:this.getStateMachine().getFinalState(),action:g})}getAncestorList(){return this.impl.ancestorList}log(...g){}onInitial(g){let w;if(this.impl.initialReaction){if(this.log(`Initial: for ${this}`),w=this.impl.initialReaction(g),w.external)throw new Error(`Initial reaction for ${this} returned external transitions`);return w}if(!(this instanceof h.State))throw new Error(`Missing initial reaction for ${this}`);return this.transitionTo(this)}processReactionResult(g,w){let C=this;if(!g.destState)return this;const D=this.lowestCommonAncestor(g);for(;C!==D.deref();)C.onExit(),C=C.getParent();for(g.action&&g.action(C,w),C.log(`Action: transition to ${g.destState} in context ${C}`),D.incr();!D.end();D.incr())C=D.deref(),C.onEntry();const A=C.onInitial(w);return A.destState!==C?C.processReactionResult(A,w):C}lowestCommonAncestor(g){const w=this.impl.ancestorList,C=g.destState.getAncestorList();let D;if(w[0]!==C[0])throw new Error(`No common ancestor between (${this} in ${w[0]}) and (${g.destState} in ${C[0]})`);if(this===g.destState)D=w.length,g.external&&--D;else{for(D=1;D<w.length&&w[D]===C[D];++D);D!==w.length&&D!==C.length||g.external&&--D}return b(C,D-1)}setLogPadding(g){this.impl.logPadding=g}}p.ReactionResult=class{constructor(v){if(!(v&&v.caller&&v.caller instanceof p))throw new Error("spec.caller is required to be a StateContext");if(!v.caller.getStateMachine().isRunning())throw new Error("ReactionResult objects can only be created while processing events");if(v.destState){if(!(v.destState instanceof h.State))throw new Error("destState must be a State object");if(v.action&&"function"!=typeof v.action)throw new Error("action must be a function");this.destState=v.destState,this.action=v.action,this.external=v.external}}},E.exports.StateContext=p},4831:(E,B,c)=>{const{LOG_ERROR:h}=c(390),{State:_}=c(9009),{StateContext:f}=c(4927);E.exports.StateMachine=class extends f{constructor(m){if(m.parentContext)throw new Error(`State machine cannot have parent state: ${m.parentContext}`);super(m),this.impl.ancestorList=[this],this.impl.eventQueue=[],this.impl.finalState=new _({name:"impl.final",parentContext:this}),this.impl.handleUncaughtException=(b,p)=>(h(`Uncaught exception in ${this} while processing ${b}: ${p.stack}`),this.terminate())}process(m){const{impl:b}=this,{eventQueue:p}=b;if(p.push(m),b.processingEvents)return!1;for(b.processingEvents=!0;p.length;)p.shift().apply(this);return b.processingEvents=!1,this._onEventCompletion(),!0}start(){if(this.getCurrentState())throw new Error(`Cannot start ${this.getName()}; it is already started.`);this.process(()=>{const m=this.onInitial();if(void 0===m.destState)throw new Error(`Missing destination state from initial transition for ${this}`);if(m.destState===this)throw new Error(`Destination state for initial transition for ${this} cannot be the FSM.`);const b=m.destState.getAncestorList();if(b[0]!==this)throw new Error(`Invalid destination state (${m.destState}) from initial transition for state machine (${this}); destState ancestor (${b[0]})`);this.impl.currentState=this.processReactionResult(m)})}isRunning(){return this.impl.processingEvents}processEvent(m){const{impl:b}=this;this.process(()=>{let p;if(this.log(`Processing event ${m}`),b.currentState)try{p=b.currentState.handleEvent(m),b.currentState=b.currentState.processReactionResult(p,m)}catch(v){this.log(`Caught exception ${v}, continuing`),p=b.handleUncaughtException.call(b.currentState,m,v),b.currentState=b.currentState.processReactionResult(p,m)}})||this.log(`Deferring event ${m}`)}terminateFsm(){const m=this.getCurrentState();if(m){if(this.impl.processingEvents)throw new Error("Cannot terminate state machine while FSM is processing events. To terminate the FSM from within a reaction, return State~terminate() from a reaction.");this.process(()=>{const b=m.terminate();this.impl.currentState=m.processReactionResult(b)})}}setPostEventAction(m){if(!this.impl.processingEvents)throw new Error("Cannot set post event hook unless FSM is processing events.");if(!m||"function"!=typeof m)throw new Error(`postEventAction must be a function; got (${m})`);this.impl.postEventAction=m.bind(this)}_onEventCompletion(){const m=this.impl.postEventAction;m&&(this.impl.postEventAction=void 0,this.log("Running post event action"),m.apply(this))}getCurrentState(){return this.impl.currentState}getActiveState(m){const b=this.impl.currentState.getAncestorList();for(let p=1;p<b.length;++p)if(b[p].getName()===m)return b[p]}isStateActive(m){return void 0!==this.getActiveState(m)}unhandledEventReaction(m){if("function"!=typeof m)throw new Error(`In ${this}: unhandled event reaction must be a function; got ${m}`);return this.impl.handleUnhandledEvent=m.bind(this),this}uncaughtExceptionReaction(m){if("function"!=typeof m)throw new Error(`In ${this}: Uncaught exception reaction must be a function; got ${m}`);return this.impl.handleUncaughtException=m,this}getFinalState(){return this.impl.finalState}}},9009:(E,B,c)=>{const{EntryPoint:h}=c(1786),{ExitPoint:_}=c(3828),{StateContext:f}=c(4927);E.exports.State=class extends f{constructor(m,b=null){super(m);const p=m.parentContext;Object.assign(this.impl,{parentContext:p,reactions:{},entryPoints:{},exitPoints:{},ancestorList:[...p.getAncestorList(),this],handleUnhandledEvent:v=>p.handleEvent?p.handleEvent(v):p.impl.handleUnhandledEvent(v)}),p&&(this.log=p.log.bind(this)),Object.keys(b||{}).forEach(v=>{const g=b[v];this[v]="function"==typeof g?g.bind(this):g}),this.setLogPadding(" ".repeat(this.impl.ancestorList.length))}reaction(m,b){if(!m)throw new Error("No event name for reaction");if(!b)throw new Error(`No reaction function for reaction ${m}`);return this.log(`Adding reaction to ${this} for event ${m}`),this.impl.reactions[m]&&this.log(`Replacing reaction ${this.impl.reactions[m]} with ${b}`),this.impl.reactions[m]=b.bind(this),this}entryPoint(m,b){if(!m)throw new Error("No entry point name for entry point");if(!b)throw new Error(`No reaction function for entry point ${m}`);return this.log(`Adding entryPoint ${m} to ${this}`),this.impl.entryPoints[m]?(this.log(`EntryPoint ${m} already exists in ${this}`),this):(this.impl.entryPoints[m]=new h({state:this,entryPointName:m,func:b}),this)}exitPoint(m,b){if(!m)throw new Error("No exit point name for entry point");if(!b)throw new Error(`No reaction function for exit point ${m}`);return this.log(`Adding exitPoint ${m} to ${this}`),this.impl.exitPoints[m]?(this.log(`ExitPoint ${m} already exists in  ${this}`),this):(this.impl.exitPoints[m]=new _({state:this,exitPointName:m,func:b}),this)}getEntryPointDestState(m){return void 0===this.impl.entryPoints[m]?(this.log(`${this}: EntryPoint ${m} does not exist.`),this):this.impl.entryPoints[m].getDestState()}getExitPointDestState(m){return void 0===this.impl.exitPoints[m]?(this.log(`${this}: ExitPoint ${m} does not exist.`),this):this.impl.exitPoints[m].getDestState()}entry(m){return this.impl.appEntryFunc&&this.log(`Replacing entry function ${this.impl.appEntryFunc} with ${m}`),this.impl.appEntryFunc=m.bind(this),this}exit(m){return this.impl.appExitFunc&&this.log(`Replacing exit function ${this.impl.appExitFunc} with ${m}`),this.impl.appExitFunc=m.bind(this),this}externalTransitionTo(m,b){return new f.ReactionResult({caller:this,destState:m,action:b,external:!0})}transitionToEntryPoint(m,b,p){return new f.ReactionResult({caller:this,destState:m.getEntryPointDestState(b),action:p})}transitionToExitPoint(m,b,p){return new f.ReactionResult({caller:this,destState:m.getExitPointDestState(b),action:p})}eventUnhandled(){return new f.ReactionResult({caller:this})}internalTransition(m){return new f.ReactionResult({caller:this,destState:this.getStateMachine().getCurrentState(),action:m})}terminate(m){return new f.ReactionResult({caller:this,destState:this.getStateMachine().getFinalState(),action:m})}getParent(){return this.impl.parentContext}onEntry(){this.log(`Entering: ${this}`),this.impl.appEntryFunc&&this.impl.appEntryFunc()}onExit(){this.log(`Exiting: ${this}`),this.impl.appExitFunc&&this.impl.appExitFunc()}handleEvent(m){this.log(`Process: ${m}`);const b=this.impl.reactions[m.getName()];if(b){const p=b(m);if(p||this.log(`Reaction returned undefined: ${m} in ${this}`),p.destState)return this.log(`Handled: ${m}`),p;this.log(`Unhandled: ${m} in ${this}`)}else this.log(`No reaction: ${m} in ${this}`);return this.impl.handleUnhandledEvent(m)}}},390:(E,B,c)=>{const{ConsoleLogImpl:h}=c(3893),{GlobalBinding:_}=c(8942),{LogImpl:f}=c(1669),{LogLevel:m}=c(8220),{Parameter:b}=c(2201),{SolclientFactory:p}=c(828),{isEnumMember:v,isFunction:g}=b,{getImpl:w,getLogLevel:C,setImpl:D,setLogLevel:A}=_,I={};function S(M,F){Object.keys(I).forEach(N=>{F[`LOG_${N.toUpperCase()}`]=M[N]})}Object.assign(I,{trace(...M){const F=w();F&&F.trace&&C()>=m.TRACE&&F.trace.apply(null,["solclientjs: ",...M])},debug(...M){const F=w();F&&F.debug&&C()>=m.DEBUG&&F.debug.apply(null,["solclientjs: ",...M])},info(...M){const F=w();F&&F.info&&C()>=m.INFO&&F.info.apply(null,["solclientjs: ",...M])},warn(...M){const F=w();F&&F.warn&&C()>=m.WARN&&F.warn.apply(null,["solclientjs: ",...M])},error(...M){const F=w();F&&F.error&&C()>=m.ERROR&&F.error.apply(null,["solclientjs: ",...M])},fatal(...M){const F=w();F&&F.fatal&&F.fatal.apply(null,["solclientjs: ",...M])}}),p.getLogLevel=()=>C(),p.setLogLevel=M=>{v("logLevel",M,m),A(M)},p.addInitializer(M=>{A(M.logLevel);const F=M.logger||w()||new h;Object.keys(new f).forEach(N=>g(`logger.${N}`,F[N])),D(F)}),S(I,E.exports),E.exports.LogImpl=f,E.exports.LogLevel=m,E.exports.Binding=_,E.exports.ConsoleLogImpl=h,_.setImpl(new h),E.exports.LogFormatter=class{constructor(M){this._formatter="function"==typeof M?M:"string"==typeof M?function(...N){return[M,...N]}:M||function(...N){return[...N]};const F=this;Object.keys(I).forEach(N=>{this[N]=function(...q){return I[N].apply(null,F._formatter(...q))}}),S(this,this)}get formatter(){return this._formatter}set formatter(M){this._formatter=M}wrap(M,F){const N=this;return function(...q){return M.apply(F,N._formatter(...q))}}}},3893:(E,B,c)=>{const{LogImpl:h}=c(1669),_=()=>{};function f(m){const b=new Date,p=" ".repeat(6-m.length);let v=String(b.getFullYear()),g=String(b.getMonth()+1),w=String(b.getDate()),C=String(b.getHours()),D=String(b.getMinutes()),A=String(b.getSeconds()),I=String(b.getMilliseconds());return v="0".repeat(4-v.length)+v,g=g.length<2?`0${g}`:g,w=w.length<2?`0${w}`:w,C=C.length<2?`0${C}`:C,D=D.length<2?`0${D}`:D,A=A.length<2?`0${A}`:A,I=I.length<3?`0${I}`:I,I=I.length<3?`0${I}`:I,[`${v}-${g}-${w} ${C}:${D}:${A}.${I}`,`${m}${p}`]}E.exports.ConsoleLogImpl=class extends h{constructor(m){let b=_,p=_,v=_,g=_,w=_,C=_;const D=m||("undefined"==typeof window?c.g:window).console;D&&(D.log||D.warn)&&(D.log&&void 0!==D.log?(b=Function.prototype.bind.call(D.log,D),p=Function.prototype.bind.call(D.log,D)):D.debug&&"function"==typeof D.debug&&(b=Function.prototype.bind.call(D.debug,D),p=Function.prototype.bind.call(D.debug,D)),v=Function.prototype.bind.call(D.info&&void 0!==D.info?D.info:D.log,D),g=Function.prototype.bind.call(D.warn&&void 0!==D.warn?D.warn:D.log,D),D.error&&void 0!==D.error?(w=Function.prototype.bind.call(D.error,D),C=Function.prototype.bind.call(D.error,D)):(w=Function.prototype.bind.call(D.log,D),C=Function.prototype.bind.call(D.log,D))),super((...A)=>{b(...f("TRACE"),...A)},(...A)=>{p(...f("DEBUG"),...A)},(...A)=>{v(...f("INFO"),...A)},(...A)=>{g(...f("WARN"),...A)},(...A)=>{w(...f("ERROR"),...A)},(...A)=>{C(...f("FATAL"),...A)})}}},8942:(E,B,c)=>{const{LogLevel:h}=c(8220),_={impl:null,level:h.INFO};E.exports.GlobalBinding={getImpl:function(){return _.impl},setImpl:function(m){_.impl=m},getLogLevel:function(){return _.level},setLogLevel:function(m){_.level=m}}},1669:E=>{E.exports.LogImpl=class{constructor(B,c,h,_,f,m){Object.assign(this,{trace:B,debug:c,info:h,warn:_,error:f,fatal:m})}trace(){}debug(){}info(){}warn(){}error(){}fatal(){}}},8220:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.LogLevel=h.new({FATAL:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5})},4858:(E,B,c)=>{const{ConsumerFlows:h}=c(4697),{ConsumerFSMEvent:_}=c(3120),{ConsumerFSMEventNames:f}=c(8694),{MessageConsumer:m}=c(8692),{MessageConsumerAcknowledgeMode:b}=c(544),{MessageConsumerEvent:p}=c(6203),{MessageConsumerEventName:v}=c(2235),{MessageConsumerProperties:g}=c(6334),{QueueBrowser:w}=c(1690),{QueueBrowserEventName:C}=c(2603),{QueueBrowserProperties:D}=c(1883);E.exports.ConsumerFlows=h,E.exports.ConsumerFSMEvent=_,E.exports.ConsumerFSMEventNames=f,E.exports.MessageConsumer=m,E.exports.MessageConsumerEvent=p,E.exports.MessageConsumerAcknowledgeMode=b,E.exports.MessageConsumerEventName=v,E.exports.MessageConsumerProperties=g,E.exports.QueueBrowser=w,E.exports.QueueBrowserEventName=C,E.exports.QueueBrowserProperties=D},5639:(E,B,c)=>{const{Enum:h,assert:_}=c(9359),{LOG_ERROR:m}=c(390),b=h.new({UNACKED:"UNACKED",ACKED_NOT_SENT:"ACKED_NOT_SENT",ACKED_SENT:"ACKED_SENT"});class p{constructor(g,w){g?(this.exists=!0,this.id=g,this.key=g.toString(),this.state=w||b.UNACKED):this.exists=!1}set(g,w){this.exists=!0,this.id=g,this.key=g.toString(),this.state=w||b.UNACKED}clear(){this.exists=!1,this.id=null,this.key=null,this.state=null}}Object.assign(E.exports,{ApplicationAckState:b,ApplicationAck:p,ApplicationAckRingBuffer:class{constructor(v){_(v>=2),this._size=v,this._insertIndex=0,this._buffer=Array(v).fill(null).map(()=>new p),this._index=new Map}reset(){this._insertIndex=0,this._buffer.forEach(v=>{v.exists=!1}),this._index.clear()}insert(v,g){_(g),_(v);const w=this._size,C=this._buffer,D=this._index,A=this._insertIndex;_(!C[A].exists,"Invariant not enforced (before): insert index not empty");const I=C[A];I.set(v,b.UNACKED),D.has(I.key)&&m(`Duplicate ID: ${D.get(I.key)} insertIndex: ${A}`),D.set(I.key,A);const S=C[(A+1)%w];let M;try{M=g(S.exists?S:null)}finally{this._insertIndex=(A+1)%w,S.exists&&(D.delete(S.key),S.clear())}return _(!C[this._insertIndex].exists,"Invariant not enforced (after): insert index not empty"),M}get length(){return this._index.size}front(){if(0===this.length)return null;const v=this._buffer,w=this._size,C=(this._insertIndex+1)%w;if(v[C].exists)return v[C];for(let D=C,A=C+w-1;D<=A;++D){const I=v[D%w];if(I.exists)return I}return _(0===this._index.size,"#front() failed so buffer must be empty"),null}forEach(v){if(0===this.length)return;const g=this._buffer,w=this._size;let C=0;for(let D=this._insertIndex+1,A=this._insertIndex+w;D<=A;++D){const I=g[D%w];I.exists&&v(I,C++,this)}_(C>0,"Not empty but did not dispatch")}updateAckState(v,g){const w=v.toString();_(this._index.has(w),"Ack key not found");const C=this._buffer[this._index.get(w)];_(C,"Ack key has no entry"),C.state=g}has(v){const g=v.toString();return this._index.has(g)}}})},4697:(E,B,c)=>{const{assert:h}=c(9359),{MessageConsumer:_}=c(8692),{MessageConsumerEventName:f}=c(2235);E.exports.ConsumerFlows=class{constructor(){this._allFlows=new Set,this._reconnectingFlows=new Set,this._flowsById={}}add(m){if(h(m instanceof _,"Flow was not a consumer"),this._allFlows.has(m))return m;const b=()=>{this._flowsById[m.flowId]=m},p=()=>{const g=m.flowId;this._allFlows.delete(m),this._reconnectingFlows.delete(m),this._flowsById[g]===m&&delete this._flowsById[g]},v=()=>{this._reconnectingFlows.delete(m)};return m._on(f.UP,b),m._on(f.RECONNECTED,()=>{b(),this._allFlows.add(m),this._reconnectingFlows.delete(m)}),m._on(f.DISPOSED,p),m._on(f.RECONNECTING,()=>{p(),this._reconnectingFlows.add(m)}),m._on(f.DOWN,v),m._on(f.DOWN_ERROR,v),this._allFlows.add(m),m}get flows(){return Array.from(this._allFlows)}get reconnectingFlows(){return Array.from(this._reconnectingFlows)}getFlowById(m){return this._flowsById[m]}disposeAll(){this._allFlows.forEach(m=>m.dispose())}}},8694:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.ConsumerFSMEventNames=h.new({SESSION_UP:"SESSION_UP",SESSION_UP_NO_AD:"SESSION_UP_NO_AD",SESSION_DOWN:"SESSION_DOWN",SESSION_DISCONNECT:"SESSION_DISCONNECT",FLOW_FAILED:"FLOW_FAILED",FLOW_UP:"FLOW_UP",FLOW_ACTIVE_IND:"FLOW_ACTIVE_IND",FLOW_CLOSE:"FLOW_CLOSE",FLOW_OPEN:"FLOW_OPEN",FLOW_UNBOUND:"FLOW_UNBOUND",ACK:"ACK",ACK_TIMEOUT:"ACK_TIMEOUT",BIND_TIMEOUT:"BIND_TIMEOUT",CREATE_TIMEOUT:"CREATE_TIMEOUT",UNBIND_TIMEOUT:"UNBIND_TIMEOUT",CAN_SEND:"CAN_SEND",TRANSPORT_ERROR:"TRANSPORT_ERROR",DISPOSE:"DISPOSE",VIRTUALROUTER_NAME_CHANGED:"VIRTUALROUTER_NAME_CHANGED",RECONNECT_INTERVAL_TIMEOUT:"RECONNECT_INTERVAL_TIMEOUT",BIND_RESPONSE:"BIND_RESPONSE",CREATE_FAILED:"CREATE_FAILED",CREATE_SUCCESS:"CREATE_SUCCESS"})},3120:(E,B,c)=>{const{FsmEvent:h}=c(8535);E.exports.ConsumerFSMEvent=class extends h{constructor(_,f){super(_),this.details=f}}},3678:(E,B,c)=>{const h=c(7291),{ApplicationAck:_,ApplicationAckRingBuffer:f,ApplicationAckState:m}=c(5639),{assert:b}=c(9359),{CapabilityType:p}=c(5594),{ConsumerFSMEvent:v}=c(3120),{ConsumerFSMEventNames:g}=c(8694),{ConsumerStateNames:w}=c(5805),{DestinationFromNetwork:C,DestinationType:D,Queue:A,Topic:I}=c(3170),{ErrorResponseSubcodeMapper:S,ErrorSubcode:M,OperationError:F}=c(3870),{LogFormatter:N}=c(390),{Long:q}=c(840),{MessageConsumerAcknowledgeMode:H}=c(544),{MessageConsumerEventName:G}=c(2235),{MessageDispatcher:te}=c(1896),{PrivateFlowEventName:Z}=c(5370),{QueueAccessType:j,QueueDescriptor:Q,QueuePermissions:V,QueueProperties:ie,QueueType:z}=c(5754),{RgmidFactory:ne}=c(4789),{State:T,StateMachine:$}=c(8535),{Stats:U}=c(6818),{StatType:W}=c(6818),{Timer:se}=c(7758),{TransportAcks:le,TransportAckResult:Me}=c(1019),Ee=new _(q.UZERO,m.ACKED_SENT);E.exports.ConsumerFSM=class extends ${constructor({name:ye,consumer:ue,sessionInterface:_e,properties:de}={}){super({name:ye});const k=this,J=this.logger=new N(function(...Ce){return[`[session=${_e.sessionIdHex}]`,`[message-consumer-fsm=${ue.flowIdDec}]`,...Ce]}),{LOG_INFO:Y,LOG_WARN:Fe,LOG_ERROR:Be}=J;this.log=J.wrap(this.log,this);const Ye=de.acknowledgeMode===H.AUTO;this._consumer=ue,this._sessionInterface=_e,this._acknowledgeTimeoutInMsecs=de.acknowledgeTimeoutInMsecs,this._acknowledgeThreshold=de.acknowledgeThreshold,this._localPreferredWindowSize=de.windowSize,this._localMaxWindowSize=de.windowSize,this._messageDispatch=new te({emitter:ue,autoAck:Ye,logger:J}),this._stats=new U,this._resetRemoteConnectionState(),this._resetLocalConnectionState(),this._midDispatch=!1,this._replayStartLocation=de.replayStartLocation,this._errorCausingReconnect=null;const ae="EMIT",oe="DISPATCH",be="NO_DISPATCH";let y=[];function O(Ce){const Ne={};y.forEach(($e,Ze,lt)=>{function Gn(Di,Jr){if(void 0===Ne[Di])return;const Re=Ne[Di];Ne[Di]=void 0,lt[Re]=null,lt[Ze]=null}if(!(Ze<Ce)&&$e)switch($e.type){case ae:switch($e.data){case G.UP:case G.ACTIVE:case G.RECONNECTED:Ne[$e.data]=Ze;break;case G.DOWN:case G.DOWN_ERROR:Gn(G.UP);break;case G.INACTIVE:Gn(G.ACTIVE);break;default:Be(`Unexpected event in post-event action: ${$e.data}`)}break;case oe:Ne[$e.type]=Ze;break;case be:Gn(oe)}})}function x(){let Ce,Ne=0;for(Ce=0;Ce<y.length;++Ce){Ne<y.length&&(O(Ce),Ne=y.length);const $e=y[Ce];if($e)switch($e.type){case ae:void 0!==$e.error?ue._emit($e.data,$e.error):ue._emit($e.data);break;case be:break;case oe:this.requestStartDispatchFSM();break;default:Be(`Unhandled post event action type: ${$e.type}`)}}y=[]}function ee(Ce,Ne,$e){let Ze;Ze=void 0!==Ne?{type:Ce,data:Ne,error:$e}:{type:Ce},y.push(Ze),1===y.length&&k.setPostEventAction(x)}function re(Ce){b(Ce instanceof F),ue._emit(G.CONNECT_FAILED_ERROR,Ce)}function me(Ce){let Ne=null;return void 0===k._replayStartLocation||k._sessionInterface.isCapable(p.MESSAGE_REPLAY)?de.topicEndpointSubscription&&(Ne=function($e){let Ze=null;if($e){const lt=$e.getSubscriptionInfo();lt&&(lt.isShare||lt.isNoExport)&&!k._sessionInterface.isCapable(p.SHARED_SUBSCRIPTIONS)&&(Ze=new F("Shared Subscriptions not Supported",M.SHARED_SUBSCRIPTIONS_NOT_SUPPORTED))}return Ze}(de.topicEndpointSubscription)):Ne=new F("Message Replay Not Supported",M.REPLAY_NOT_SUPPORTED),Ne?Ce.transitionTo(k.Unbound,()=>re(Ne)):Ce.transitionTo(de.createIfMissing&&de.queueDescriptor&&de.queueDescriptor.durable?k.CreateSent:k.BindSent)}this._addEventToEmit=(Ce,Ne)=>{(de.activeIndicationEnabled||Ce!==G.INACTIVE&&Ce!==G.ACTIVE)&&ee(ae,Ce,Ne)},this._requestStartDispatch=()=>{ee(oe)},this._requestStopDispatch=()=>{this.requestStopDispatchFSM(),ee(be)},this.unhandledEventReaction(function(Ce){switch(Ce.getName()){case g.VIRTUALROUTER_NAME_CHANGED:return Y("VirtualRouter name change: clearing all acknowledgement state"),k._resetRemoteConnectionState(),this;case g.FLOW_UNBOUND:return Y("Received unsolicited unbind. Flow may be manually reconnected."),this.transitionToUnbound(G.DOWN_ERROR,Ce.details);case g.DISPOSE:return k._dispose(),k.getCurrentState().terminate();case g.BIND_RESPONSE:return function(Ne){const $e=_e.getCorrelationTag(),Ze=h.AdProtocolMessage.getCloseMessageConsumer(Ne.flowId,$e);_e.sendControl(Ze),_e.enqueueRequest($e,()=>this.handleAccidentalBind(Ne),de.connectTimeoutInMsecs,null,null)}(Ce.details),this;default:return Ce.getName(),this.getCurrentState().getName(),this}}),this.initial(function(){return this.transitionTo(k.Unbound,Ce=>{Y(`Starting ${Ce.getStateMachine().getName()}`)})}),this.Unbound=new T({name:w.UNBOUND,parentContext:k},{emitDisabledEvent(){ue._emit(G.GM_DISABLED)}}).reaction(g.FLOW_CLOSE,function(){return this.transitionTo(this)}).reaction(g.SESSION_DOWN,function(){return this.transitionTo(this)}).reaction(g.SESSION_DISCONNECT,function(){return this.transitionTo(this)}).reaction(g.FLOW_OPEN,function(){return this.transitionTo(k.Unbound.AwaitSessionUp)}).reaction(g.SESSION_UP,function(){return k._sessionInterface.isCapable(p.GUARANTEED_MESSAGE_CONSUME)?this.transitionTo(k.Unbound.AwaitFlowOpen):(Fe(`Consumer is not supported by router for this client on sessionId 0x${k._sessionInterface.sessionIdHex}`),this.internalTransition(()=>this.emitDisabledEvent()))}).reaction(g.SESSION_UP_NO_AD,function(){return this.internalTransition(()=>this.emitDisabledEvent())}).exit(()=>{k._connectAttempts=de.connectAttempts}),this.Unbound.AwaitSessionUp=new T({name:w.UNBOUND_AWAIT_SESSION_UP,parentContext:this.Unbound},{emitBindWaiting(){ue._emit(Z.BIND_WAITING)}}).entry(function(){this.emitBindWaiting()}).reaction(g.SESSION_DOWN,function(){return this.internalTransition()}).reaction(g.SESSION_DISCONNECT,function(){return this.internalTransition()}).reaction(g.SESSION_UP,function(){return me(this)}),this.Unbound.AwaitFlowOpen=new T({name:w.UNBOUND_AWAIT_FLOWOPEN,parentContext:this.Unbound}).reaction(g.FLOW_OPEN,function(){return me(this)}),this.BindSentExtensions={sendBindRequest(){const Ce=_e.getCorrelationTag(),Ne=k._transportAcks;k._endpointEnsure();const lt=h.AdProtocolMessage.getOpenMessageConsumer(de.queueDescriptor,de.queueProperties,k._endpoint,k._subscription,Ce,de.windowSize,de.noLocal,de.activeIndicationEnabled,Ne.lastAcked,Ne.lastReceived,de.browser,k._replayStartLocation,ue.endpointErrorId);_e.sendControl(lt),_e.enqueueRequest(Ce,this.handleBindTimeout.bind(this),de.connectTimeoutInMsecs,null,this.handleBindResponse.bind(this))},cancelBindRequestTimer(){this.bindRequestTimer.cancel()},handleBindTimeout(){Y("Bind timeout"),k.processEvent(new v({name:g.BIND_TIMEOUT}))},handleExpectedBind(Ce){const Ne={lastMsgIdAcked:Ce.getLastMsgIdAcked(),flowId:Ce.getFlowId(),accessType:($e=Ce.getAccessType(),void 0===$e?j.EXCLUSIVE:$e),topicEndpointBytes:Ce.getTopicEndpointBytes(),grantedPermissions:Ce.getGrantedPermissions(),allOthersPermissions:Ce.getAllOthersPermissions(),respectsTTL:Ce.getRespectsTTL(),activeFlow:Ce.getActiveFlow(),wantFlowChangeNotify:Ce.getWantFlowChangeNotify(),discardBehavior:Ce.getQueueDiscardBehavior(),deliveryCountSent:Ce.getEndpointDeliveryCountSent(),endpointId:Ce.getEndpointId(),maxUnackedMessages:Ce.getMaxUnackedMessages(),endpointErrorId:Ce.getEndpointErrorId(),spoolerUniqueId:Ce.getSpoolerUniqueId(),quota:Ce.getQuota(),maxMsgSize:Ce.getMaxMsgSize(),maxRedelivery:Ce.getMaxRedelivery()};var $e;if(Object.assign(ue,{accessType:Ne.accessType,queueDiscardBehavior:Ne.discardBehavior,deliveryCountSent:Ne.deliveryCountSent,endpointId:Ne.endpointId,respectsTTL:Ne.respectsTTL,flowId:Ne.flowId,permissions:Ne.grantedPermissions,wantFlowChangeNotify:Ne.wantFlowChangeNotify,endpointErrorId:Ne.endpointErrorId,spoolerUniqueId:Ne.spoolerUniqueId}),k._sessionInterface.isCapable(p.BR_REPLAY_ERRORID)&&(ue.endpointErrorId=Ne.endpointErrorId),Ne.topicEndpointBytes&&Ne.topicEndpointBytes.length){Ne.endpoint=C.createDestinationFromBytes(Ne.topicEndpointBytes),k._endpoint=Ne.endpoint;const lt=k._consumer._properties;lt.queueDescriptor=new Q({name:Ne.endpoint.name,type:lt.queueDescriptor.type,durable:lt.queueDescriptor.durable})}const Ze=k._consumer._properties;Ze.queueProperties=new ie({respectsTTL:Ne.respectsTTL,permissions:Ne.allOthersPermissions,quotaMB:Ne.quota,maxMessageSize:Ne.maxMsgSize,discardBehavior:Ne.discardBehavior,maxMessageRedelivery:Ne.maxRedelivery,accessType:Ne.accessType}),Ze.queueProperties.permissions||(Ze.queueProperties.permissions=V.NONE),Object.assign(k,{_active:Ne.activeFlow,_remoteWindowSize:Ne.maxUnackedMessages}),q.UZERO.eq(k._transportAcks.lastAcked)&&(k._transportAcks.lastAcked=Ne.lastMsgIdAcked||q.UZERO)},handleBindResponse(Ce){if(Ce.msgType!==h.SMFAdProtocolMessageType.BIND)return Y(`Unexpected message type in bind response: ${h.SMFAdProtocolMessageType.describe(Ce.msgType)}`),k.processEvent(new v({name:g.FLOW_FAILED},new F(`Unexpected bind response: ${h.SMFAdProtocolMessageType.describe(Ce.msgType)}`,M.PROTOTOCOL_ERROR)));const Ne=Ce.smfHeader,$e=Ne.pm_respcode;if(null!==$e){if(200!==$e){const lt=Ne.pm_respstr,Gn=S.getADErrorSubcode($e,lt);return Y("Flow failed (bind):",$e,lt,M.describe(Gn)),k.processEvent(new v({name:g.FLOW_FAILED},new F(lt,Gn,{responseCode:$e})))}return k.processEvent(new v({name:g.BIND_RESPONSE},Ce))}this._consumer.incStat(W.RX_DISCARD_SMF_UNKNOWN_ELEMENT)}},this.BindSent=new T({name:w.BIND_SENT,parentContext:k},this.BindSentExtensions).entry(function(){k._connectAttempts--,this.sendBindRequest(),this.bindRequestTimer=se.newTimeout(de.connectTimeoutInMsecs,this.handleBindTimeout)}).reaction(g.SESSION_DOWN,function(){return this.transitionTo(k.Unbound.AwaitSessionUp)}).reaction(g.SESSION_DISCONNECT,function(){return this.transitionTo(k.Unbound.AwaitSessionUp,()=>k._addEventToEmit(G.DOWN))}).reaction(g.FLOW_CLOSE,function(){return this.transitionTo(k.UnbindSent)}).reaction(g.BIND_TIMEOUT,function(){return k._connectAttempts>0?this.externalTransitionTo(k.BindSent):this.transitionTo(k.Unbound.AwaitFlowOpen,()=>re(new F("Bind failed due to timeout",M.TIMEOUT)))}).reaction(g.FLOW_FAILED,function(Ce){return this.transitionTo(k.Unbound.AwaitFlowOpen,()=>re(Ce.details))}).reaction(g.BIND_RESPONSE,function(Ce){return this.handleExpectedBind(Ce.details),this.transitionTo(k.FlowUp)}).reaction(g.FLOW_UP,function(){return this.transitionTo(k.FlowUp)}).exit(function(){this.cancelBindRequestTimer()}),this.Reconnecting=new T({name:w.RECONNECTING,parentContext:k}).entry(function(){ue._emit(G.RECONNECTING,k._errorCausingReconnect),k._connectAttempts=de.connectAttempts,k.reconnectAttempts=de.reconnectAttempts}).initial(function(){return this.transitionTo(k.Reconnecting.RBindSent)}).reaction(g.SESSION_DISCONNECT,function(){return this.transitionTo(k.Reconnecting.RAwaitSessionUp)}).reaction(g.SESSION_DOWN,function(){return this.transitionTo(k.Reconnecting.RAwaitSessionUp)}),this.Reconnecting.RAwaitSessionUp=new T({name:w.RECONNECTING_AWAIT_SESSION_UP,parentContext:this.Reconnecting}).reaction(g.SESSION_UP,function(){return k._connectAttempts=de.connectAttempts,this.transitionTo(k.Reconnecting.RBindSent)}),this.Reconnecting.RBindSent=new T({name:w.RECONNECTING_BIND_SENT,parentContext:this.Reconnecting},this.BindSentExtensions).entry(function(){k._connectAttempts--,this.sendBindRequest(),this.bindRequestTimer=se.newTimeout(de.connectTimeoutInMsecs,this.handleBindTimeout)}).reaction(g.FLOW_CLOSE,function(){return this.transitionTo(k.UnbindSent)}).reaction(g.BIND_TIMEOUT,function(){return k._connectAttempts>0?this.externalTransitionTo(k.Reconnecting.RBindSent):this.transitionTo(k.Unbound.AwaitFlowOpen,()=>re(new F("Rebind failed due to timeout",M.TIMEOUT)))}).reaction(g.FLOW_FAILED,function(Ce){return(k.reconnectAttempts>0||-1===k.reconnectAttempts)&&Ce&&Ce.details&&Ce.details.subcode&&(Ce.details.subcode===M.QUEUE_SHUTDOWN||Ce.details.subcode===M.TOPIC_ENDPOINT_SHUTDOWN||Ce.details.subcode===M.GM_UNAVAILABLE)?this.transitionTo(k.Reconnecting.RAwaitTimer):this.transitionTo(k.Unbound.AwaitFlowOpen,()=>{return b((Ne=Ce.details)instanceof F),void ue._emit(G.DOWN_ERROR,Ne);var Ne})}).reaction(g.BIND_RESPONSE,function(Ce){return this.handleExpectedBind(Ce.details),this.transitionTo(k.FlowUp,()=>k._addEventToEmit(G.RECONNECTED))}).reaction(g.FLOW_UP,function(){return this.transitionTo(k.FlowUp,()=>k._addEventToEmit(G.RECONNECTED))}).exit(function(){this.cancelBindRequestTimer()}),this.Reconnecting.RAwaitTimer=new T({name:w.RECONNECTING_AWAIT_TIMER,parentContext:this.Reconnecting},{handleReconnectIntervalTimeout(){k.processEvent(new v({name:g.RECONNECT_INTERVAL_TIMEOUT}))},cancelReconnectIntervalTimer(){this.reconnectIntervalTimer.cancel()}}).entry(function(){k.reconnectAttempts>0&&--k.reconnectAttempts,this.reconnectIntervalTimer=se.newTimeout(de.reconnectIntervalInMsecs,this.handleReconnectIntervalTimeout)}).exit(function(){this.cancelReconnectIntervalTimer()}).reaction(g.RECONNECT_INTERVAL_TIMEOUT,function(){return k._connectAttempts=de.connectAttempts,this.transitionTo(k.Reconnecting.RBindSent)});const Ae=this.FlowUp=new T({name:w.FLOW_UP,parentContext:k}).initial(function(){return this.transitionTo(0===k._active?Ae.XferInactive:Ae.Xfer)}).entry(()=>{k._replayStartLocation=void 0,k._errorCausingReconnect?k._errorCausingReconnect=null:k._addEventToEmit(G.UP)}).reaction(g.SESSION_DOWN,function(){return this.transitionTo(k.Unbound.AwaitSessionUp)}).reaction(g.SESSION_DISCONNECT,function(){return this.transitionTo(k.Unbound.AwaitSessionUp,()=>k._addEventToEmit(G.DOWN))}).reaction(g.FLOW_CLOSE,function(){return this.transitionTo(k.UnbindSent)}).reaction(g.FLOW_UNBOUND,Ce=>k.transitionToUnboundFromUp(de,G.DOWN_ERROR,Ce.details));Ae.Xfer=new T({name:w.FLOW_UP_XFER,parentContext:Ae}).entry(()=>{k._addEventToEmit(G.ACTIVE),k._sendAcks(!0),k._requestStartDispatch()}).exit(()=>{k._addEventToEmit(G.INACTIVE),k._requestStopDispatch()}).reaction(g.SESSION_DISCONNECT,function(){return k._sendAcks(!0),this.eventUnhandled()}),Ae.XferInactive=new T({name:w.FLOW_UP_XFER_INACTIVE,parentContext:Ae}).reaction(g.FLOW_ACTIVE_IND,function(){return this.transitionTo(Ae.Xfer)}),this.UnbindSent=new T({name:w.UNBIND_SENT,parentContext:k},{sendUnbindRequest(){k._endpointClear();try{const Ce=_e.getCorrelationTag(),Ne=h.AdProtocolMessage.getCloseMessageConsumer(ue.flowId,Ce);_e.sendControl(Ne),_e.enqueueRequest(Ce,()=>this.handleUnbindTimeout(),de.connectTimeoutInMsecs,null,$e=>this.handleUnbindResponse($e)),Y("Sent consumer unbind request with arguments",{flowId:ue.flowId,correlationTag:Ce})}catch(Ce){Y(`Exception in sendUnbindRequest while trying to send unbind request: ${Ce}`),_e.getCurrentStateName(),k.processEvent(new v({name:g.FLOW_UNBOUND}))}},handleUnbindTimeout:()=>(Y("Unbind timeout"),k.processEvent(new v({name:g.UNBIND_TIMEOUT}))),handleUnbindResponse(Ce){Ce.msgType!==h.SMFAdProtocolMessageType.UNBIND&&Y(`Unexpected message type in bind response: ${h.SMFAdProtocolMessageType.describe(Ce.msgType)}`);const Ne=Ce.smfHeader.pm_respcode,$e=Ce.smfHeader.pm_respstr,Ze=S.getADErrorSubcode(Ne,$e);return ue.endpointErrorId=Ce.getEndpointErrorId(),Y("Flow failed (unbind):",Ne,$e,M.describe(Ze)),k.processEvent(new v({name:g.FLOW_UNBOUND},new F($e,Ze,Ne)))}}).entry(function(){this.sendUnbindRequest()}).reaction(g.UNBIND_TIMEOUT,function(){return this.externalTransitionTo(k.UnbindSent)}).reaction(g.FLOW_UNBOUND,()=>k.transitionToUnbound(G.DOWN)),this.CreateSent=new T({name:w.CREATE_SENT,parentContext:k},{sendCreateRequest(){const Ce=_e.getCorrelationTag(),Ne=h.AdProtocolMessage.getCreate(de.queueDescriptor,de.queueProperties,Ce);_e.sendControl(Ne),_e.enqueueRequest(Ce,this.handleCreateTimeout.bind(this),de.connectTimeoutInMsecs,null,this.handleCreateResponse.bind(this))},handleCreateTimeout(){Y("Create timeout"),k.processEvent(new v({name:g.CREATE_TIMEOUT}))},handleCreateResponse(Ce){if(Ce.msgType!==h.SMFAdProtocolMessageType.CREATE)return Y(`Unexpected message type in create response: ${h.SMFAdProtocolMessageType.describe(Ce.msgType)}`),k.processEvent(new v({name:g.CREATE_FAILED},new F(`Unexpected create response: ${h.SMFAdProtocolMessageType.describe(Ce.msgType)}`,M.PROTOTOCOL_ERROR)));const Ne=Ce.smfHeader,$e=Ne.pm_respcode;if(200!==$e){const lt=Ne.pm_respstr,Gn=S.getADErrorSubcode($e,lt);return Y("Endpoint create failed:",$e,lt,M.describe(Gn)),k.processEvent(Gn===M.ENDPOINT_ALREADY_EXISTS?new v({name:g.CREATE_SUCCESS},Ce):new v({name:g.CREATE_FAILED},new F(lt,Gn,{responseCode:$e})))}return k.processEvent(new v({name:g.CREATE_SUCCESS},Ce))}}).entry(function(){this.sendCreateRequest()}).reaction(g.CREATE_TIMEOUT,function(){return this.externalTransitionTo(k.BindSent)}).reaction(g.CREATE_SUCCESS,function(){return this.externalTransitionTo(k.BindSent)}).reaction(g.CREATE_FAILED,function(Ce){return this.transitionTo(k.Unbound.AwaitFlowOpen,()=>re(Ce.details))})}acceptMessage(ye){const de=ye.getGuaranteedMessageId(),k=de.toString(),J=this._consumer;if(!this._fsmDispatch)return J.incStat(W.RX_DISCARD_NO_MATCHING_CONSUMER),!1;J.deliveryCountSent||ye.setDeliveryCount(-1);const fe=ye._getSpoolerUniqueId();ne.INVALID_SUID.eq(fe)?ye._setSpoolerUniqueId(J.spoolerUniqueId):void 0===J.spoolerUniqueId||ne.INVALID_SUID.eq(J.spoolerUniqueId)?void 0!==J.spoolerUniqueId&&!ne.INVALID_SUID.eq(J.spoolerUniqueId)||ne.INVALID_SUID.eq(fe)||ye._setSpoolerUniqueId(ne.INVALID_SUID):(J.spoolerUniqueId.toString(),fe.toString(),J.spoolerUniqueId=fe);const pe=this._transportAcks,Y=pe.tryReceive(de,ye.getGuaranteedPreviousMessageId()),Fe=pe.acksPending>this.maxPendingAcks;switch(Y){case Me.OK:break;case Me.DUPLICATE:return J.incStat(W.RX_DISCARD_DUPLICATE),this._applicationAcks.has(de)||this._oldUnacked.has(k)?Fe?this._sendAcks(Fe):this._setTransportAckTimer():this._sendAck([[de,de]]),!1;case Me.OUT_OF_ORDER:return J.incStat(W.RX_DISCARD_OUT_OF_ORDER),!1;default:return b(!1,"Unhandled transport ack result",Y),!1}return this._applicationAcks.insert(de,Be=>{let Ye=!1;if(Be)switch(Be.state){case m.UNACKED:this._oldUnacked.add(Be.key);break;case m.ACKED_NOT_SENT:Ye=!0;break;case m.ACKED_SENT:break;default:b(!1,"Unhandled application ack state",m.describe(Be.state))}return this._midDispatch=!0,this._messageDispatch.push(ye),this._midDispatch=!1,Fe||Ye?this._sendAcks(Fe):this._setTransportAckTimer(),!0})}applicationAck(ye){const _e=ye.toString();this._consumer.incStat(W.RX_ACKED),this._oldUnacked.delete(_e)?this._sendAck([[ye,ye]]):(this._applicationAcks.updateAckState(ye,m.ACKED_NOT_SENT),this._setTransportAckTimer())}getDestination(){return this._endpointEnsure(),this._destination}isDisconnected(){return!this.getCurrentState()||this.getActiveState(w.UNBOUND)||this.getActiveState(w.UNBOUND_AWAITING_FLOWOPEN)}requestStartDispatchUser(){this._userDispatch=!0,this.applyStartDispatch()}requestStartDispatchFSM(){this._fsmDispatch=!0,this.applyStartDispatch()}applyStartDispatch(){this._userDispatch&&this._fsmDispatch?(this.log(`Starting message dispatch (fsm ${this._fsmDispatch}, user ${this._userDispatch})`),this._messageDispatch.start(),this._localMaxWindowSize=this._localPreferredWindowSize,this._sendAcks(!0)):this.log(`Not starting message dispatch (fsm ${this._fsmDispatch}, user ${this._userDispatch})`)}transitionToUnbound(ye,ue){return this.transitionTo(this.Unbound.AwaitFlowOpen,()=>this._addEventToEmit(ye,ue))}transitionToUnboundFromUp(ye,ue,_e){const de=this._consumer;if(_e&&_e instanceof F&&_e.subcode&&_e.subcode===M.REPLAY_STARTED&&(this._transportAcks.reset(),this._applicationAcks.reset()),de.endpointErrorId&&this._sessionInterface.isCapable(p.MESSAGE_REPLAY)){const J=h.AdProtocolMessage.getUnbindAck(de._flowId,de.endpointErrorId,this._transportAcks.lastAcked);this._sessionInterface.sendControl(J)}return(-1===ye.reconnectAttempts||ye.reconnectAttempts>0)&&_e&&_e instanceof F&&_e.subcode&&(_e.subcode===M.REPLAY_STARTED||_e.subcode===M.GM_UNAVAILABLE)?(this._errorCausingReconnect=_e,this.transitionTo(this.Reconnecting)):this.transitionTo(this.Unbound.AwaitFlowOpen,()=>this._addEventToEmit(ue,_e))}requestStopDispatchUser(){this._userDispatch=!1,this.log(`Stop dispatch user (fsm ${this._fsmDispatch}, user ${this._userDispatch})`),this._messageDispatch.stop()}requestStopDispatchFSM(){this._fsmDispatch=!1,this.log(`Stop dispatch FSM (fsm ${this._fsmDispatch}, user ${this._userDispatch})`),this._sendAcks(!0)}_clearTransportAckTimer(){this._transportAckTimer&&(clearTimeout(this._transportAckTimer),this._transportAckTimer=null)}_dispose(){this._clearTransportAckTimer(),this._endpointClear(),this._destination=void 0,this._unacked=null,this._messageDispatch=null,this._transportAcks=null,this._consumer=null,this._sessionInterface=null}_endpointClear(){this._endpoint=void 0,this._subscription=void 0}_endpointEnsure(){if(this._endpoint)return;const ye=this._sessionInterface,ue=this._consumer._properties,{queueDescriptor:_e}=ue;let de,k,J;_e.type===z.QUEUE?(de=ye.createDestinationFromDescriptor(_e),k=new A({name:de.name,type:D.QUEUE,offset:0,bytes:de.bytes.substr(de.offset)}),J=void 0):(k=_e.name?ye.createDestinationFromDescriptor(_e):new I({name:"\0?",offset:0,bytes:"\0"}),J=ue.topicEndpointSubscription||ye.createTemporaryDestination(D.TOPIC),de=J),Object.assign(this,{_destination:de,_endpoint:k,_subscription:J}),ue.queueDescriptor=new Q({name:k.name,type:_e.type,durable:_e.durable})}_resetLocalConnectionState(){Object.assign(this,{_remoteWindowSize:0,_active:void 0,_fsmDispatch:!1,_userDispatch:!0})}_resetRemoteConnectionState(){this._transportAcks=new le,this._applicationAcks=new f(512),this._oldUnacked=new Set,this._consumer.endpointErrorId=void 0}_sendAck(ye){const ue=h.AdProtocolMessage.getAck(this._consumer.flowId,this._transportAcks.lastReceived,this.windowSize,ye);this._sessionInterface.sendControl(ue)}_addAckToRanges(ye,ue=null){const _e=ye.currentRange,de=ye.ackRanges;if(ue&&ue.state!==m.UNACKED)_e.push(ue);else{if(_e.length&&de.push(_e),null===ue||de.length===h.AdProtocolMessage.MAX_CLIENT_ACK_RANGES){const k=de.map(J=>[J[0].id,J[J.length-1].id]);(k.length||ye.forceTransportAck)&&(this._sendAck(k),k.length&&k.map(fe=>`[${fe[0]}..${fe[1]}]`),this._transportAcks.setAcked(),ye.forceTransportAck=!1),de.forEach(J=>{J.forEach(fe=>{if(fe.state!==m.ACKED_SENT)try{this._applicationAcks.updateAckState(fe.id,m.ACKED_SENT)}catch(pe){const{LOG_ERROR:Y}=this.logger;Y(`Marking ack ${fe.id} as sent failed: ${pe}`)}})}),ye.ackRanges=[]}ye.currentRange=[]}}_sendAcks(ye=!1){this._clearTransportAckTimer();const ue=this._applicationAcks,de={forceTransportAck:ye||this._transportAcks.acksPending>0,ackRanges:[],currentRange:[]},k=this._applicationAcks.front();0===this._oldUnacked.size&&k&&k.state!==m.UNACKED&&this._addAckToRanges(de,Ee),ue.forEach(J=>this._addAckToRanges(de,J)),this._addAckToRanges(de),b(!1===de.forceTransportAck),b(0===de.currentRange.length),b(0===de.ackRanges.length)}_setTransportAckTimer(){this._transportAckTimer||this._consumer.disposed||(this._transportAckTimer=setTimeout(()=>this._sendAcks(!0),this._acknowledgeTimeoutInMsecs))}get maxWindowSize(){return Math.min(this._localMaxWindowSize,this._remoteWindowSize||Number.POSITIVE_INFINITY)}get windowSize(){return this.maxWindowSize-this._messageDispatch.length}get maxPendingAcks(){return this.windowSize*this._acknowledgeThreshold/100}}},5805:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.ConsumerStateNames=h.new({UNBOUND:"UNBOUND",UNBOUND_AWAIT_SESSION_UP:"UNBOUND_AWAIT_SESSION_UP",UNBOUND_AWAIT_FLOWOPEN:"UNBOUND_AWAIT_FLOWOPEN",UNBOUND_AWAIT_ANY:"UNBOUND_AWAIT_ANY",BIND_SENT:"BIND_SENT",FLOW_UP:"FLOW_UP",FLOW_UP_XFER:"FLOW_UP_XFER",FLOW_UP_XFER_INACTIVE:"FLOW_UP_XFER_INACTIVE",UNBIND_SENT:"UNBIND_SENT",RECONNECTING:"RECONNECTING",RECONNECTING_BIND_SENT:"RECONNECTING_BIND_SENT",RECONNECTING_AWAIT_SESSION_UP:"RECONNECTING_AWAIT_SESSION_UP",RECONNECTING_AWAIT_TIMER:"RECONNECTING_AWAIT_TIMER",CREATE_SENT:"CREATE_SENT"})},544:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.MessageConsumerAcknowledgeMode=h.new({AUTO:"AUTO",CLIENT:"CLIENT"})},2235:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.MessageConsumerEventName=h.new({UP:"MessageConsumerEventName_up",DOWN:"MessageConsumerEventName_down",ACTIVE:"MessageConsumerEventName_active",INACTIVE:"MessageConsumerEventName_inactive",DOWN_ERROR:"MessageConsumerEventName_downError",RECONNECTING:"MessageConsumerEventName_reconnecting",RECONNECTED:"MessageConsumerEventName_reconnected",CONNECT_FAILED_ERROR:"MessageConsumerEventName_connectFailedError",GM_DISABLED:"MessageConsumerEventName_GMDisabled",DISPOSED:"MessageConsumerEventName_disposed",MESSAGE:"MessageConsumerEventName_message",SUBSCRIPTION_OK:"MessageConsumerEventName_ok",SUBSCRIPTION_ERROR:"MessageConsumerEventName_error"})},6203:(E,B,c)=>{var h=c(9489);const{ErrorSubcode:_}=c(3870);E.exports.MessageConsumerEvent=class{constructor(f,m,b,p=0,v,g){this._messageConsumerEventName=f,this._infoStr=m,this._responseCode=b,this._errorSubcode=p,this._correlationKey=v,this._reason=g}get messageConsumerEventName(){return this._messageConsumerEventName}get name(){return this._messageConsumerEventName}get infoStr(){return this._infoStr}get responseCode(){return this._responseCode}get errorSubcode(){return this._errorSubcode}get subcode(){return this._errorSubcode}get correlationKey(){return this._correlationKey}get reason(){return this._reason}set reason(f){this._reason=f}get requestEventCode(){}inspect(){return{messageConsumerEventName:this.messageConsumerEventName,infoStr:this.infoStr,responseCode:this.responseCode,errorSubcode:_.describe(this.errorSubcode),correlationKey:this.correlationKey?this.correlationKey.toString():null,reason:this.reason?this.reason:null}}toString(){return h(this)}}},7903:(E,B,c)=>{const{AbstractQueueDescriptor:h,QueueDescriptor:_,QueueDescriptorValidator:f,QueueProperties:m,QueuePropertiesValidator:b,QueueType:p}=c(5754),{APIPropertiesValidators:v}=c(7882),{Check:g}=c(2201),{MessageConsumerAcknowledgeMode:w}=c(544),{OperationError:C,ErrorSubcode:D}=c(3870),{ReplayStartLocation:A}=c(2604),{validateInstance:I,valBoolean:S,valInstance:M,valIsMember:F,valNumber:N,valRange:q,valTopicStringOrEmpty:H}=v;function G(Z,j){if(j.queueDescriptor.getType()===p.TOPIC_ENDPOINT){if(j.queueDescriptor.isDurable()&&!j.createIfMissing&&!j.topicEndpointSubscription)throw new C("topicEndpointSubscription must be set when queueDescriptor refers to a durable topic endpoint and not allowed to create.",D.PARAMETER_CONFLICT)}else if(j.topicEndpointSubscription)throw new C("topicEndpointSubscription is set, but queueDescriptor refers to a queue that is not of type QueueType.TOPIC_ENDPOINT",D.PARAMETER_CONFLICT)}E.exports.MessageConsumerPropertiesValidator={validate(Z,j,Q){if(Object.prototype.hasOwnProperty.call(Q,"transportAcknowledgeTimeoutInMsecs")&&Object.prototype.hasOwnProperty.call(Q,"acknowledgeTimeoutInMsecs"))throw new C(`${Z} validation: transportAcknowledgeTimeoutInMsecs and acknowledgeTimeoutInMsecs are mutually exclusive`,D.PARAMETER_CONFLICT);if(Object.prototype.hasOwnProperty.call(Q,"transportAcknowledgeThresholdPercentage")&&Object.prototype.hasOwnProperty.call(Q,"acknowledgeThreshold"))throw new C(`${Z} validation: transportAcknowledgeThresholdPercentage and acknowledgeThreshold are mutually exclusive`,D.PARAMETER_CONFLICT);const V=I.bind(null,Z,j);if(!(j.queueDescriptor instanceof h||j.queueDescriptor instanceof _))throw new C(`${Z} validation: queue descriptor must be an AbstractQueueDescriptor or a QueueDescriptor`,D.PARAMETER_INVALID_TYPE);if(f.validate(j.queueDescriptor),j.queueProperties){if(j.queueDescriptor.durable&&!j.createIfMissing)throw new C(`${Z} validation: queueProperties cannot be set unless queueDescriptor refers to a temporary queue, or createIfMissing is set.`,D.PARAMETER_CONFLICT);if(V("queueProperties",[M,m,"QueueProperties"]),b.validate(j.queueProperties),!j.queueDescriptor.durable&&g.something(j.queueProperties.accessType))throw new C(`${Z} validation: queueProperties cannot specify accessType in creation of a temporary queue`,D.PARAMETER_CONFLICT)}if(j.queueDescriptor.type===p.TOPIC_ENDPOINT){if(j.queueDescriptor.durable&&!j.createIfMissing&&!j.topicEndpointSubscription)throw new C(`${Z} validation: topicEndpointSubscription must be set for durable topic endpoints unless creation is allowed.`,D.PARAMETER_CONFLICT)}else if(j.topicEndpointSubscription)throw new C(`${Z} validation: topicEndpointSubscription cannot be set unless descriptor.type is TOPIC_ENDPOINT`,D.PARAMETER_CONFLICT);if(V("connectTimeoutInMsecs",[N],[q,50,Number.MAX_VALUE]),V("connectAttempts",[N],[q,1,Number.MAX_VALUE]),V("topicEndpointSubscription",[G],[H]),V("acknowledgeMode",[F,w,"MessageConsumerAcknowledgeMode"]),V("transportAcknowledgeTimeoutInMsecs",[N],[q,20,1500]),V("transportAcknowledgeThresholdPercentage",[N],[q,1,75]),V("activeIndicationEnabled",[S]),V("noLocal",[S]),V("windowSize",[N],[q,1,255]),V("reconnectIntervalInMsecs",[N],[q,50,Number.MAX_VALUE]),j.activeIndicationEnabled&&j.queueDescriptor.type!==p.QUEUE)throw new C(`${Z} validation: activeIndicationEnabled may only be true for QUEUE destinations`,D.PARAMETER_CONFLICT);if(j.replayStartLocation&&!(j.replayStartLocation instanceof A))throw new C(`${Z} validation: replayStartLocation must be an instance of ReplayStartLocation`,D.PARAMETER_INVALID_TYPE)}}},6334:(E,B,c)=>{const h=c(5754),{APIProperties:_}=c(7882),{Check:f}=c(2201),{MessageConsumerAcknowledgeMode:m}=c(544),{Topic:b}=c(3170),p={queueDescriptor:void 0,queueProperties:void 0,connectTimeoutInMsecs:1e4,connectAttempts:3,topicEndpointSubscription:void 0,acknowledgeMode:m.AUTO,transportAcknowledgeTimeoutInMsecs:1e3,transportAcknowledgeThresholdPercentage:60,activeIndicationEnabled:!1,noLocal:!1,windowSize:255,_browser:!1,replayStartLocation:void 0,reconnectAttempts:-1,reconnectIntervalInMsecs:3e3,createIfMissing:!1};E.exports.MessageConsumerProperties=class extends _{constructor(v){super(p,v)}get queueDescriptor(){return f.something(this._queueDescriptor)?this._queueDescriptor:p.queueDescriptor}set queueDescriptor(v){this._queueDescriptor=v instanceof h.AbstractQueueDescriptor?v:v&&(v.name?new h.QueueDescriptor(v):new h.AbstractQueueDescriptor(v))}get queueProperties(){return f.something(this._queueProperties)?this._queueProperties:p.queueProperties}set queueProperties(v){this._queueProperties=v&&new h.QueueProperties(v)}get connectTimeoutInMsecs(){return f.something(this._bindTimeoutInMsecs)?this._bindTimeoutInMsecs:p.connectTimeoutInMsecs}set connectTimeoutInMsecs(v){this._bindTimeoutInMsecs=v}get connectAttempts(){return f.something(this._connectAttempts)?this._connectAttempts:p.connectAttempts}set connectAttempts(v){this._connectAttempts=v}get topicEndpointSubscription(){return this._topicEndpointSubscription}set topicEndpointSubscription(v){this._topicEndpointSubscription="string"==typeof v?b.createFromName(v):v}get acknowledgeMode(){return f.something(this._acknowledgeMode)?this._acknowledgeMode:p.acknowledgeMode}set acknowledgeMode(v){this._acknowledgeMode=v}get acknowledgeTimeoutInMsecs(){return f.something(this._transportAcknowledgeTimeoutInMsecs)?this._transportAcknowledgeTimeoutInMsecs:p.transportAcknowledgeTimeoutInMsecs}set acknowledgeTimeoutInMsecs(v){this._transportAcknowledgeTimeoutInMsecs=v}get acknowledgeThreshold(){return f.something(this._transportAcknowledgeThresholdPercentage)?this._transportAcknowledgeThresholdPercentage:p.transportAcknowledgeThresholdPercentage}set acknowledgeThreshold(v){this._transportAcknowledgeThresholdPercentage=v}get transportAcknowledgeTimeoutInMsecs(){return f.something(this._transportAcknowledgeTimeoutInMsecs)?this._transportAcknowledgeTimeoutInMsecs:p.transportAcknowledgeTimeoutInMsecs}set transportAcknowledgeTimeoutInMsecs(v){this._transportAcknowledgeTimeoutInMsecs=v}get transportAcknowledgeThresholdPercentage(){return f.something(this._transportAcknowledgeThresholdPercentage)?this._transportAcknowledgeThresholdPercentage:p.transportAcknowledgeThresholdPercentage}set transportAcknowledgeThresholdPercentage(v){this._transportAcknowledgeThresholdPercentage=v}get activeIndicationEnabled(){return f.something(this._activeIndicationEnabled)?this._activeIndicationEnabled:p.activeIndicationEnabled}set activeIndicationEnabled(v){this._activeIndicationEnabled=v}get noLocal(){return f.something(this._noLocal)?this._noLocal:p.noLocal}set noLocal(v){this._noLocal=v}get windowSize(){return f.something(this._windowSize)?this._windowSize:p.windowSize}set windowSize(v){this._windowSize=v}get browser(){return f.something(this._browser)?this._browser:p._browser}set browser(v){this._browser=v}get replayStartLocation(){return f.something(this._replayStartLocation)?this._replayStartLocation:p.replayStartLocation}set replayStartLocation(v){this._replayStartLocation=v}get reconnectAttempts(){return f.something(this._reconnectAttempts)?this._reconnectAttempts:p.reconnectAttempts}set reconnectAttempts(v){this._reconnectAttempts=v}get reconnectIntervalInMsecs(){return f.something(this._reconnectIntervalInMsecs)?this._reconnectIntervalInMsecs:p.reconnectIntervalInMsecs}set reconnectIntervalInMsecs(v){this._reconnectIntervalInMsecs=v}get createIfMissing(){return f.something(this._createIfMissing)?this._createIfMissing:p.createIfMissing}set createIfMissing(v){this._createIfMissing=v}}},8692:(E,B,c)=>{var h=c(9489);const _=c(7291),{CapabilityType:f}=c(5594),{ConsumerFSM:m}=c(3678),{ConsumerFSMEvent:b}=c(3120),{ConsumerFSMEventNames:p}=c(8694),{ErrorResponseSubcodeMapper:v,ErrorSubcode:g,OperationError:w}=c(3870),{Flow:C,FlowOperation:D}=c(5370),{MessageConsumerEvent:A}=c(6203),{MessageConsumerEventName:I}=c(2235),{MessageConsumerProperties:S}=c(6334),{MessageConsumerPropertiesValidator:M}=c(7903),{Queue:F,Topic:N}=c(3170),{QueueAccessType:q,QueuePermissions:H,QueueDiscardBehavior:G}=c(5754);function te(j){return`MessageConsumerEventName.${I.describe(j)}`}let Z=0;E.exports.MessageConsumer=class extends C{constructor({properties:j,sessionInterfaceFactory:Q}={}){const V=new S(j);M.validate(V.browser?"QueueBrowserProperties":"MessageConsumerProperties",V,j),super(V,Q,{direct:I.MESSAGE,emits:I.values,formatEventName:te});const ie=this.logger.formatter;this.logger.formatter=(...z)=>ie("[message-consumer]",...z),this._active=void 0,this._fsm=this._makeFSM(),this.endpointErrorId=void 0,this._on(I.ACTIVE,()=>this._onFlowActive(!0)),this._on(I.INACTIVE,()=>this._onFlowActive(!1)),this._on(I.DOWN_ERROR,this._onFlowDisconnected.bind(this)),this._on(I.UP,this._onFlowUp.bind(this)),this._fsm.start()}_makeFSM(){const Q="ConsumerFSM "+Z++;return new m({name:Q,consumer:this,sessionInterface:this._sessionInterface,properties:this._properties})}start(){this._operationCheck(D.START),this._fsm.requestStartDispatchUser()}stop(){this._operationCheck(D.STOP),this._fsm.requestStopDispatchUser()}connect(){if(null!==this._sessionInterface.getCapability(f.GUARANTEED_MESSAGE_CONSUME)&&!this._sessionInterface.isCapable(f.GUARANTEED_MESSAGE_CONSUME))throw new w("Consumer is not supported by router for this client",g.INVALID_OPERATION,null);super.connect(),this.processFSMEvent(new b({name:p.FLOW_OPEN}))}disconnect(){super.disconnect(),this.processFSMEvent(new b({name:p.FLOW_CLOSE}))}getDestination(){const j=this._fsm.getDestination();return j instanceof F?new F(j):new N(j)}_disconnectSession(){super._disconnectSession(),this.processFSMEvent(new b({name:p.SESSION_DISCONNECT}))}_operationCheck(j){if(super._operationCheck(j),j===D.GET_DESTINATION&&this._isDisconnected())throw new w("Cannot get destination of a disconnected flow",g.INVALID_OPERATION)}applicationAck(j){this._fsm.applicationAck(j)}getDisposedEvent(){return I.DISPOSED}handleDataMessage(j){j.setMessageConsumer(this),this._fsm.acceptMessage(j)}handleUncorrelatedControlMessage(j){const{LOG_INFO:Q}=this.logger;Q("Handling uncorrelated control message");const z=j.msgType,{SMFAdProtocolMessageType:ne}=_;switch(z){case ne.UNBIND:{const T=j.smfHeader.pm_respcode,$=j.smfHeader.pm_respstr,U=v.getADErrorSubcode(T,$);j.getEndpointErrorId(),void 0!==j.getEndpointErrorId()&&(this.endpointErrorId=j.getEndpointErrorId()),this.processFSMEvent(new b({name:p.FLOW_UNBOUND},new w($,U,T)))}break;case ne.FLOWCHANGEUPDATE:this.processFSMEvent(new b({name:p.FLOW_ACTIVE_IND},{active:j.getActiveFlow()}));break;default:ne.describe(z)}}getProperties(){return super.getProperties()}onVRNChanged(){this.processFSMEvent(new b({name:p.VIRTUALROUTER_NAME_CHANGED}))}get accessType(){return this._accessType}set accessType(j){this._accessType=j}get active(){return this._active}set active(j){j!==this._active&&this._emit(j?I.ACTIVE:I.INACTIVE),this._active=j}get queueDiscardBehavior(){return this._queueDiscardBehavior}set queueDiscardBehavior(j){this._queueDiscardBehavior=j}get respectsTTL(){return this._respectsTTL}set respectsTTL(j){this._respectsTTL=j}get flowId(){return this._flowId}set flowId(j){this._flowId=j}get permissions(){return this._permissions||0}set permissions(j){this._permissions=j}_onFlowActive(j){this._active=j}_onFlowDisconnected(j){const{LOG_INFO:Q}=this.logger;Q(`${this} disconnected: ${j}.message`)}_disposeFSM(){const{LOG_INFO:j}=this.logger;j("Disposing FSM"),this.processFSMEvent(new b({name:p.DISPOSE}))}_onFlowUp(){const{LOG_INFO:j}=this.logger;j(`Flow is up: flowId = ${this._flowId}`)}inspect(){return Object.assign(super.inspect(),{destination:this._destination,accessType:q.describe(this.accessType),permissions:H.describe(this.permissions),respectsTTL:this.respectsTTL,active:this.wantFlowChangeNotify?this.active:"(indications disabled)",wantFlowChangeNotify:this.wantFlowChangeNotify,queueDiscardBehavior:G.describe(this.queueDiscardBehavior),maxWindowSize:this._fsm.maxWindowSize})}toString(){return h(this)}_isDisconnected(){return this._fsm.isDisconnected()}addSubscription(j,Q,V){this._sessionInterface.updateQueueSubscription(j,this._fsm.getDestination(),!0,this,(ie,z,ne,T)=>{if(ie){const $=new A(I.SUBSCRIPTION_OK,T,ne,z,Q,`Topic: ${j.getName()}`);this._emit(I.SUBSCRIPTION_OK,$)}else{const $=new A(I.SUBSCRIPTION_ERROR,T,ne,z,Q,`Topic: ${j.getName()}`);this._emit(I.SUBSCRIPTION_ERROR,$)}},V)}removeSubscription(j,Q,V){this._sessionInterface.updateQueueSubscription(j,this._fsm.getDestination(),!1,this,(ie,z,ne,T)=>{if(ie){const $=new A(I.SUBSCRIPTION_OK,T,ne,z,Q,`Topic: ${j.getName()}`);this._emit(I.SUBSCRIPTION_OK,$)}else{const $=new A(I.SUBSCRIPTION_ERROR,T,ne,z,Q,`Topic: ${j.getName()}`);this._emit(I.SUBSCRIPTION_ERROR,$)}},V)}}},1896:(E,B,c)=>{const{MessageConsumerEventName:h}=c(2235);function _(f){return`MessageConsumerEventName.${h.describe(f)}`}E.exports={MessageDispatcher:class{constructor({emitter:f,autoAck:m,logger:b}={}){Object.assign(this,{emitter:f,queue:[],dispatch:!0,formatEventName:_,logger:b}),this._dispatchOne=m?this._dispatchOneAutoAck:this._dispatchOneBare,this.emitter.setOnFirstDirectListener(this._onFirstMessageListener.bind(this)),this._availableListener=!0}start(){this.dispatch=!0,this._flush()}stop(){this.dispatch=!1}get length(){return this.queue.length}push(f){this.queue.push(f),this.dispatch?this._flush():f.getGuaranteedMessageId()}_onFirstMessageListener(){this._availableListener||(this._availableListener=!0),this._flush()}_flush(){for(;this.queue.length&&this.dispatch&&this.emitter.directListenerCount()>0;)this._dispatchOne(this.queue.shift());this.queue.length&&this.dispatch&&0===this.emitter.directListenerCount()&&this._availableListener&&(this._availableListener=!1)}_dispatchOneAutoAck(f){const{LOG_WARN:m}=this.logger;let b=null;if(b=this._dispatchOneBare(f),b)m(`Suppressing message acknowledgement for message ${f.getGuaranteedMessageId()} because client threw exception from listener`,b);else{if(f.isAcknowledged)return void m(`Consumer configured to auto-acknowledge messages, but message ${f.getGuaranteedMessageId()} was application acknowledged`);f.acknowledge()}}_dispatchOneBare(f){const{LOG_WARN:m}=this.logger;let b;0===this.listenerCount&&m(`No listeners to dispatch message ${f.getGuaranteedMessageId()}`);try{this.emitter.emitDirect(f)}catch(p){b=this.emitter.formatErrorEvent(p,h.MESSAGE,f),this.emitter.emit("error",b)}return b}}}},2603:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.QueueBrowserEventName=h.new({UP:"QueueBrowserEventName_up",DOWN:"QueueBrowserEventName_down",DOWN_ERROR:"QueueBrowserEventName_downError",CONNECT_FAILED_ERROR:"QueueBrowserEventName_connectFailedError",GM_DISABLED:"QueueBrowserEventName_GMDisabled",DISPOSED:"QueueBrowserEventName_disposed",MESSAGE:"QueueBrowserEventName_message"})},1883:(E,B,c)=>{const h=c(5754),{APIProperties:_}=c(7882),{Check:f}=c(2201),m={queueDescriptor:void 0,connectTimeoutInMsecs:1e4,connectAttempts:3,windowSize:255,transportAcknowledgeTimeoutInMsecs:1e3,transportAcknowledgeThresholdPercentage:60};E.exports.QueueBrowserProperties=class extends _{constructor(b){super(m,b)}get queueDescriptor(){return f.something(this._queueDescriptor)?this._queueDescriptor:m.queueDescriptor}set queueDescriptor(b){this._queueDescriptor=b&&new h.QueueDescriptor(b)}get connectTimeoutInMsecs(){return f.something(this._bindTimeoutInMsecs)?this._bindTimeoutInMsecs:m.connectTimeoutInMsecs}set connectTimeoutInMsecs(b){this._bindTimeoutInMsecs=b}get connectAttempts(){return f.something(this._connectAttempts)?this._connectAttempts:m.connectAttempts}set connectAttempts(b){this._connectAttempts=b}get windowSize(){return f.something(this._windowSize)?this._windowSize:m.windowSize}set windowSize(b){this._windowSize=b}get transportAcknowledgeTimeoutInMsecs(){return f.something(this._transportAcknowledgeTimeoutInMsecs)?this._transportAcknowledgeTimeoutInMsecs:m.transportAcknowledgeTimeoutInMsecs}set transportAcknowledgeTimeoutInMsecs(b){this._transportAcknowledgeTimeoutInMsecs=b}get transportAcknowledgeThresholdPercentage(){return f.something(this._transportAcknowledgeThresholdPercentage)?this._transportAcknowledgeThresholdPercentage:m.transportAcknowledgeThresholdPercentage}set transportAcknowledgeThresholdPercentage(b){this._transportAcknowledgeThresholdPercentage=b}}},1690:(E,B,c)=>{const{EventEmitter:h}=c(7758),{LogFormatter:_}=c(390),{MessageConsumerEventName:f}=c(2235),{QueueBrowserEventName:m}=c(2603);function b(p){return`QueueBrowserEventName.${m.describe(p)}`}E.exports.QueueBrowser=class extends h{constructor(p){super({direct:m.MESSAGE,emits:m.values,formatEventName:b}),this._messageConsumer=p,this.logger=new _((...v)=>["[queue-browser]",...v]),this._setupEventListers()}_setupEventListers(){this._messageConsumer.on(f.UP,this._onConsumerUp.bind(this)),this._messageConsumer.on(f.CONNECT_FAILED_ERROR,this._onConsumerConnectFailed.bind(this)),this._messageConsumer.on(f.DOWN,this._onConsumerDown.bind(this)),this._messageConsumer.on(f.DOWN_ERROR,this._onConsumerDownError.bind(this)),this._messageConsumer.on(f.MESSAGE,this._onConsumerMessage.bind(this)),this._messageConsumer.on(f.DISPOSED,this._onConsumerDisposed.bind(this)),this._messageConsumer.on(f.GM_DISABLED,this._onConsumerGMDisabled.bind(this))}_onConsumerMessage(p){this.emit(m.MESSAGE,p)}_onConsumerUp(p){this.emit(m.UP,p)}_onConsumerConnectFailed(p){this.emit(m.CONNECT_FAILED_ERROR,p)}_onConsumerDown(p){this.emit(m.DOWN,p)}_onConsumerDownError(p){this.emit(m.DOWN_ERROR,p)}_onConsumerDisposed(p){this.emit(m.DISPOSED,p)}_onConsumerGMDisabled(p){this.emit(m.GM_DISABLED,p)}connect(){const{LOG_ERROR:v}=this.logger;try{this._messageConsumer.connect()}catch(g){throw v(g.toString()),g}}disconnect(){const{LOG_ERROR:v}=this.logger;try{this._messageConsumer.disconnect()}catch(g){throw v(g.toString()),g}}start(){const{LOG_ERROR:v}=this.logger;try{this._messageConsumer.start()}catch(g){throw v(g.toString()),g}}stop(){const{LOG_ERROR:v}=this.logger;try{this._messageConsumer.stop()}catch(g){throw v(g.toString()),g}}removeMessageFromQueue(p){this._messageConsumer.applicationAck(p._guaranteedMsgId),p._acked=!0}}},1019:(E,B,c)=>{var h=c(9489);const{Enum:_}=c(9359),{Long:b}=(c(390),c(840)),p=_.new({OK:0,DUPLICATE:1,OUT_OF_ORDER:2});E.exports={TransportAcks:class{constructor(v=0){const g="number"==typeof v?b.fromNumber(v,!0):b.fromValue(v);this.lastAcked=g,this._acksPending=0}reset(){this._acksPending=0,this.lastAcked=b.ZERO}tryReceive(v,g){return this._lastReceived.lt(g)?p.OUT_OF_ORDER:this._lastReceived.gte(v)?(this._acksPending++,p.DUPLICATE):(this._lastReceived=v,this._acksPending++,p.OK)}setAcked(){this._lastAcked=b.fromValue(this._lastReceived),this._acksPending=0}get acksPending(){return this._acksPending}get lastAcked(){return this._lastAcked}set lastAcked(v){v.toString(),Object.assign(this,{_lastAcked:b.fromValue(v),_lastReceived:b.fromValue(v)})}get lastReceived(){return this._lastReceived}toString(){return h(this)}},TransportAckResult:p}},6780:(E,B,c)=>{const{MessagePublisher:h}=c(9691),{MessagePublisherAcknowledgeMode:_}=c(142),{MessagePublisherEventName:f}=c(5290),{MessagePublisherProperties:m}=c(3762),{MessagePublisherPropertiesValidator:b}=c(6645),{PublisherFSMEvent:p}=c(9902),{PublisherFSMEventNames:v}=c(5166);E.exports.MessagePublisherAcknowledgeMode=_,E.exports.MessagePublisher=h,E.exports.MessagePublisherProperties=m,E.exports.PublisherFSMEvent=p,E.exports.PublisherFSMEventNames=v,E.exports.MessagePublisherPropertiesValidator=b,E.exports.MessagePublisherEventName=f},8809:(E,B,c)=>{var h=c(9489);const{Long:_}=c(840),f={_lastAcked:_.fromNumber(0,!0),_lastSent:_.fromNumber(0,!0),_next:_.fromNumber(1,!0)},m=b=>b.toString(10);E.exports.MessageIds=class{constructor(b){Object.assign(this,f,b)}get lastAcked(){return this._lastAcked}set lastAcked(b){this._lastAcked=_.fromValue(b)}get lastSent(){return this._lastSent}setLastSent(b){this._lastSent=_.fromValue(b),this._next=this._lastSent.add(1)}get next(){return this._next}inspect(){return{lastAcked:m(this.lastAcked),lastSent:m(this.lastSent),next:m(this.next)}}toString(){return h(this)}}},142:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.MessagePublisherAcknowledgeMode=h.new({PER_MESSAGE:"PER_MESSAGE",WINDOWED:"WINDOWED"})},5290:(E,B,c)=>{const{Enum:h}=c(9359),_=h.new({ACKNOWLEDGED_MESSAGE:"MessagePublisherEventName_acknowledgedMessage",CONNECT_FAILED_ERROR:"MessagePublisherEventName_connectFailedError",CAN_SEND:"MessagePublisherEventName_canSend",DISPOSED:"MessagePublisherEventName_disposed",DOWN:"MessagePublisherEventName_down",FLOW_NAME_CHANGED:"MessagePublisherEventName_flowNameChanged",GUARANTEED_MESSAGING_DOWN:"MessagePublisherEventName_guaranteedMessagingDown",REJECTED_MESSAGE:"MessagePublisherEventName_rejectedMessage",DISCONNECT_FAILED_ERROR:"MessagePublisherEventName_disconnectFailedError",UP:"MessagePublisherEventName_up",TRANSPORT_FULL:"MessagePublisherEventName_transportFull"});E.exports.MessagePublisherEventName=_},6645:(E,B,c)=>{const{APIPropertiesValidators:h}=c(7882),{MessagePublisherAcknowledgeMode:_}=c(142),{validateInstance:f,valBoolean:m,valIsMember:b,valNumber:p,valRange:v}=h;E.exports.MessagePublisherPropertiesValidator={validate(w){const C=f.bind(null,"MessagePublisherProperties",w);C("enabled",[m]),C("windowSize",[p],[v,1,255]),C("acknowledgeTimeoutInMsecs",[p],[v,20,6e4]),C("acknowledgeMode",[b,_,"MessagePublisherAcknowledgeMode"]),C("connectRetryCount",[p],[v,0,Number.MAX_VALUE]),C("connectTimeoutInMsecs",[p],[v,50,Number.MAX_VALUE])}}},3762:(E,B,c)=>{const h=c(828),{APIProperties:_}=c(7882),{Check:f}=c(2201),{MessagePublisherAcknowledgeMode:m}=c(142),{TransportCapabilities:b}=c(3147);function p(){const{ProfileBinding:g}=h,w=g.value.guaranteedMessagingEnabled,C=b.web.webSocket();return w&&C}function v(){return{enabled:p(),windowSize:50,acknowledgeTimeoutInMsecs:2e3,acknowledgeMode:m.PER_MESSAGE,connectRetryCount:3,connectTimeoutInMsecs:5e3}}E.exports.MessagePublisherProperties=class extends _{constructor(g){super(v(),g||{})}get enabled(){return this._enabled}set enabled(g){this._enabled=g}get windowSize(){return f.defined(this._windowSize)?this._windowSize:v().windowSize}set windowSize(g){this._windowSize=g}get acknowledgeTimeoutInMsecs(){return f.defined(this._acknowledgeTimeoutInMsecs)?this._acknowledgeTimeoutInMsecs:v().acknowledgeTimeoutInMsecs}set acknowledgeTimeoutInMsecs(g){this._acknowledgeTimeoutInMsecs=g}get acknowledgeMode(){return this._acknowledgeMode||m.PER_MESSAGE}set acknowledgeMode(g){this._acknowledgeMode=g}get connectRetryCount(){return f.defined(this._connectRetryCount)?this._connectRetryCount:v().connectRetryCount}set connectRetryCount(g){this._connectRetryCount=g}get connectTimeoutInMsecs(){return f.defined(this._connectTimeoutInMsecs)?this._connectTimeoutInMsecs:v().connectTimeoutInMsecs}set connectTimeoutInMsecs(g){this._connectTimeoutInMsecs=g}inspect(){return{enabled:this.enabled,windowSize:this.windowSize,acknowledgeTimeoutInMsecs:this.acknowledgeTimeoutInMsecs,acknowledgeMode:m.describe(this.acknowledgeMode),connectRetryCount:this.connectRetryCount,connectTimeoutInMsecs:this.connectTimeoutInMsecs}}}},9691:(E,B,c)=>{var h=c(9489);const _=c(7291),{Flow:f,PrivateFlowEventName:m}=c(5370),{LogFormatter:b}=c(390),{MessagePublisherEventName:p}=c(5290),{MessagePublisherProperties:v}=c(3762),{PublisherFSM:g}=c(4343),{PublisherFSMEvent:w}=c(9902),{PublisherFSMEventNames:C}=c(5166),{LOG_WARN:D}=new b;E.exports.MessagePublisher=class extends f{constructor({properties:A,sessionInterfaceFactory:I}={}){super(new v(A),I,{direct:p.ACKNOWLEDGED_MESSAGE,emits:p.values}),this._fsm=this._makeFSM();const S=new b;S.formatter=function(...M){return["[message-publisher]",...M]},this.log=S.wrap(this.log,this),this._bindWaiting=!0,this.on(m.BIND_WAITING,this._onBindWaiting.bind(this)),this.on(p.CONNECT_FAILED_ERROR,this._onBindFailed.bind(this)),this.on(p.DOWN,this._onDown.bind(this)),this.on(p.UP,this._onUp.bind(this))}_onBindFailed(){this._bindWaiting=!1}_onBindWaiting(){this._bindWaiting=!0}_onDown(){this._bindWaiting=!1}_onUp(){this._bindWaiting=!1}_makeFSM(){return new g({publisher:this,name:"PublisherFSM",sessionInterface:this._sessionInterface,properties:this._properties})}get flowId(){return this._flowId}set flowId(A){this._flowId=A}get name(){return this._flowName}set name(A){this._flowName=A}get publisherId(){return this._publisherId}set publisherId(A){this._publisherId=A}get properties(){return this._properties.clone()}connect(){super.connect(),this._fsm.getCurrentState()||this._fsm.start()}_disconnectSession(){super._disconnectSession(),this.processFSMEvent(new w({name:C.FLOW_CLOSE}))}getDisposedEvent(){return p.DISPOSED}handleAck(A){this.processFSMEvent(new w({name:C.ACK},{ack:A}))}handleNack(A,I){this.processFSMEvent(new w({name:C.ACK},{nack:A,ctrlMessage:I}))}handleUncorrelatedControlMessage(A){const I=A.msgType,{SMFAdProtocolMessageType:S}=_;switch(I){case S.CLIENTACK:{const M=A.getLastMsgIdAcked();A.smfHeader.pm_respcode>299?this.handleNack(M,A):this.handleAck(M);break}case S.CLIENTNACK:{const M=A.getLastMsgIdAcked();this.handleNack(M,A);break}case S.CLOSEPUBFLOW:this.processFSMEvent(new w({name:C.FLOW_UNBOUND}));break;default:D(`Dropping unhandled AD control message for ${this}`,S.describe(I))}}prepareAdMessageAndSend(A){return this._fsm.prepareAdMessageAndSend(A)}isBindWaiting(){return this._bindWaiting}inspect(){return Object.assign(super.inspect(),{name:this.name,publisherId:this.publisherId})}toString(){return h(this)}_disposeFSM(){this.processFSMEvent(new w({name:C.DISPOSE}))}_isDisconnected(){return this._fsm.isDisconnected()}}},5166:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.PublisherFSMEventNames=h.new({SESSION_UP:"PublisherSessionUp",SESSION_UP_NO_AD:"PublisherSessionUpNoAD",SESSION_DOWN:"PublisherSessionDown",FLOW_FAILED:"MessagePublisherFailed",FLOW_UP:"MessagePublisherUp",FLOW_CLOSE:"MessagePublisherClose",FLOW_UNBOUND:"MessagePublisherUnbound",TRANSPORT_FULL:"PublisherTransportFull",ACK:"PublisherAck",ACK_TIMEOUT:"PublisherAckTimeout",BIND_TIMEOUT:"PublisherBindTimeout",UNBIND_TIMEOUT:"PublisherUnbindTimeout",CAN_SEND:"PublisherCanSend",TRANSPORT_ERROR:"PublisherTransportError",RESEND_COMPLETE:"PublisherResendComplete",DISPOSE:"PublisherDispose"})},9902:(E,B,c)=>{const{FsmEvent:h}=c(8535);E.exports.PublisherFSMEvent=class extends h{constructor(_,f,m){super(_),Object.assign(this,f),Object.assign(this,m)}getEventText(){return this._eventText}}},4343:(E,B,c)=>{const h=c(7291),_=c(5594),{ErrorResponseSubcodeMapper:f,ErrorSubcode:m,OperationError:b}=c(3870),{LogFormatter:p}=c(390),{Long:v}=c(840),{MessageIds:g}=c(8809),{MessagePublisherAcknowledgeMode:w}=c(142),{MessagePublisherEventName:C}=c(5290),{PrivateFlowEventName:D}=c(5370),{PublisherFSMEvent:A}=c(9902),{PublisherFSMEventNames:I}=c(5166),{PublisherStateNames:S}=c(6955),{State:M,StateMachine:F}=c(8535),{StatType:N}=c(6818),{TransportReturnCode:q}=c(3147);E.exports.PublisherFSM=class extends F{constructor({publisher:H,name:G,sessionInterface:te,properties:Z}={}){super({name:G});const j=this,Q=()=>{const T=j.getCurrentState();return T?T.getName():"<not running>"};this.logger=new p((...T)=>[`[session=${te.sessionIdHex}]`,`[message-publisher-fsm=${H.flowIdDec}]`,`[${Q()}]`,...T]),this.log=this.logger.wrap(this.log,this);const{LOG_INFO:z,LOG_WARN:ne}=this.logger;Object.assign(this,{_publisher:H,_acknowledgeMode:Z.acknowledgeMode,_acknowledgeTimeoutInMsecs:Z.acknowledgeTimeoutInMsecs,_sessionInterface:te,_windowSize:Z.windowSize,_stateEvents:[]}),this._guaranteedEnabled=Z.enabled,this._sendWindow=Z.windowSize,this._resetConnectedInfo(),this._notifiedWindowClosed=!1,this._transportFlowControlled=!0,this.initial(function(){return this.transitionTo(j.PublisherUnbound,T=>{T.getStateMachine().getName()})}),j.unhandledEventReaction(function(T){switch(T.getName()){case I.FLOW_UNBOUND:return this._guaranteedEnabled=!1,this._publisher.emit(C.GUARANTEED_MESSAGING_DOWN),this.transitionTo(j.PublisherUnbound,$=>{$.getStateMachine().getName()});case I.DISPOSE:case I.TRANSPORT_FULL:case I.CAN_SEND:break;default:T.getName()}return this}),j.PublisherUnbound=new M({name:S.UNBOUND,parentContext:j},{emitDownAndBindWaiting(){H.emit(C.DOWN),H.emit(D.BIND_WAITING)}}).entry(function(){this.emitDownAndBindWaiting(),j._connectRetryCount=Z.connectRetryCount}).reaction(I.FLOW_UNBOUND,function(){return this.internalTransition()}).reaction(I.SESSION_UP,function(){return this.transitionTo(j.PublisherOpenFlowSent)}),j.PublisherOpenFlowSent=new M({name:S.OPENFLOWSENT,parentContext:j},{emitOpenFlowFailedError(T){H.emit(C.CONNECT_FAILED_ERROR,T)},handleOpenFlowResponse(T){const $=T.smfHeader,U=$.pm_respcode;if(T.msgType!==h.SMFAdProtocolMessageType.OPENPUBFLOW)return j.processEvent(new A({name:I.FLOW_FAILED},{returnCode:U,description:`Unexpected response: ${h.SMFAdProtocolMessageType.describe(T.msgType)}`}));if(null===U)return H.incStat(N.RX_DISCARD_SMF_UNKNOWN_ELEMENT),null;if(200!==U){const ue=$.pm_respstr,_e=f.getADErrorSubcode(U,ue);return j.processEvent(new A({name:I.FLOW_FAILED},{subcode:_e,returnCode:U,description:ue}))}const W=T.getLastMsgIdAcked(),se=T.getWindow(),le=T.getFlowId(),Me=T.getFlowName(),Ee=T.getPublisherId();if(void 0===se)return j.processEvent(new A({name:I.FLOW_FAILED},{description:"Window parameter not found"}));if(se>this._windowSize)return j.processEvent(new A({name:I.FLOW_FAILED},{description:"Invalid window negotiation"}));j._sendWindow=se-j._unackedList.length,j._sendWindow<0&&(j._sendWindow=0),Object.assign(j._publisher,{name:Me,flowId:le,publisherId:Ee}),j._guaranteedEnabled=!0,0===j._connectReason||2===j._connectReason?(j._messageIds.setLastSent(W),2===j._connectReason&&H.emit(C.FLOW_NAME_CHANGED,{messages:[...j._unackedList],count:j._unackedList.length}),j._connectReason=1,j._unackedList.forEach(ue=>{ue.getGuaranteedMessageId(),j._renumber(ue),ue.getGuaranteedMessageId(),j._messageIds.setLastSent(ue.getGuaranteedMessageId())})):j._unackedList.forEach(ue=>{ue.setFlowId(le),ue.setPublisherId(H.publisherId),ue.getGuaranteedMessageId()});const ye=j._sessionInterface.getCapability(_.CapabilityType.MAX_GUARANTEED_MSG_SIZE).getValue();return j._unackedList.forEach(ue=>{ye<ue._memoized_payload.length&&ne(`Message size ${ue._memoized_payload.length} above broker limit ${ye}`)}),j._unackedList.length?(j._handleAck(W,!1,T,!0),j._firstUnackedToSend=j._unackedList[0]):j._messageIds.lastAcked=v.fromValue(W),j.processEvent(new A({name:I.FLOW_UP}))},handleOpenFlowTimeout:()=>(z("Open publisher connection timeout"),j.processEvent(new A({name:I.BIND_TIMEOUT}))),handleUnknownFlowName(){return z("Flow name unknown, republish required"),j._resetConnectedInfo(!0),this.externalTransitionTo(j.PublisherOpenFlowSent)},sendOpenFlow(){const T=te.getCorrelationTag(),$=h.AdProtocolMessage.getOpenMessagePublisher(j._messageIds.lastAcked,j._messageIds.lastSent,Z.windowSize,j._publisher._flowName,T);te.sendControl($),te.enqueueRequest(T,()=>this.handleOpenFlowTimeout(),Z.connectTimeoutInMsecs,null,U=>this.handleOpenFlowResponse(U))}}).entry(function(){try{this.sendOpenFlow()}catch(T){ne(`Exception during bind attempt: ${T}`),j.processEvent(new A({name:I.SESSION_DOWN}))}}).reaction(I.FLOW_CLOSE,function(){return this.transitionTo(j.PublisherCloseFlowSent)}).reaction(I.FLOW_UP,function(){return this.transitionTo(j.PublisherUp)}).reaction(I.SESSION_DOWN,function(){return this.transitionTo(j.PublisherUnbound)}).reaction(I.BIND_TIMEOUT,function(){return j._connectRetryCount>0?(j._connectRetryCount--,this.externalTransitionTo(j.PublisherOpenFlowSent)):(this.emitOpenFlowFailedError({subcode:m.TIMEOUT,description:"Open publisher connection failed due to timeout"}),this.transitionTo(j.PublisherUnbound))}).reaction(I.FLOW_FAILED,function(T){const{subcode:$,returnCode:U,description:W}=T;return T.subcode===m.UNKNOWN_FLOW_NAME?this.handleUnknownFlowName():(this.emitOpenFlowFailedError({event:T,subcode:$,returnCode:U,description:W}),j._resetConnectedInfo(),this.transitionTo(j.PublisherUnbound))}),j.PublisherCloseFlowSent=new M({name:S.CLOSEFLOWSENT,parentContext:j},{handleCloseFlowResponse(T){const $=T.smfHeader,U=$.pm_respcode;return T.msgType!==h.SMFAdProtocolMessageType.CLOSEPUBFLOW?j.processEvent(new A({name:I.FLOW_FAILED},{returnCode:U,description:`Unexpected response: ${h.SMFAdProtocolMessageType.describe(T.msgType)}`})):null===U?(H.incStat(N.RX_DISCARD_SMF_UNKNOWN_ELEMENT),null):(200!==U&&j.processEvent(new A({name:I.FLOW_FAILED},{returnCode:U,description:$.pm_respstr})),j.processEvent(new A({name:I.FLOW_UNBOUND})))},handleCloseFlowTimeout:()=>(z("Close publisher connection timeout."),j.processEvent(new A({name:I.UNBIND_TIMEOUT}))),sendCloseFlow(){const T=te.getCorrelationTag(),$=h.AdProtocolMessage.getCloseMessagePublisher(j._publisher.flowId,T);te.sendControl($),te.enqueueRequest(T,()=>this.handleCloseFlowTimeout(),Z.connectTimeoutInMsecs,null,U=>this.handleCloseFlowResponse(U))}}).entry(function(){return this.sendCloseFlow(),this}).reaction(I.ACK,function(T){return j._handleAckEvent(T),this.internalTransition()}).reaction(I.FLOW_UNBOUND,function(){return this.transitionTo(j.PublisherUnbound)}).reaction(I.FLOW_FAILED,function(){this.transitionTo(j.PublisherUnbound)}).reaction(I.UNBIND_TIMEOUT,function(){return this.transitionTo(j.PublisherCloseFlowSent)}),j.PublisherUp=new M({name:S.UP,parentContext:j},{emitFlowUp(){H.emit(C.UP)}}).initial(function(){return this.transitionTo(j._unackedList.length?j.PublisherRetransmitting:j.PublisherDataXfer)}).entry(function(){return j._scheduleStateEvents(j.PublisherUp,()=>this.emitFlowUp()),this}).reaction(I.ACK,function(T){return j._handleAckEvent(T),this.internalTransition()}).reaction(I.ACK_TIMEOUT,function(){return j._firstUnackedToSend=j._unackedList[0],this.transitionTo(j.PublisherRetransmitting)}).reaction(I.FLOW_CLOSE,function(){return this.transitionTo(j.PublisherCloseFlowSent)}).reaction(I.SESSION_DOWN,function(){return this.transitionTo(j.PublisherUnbound)}).reaction(I.TRANSPORT_FULL,function(){return this.internalTransition()}),j.PublisherDataXfer=new M({name:S.DATA_XFER,parentContext:j.PublisherUp}).entry(()=>{j._transportFlowControlled=!1,j._scheduleStateEvents(j.PublisherDataXfer,()=>j._maybeEmitCanSend())}).reaction(I.TRANSPORT_FULL,function(){return this.transitionTo(j.PublisherFlowControlled)}).exit(()=>{j._transportFlowControlled=!0}),j.PublisherFlowControlled=new M({name:S.FLOW_CONTROLLED,parentContext:j.PublisherUp}).reaction(I.TRANSPORT_FULL,function(){return z("Attempt to send while flow controlled"),this.internalTransition()}).reaction(I.CAN_SEND,function(){return this.transitionTo(j.PublisherRetransmitting)}),j.PublisherRetransmitting=new M({name:S.RETRANSMITTING,parentContext:j.PublisherUp},{retransmit(){try{j._resendFromUnacked()}catch(T){T instanceof b&&T.subcode===m.INSUFFICIENT_SPACE?j.processEvent(new A({name:I.TRANSPORT_FULL})):(z(`Publisher resendFromUnacked failed: ${T}`),j.processEvent(new A({name:I.FLOW_FAILED})))}}}).entry(function(){this.retransmit()}).reaction(I.RESEND_COMPLETE,function(){return this.transitionTo(j.PublisherDataXfer)}).reaction(I.TRANSPORT_FULL,function(){return this.transitionTo(j.PublisherFlowControlled)})}isDisconnected(){return!this.getCurrentState()||!!this.getActiveState(S.UNBOUND)}prepareAdMessageAndSend(H){if(!this._guaranteedEnabled)throw new b("Session does not provide Guaranteed Message Publish capability",m.GM_UNAVAILABLE,"close flow received from message-router");if(this._sendWindow<=0)throw this._publisher.incStat(N.TX_WINDOW_CLOSED),this._notifiedWindowClosed=!0,new b("Guaranteed Message Window Closed",m.INSUFFICIENT_SPACE);const G=this._unackedList,{LOG_INFO:j}=this.logger;H._payload_is_memoized&&(H._payload_is_memoized=!1,H._memoized_csumm=void 0,H._memoized_payload=void 0);const V=H.clone(),ie=h.Codec.Encode.adaptMessageToSmf_payloadMemoize(V);var z=0;try{z=this._sessionInterface.getCapability(_.CapabilityType.MAX_GUARANTEED_MSG_SIZE).getValue()}catch($){j("Can't pre-check payload size, broker not connected yet?")}if(0<z&&ie>z)throw new b(`Encoded payload size (${ie}) exceeds broker size limit (MAX_GUARANTEED_MSG_SIZE, ${z})`,m.MESSAGE_TOO_LARGE);--this._sendWindow,this._renumber(V),this._cloneNumbers(V,H),G.push(V);const ne=V.getGuaranteedMessageId();if(this._messageIds.setLastSent(ne),this._transportFlowControlled)return void 0===this._firstUnackedToSend&&(this._firstUnackedToSend=V),q.OK;let T;try{T=this._sessionInterface.sendToTransport(V),T!==q.OK?T===q.NO_SPACE&&(T=q.OK,this._firstUnackedToSend=V,this.processEvent(new A({name:I.TRANSPORT_FULL}))):V.setRedelivered(!0),this._startAckTimer()}catch($){throw $ instanceof b?(m.describe($.subcode),G.pop(),this._messageIds.setLastSent(V.getGuaranteedPreviousMessageId()),++this._sendWindow,$):$}return q.OK}_handleAckEvent(H){this._publisher.incStat(N.TX_ACKS_RXED),this._handleAck(H.ack||H.nack,!!H.nack,H.ctrlMessage)}_handleAck(H,G,te,Z=!1){const{_messageIds:j,_unackedList:Q}=this,{LOG_INFO:ie}=this.logger;if(j.lastAcked.gte(H))return void(Z||ie(`Dropping ack: remote ack for ${H}, local ids ${this._messageIds}`));const z=[];for(;Q.length&&H.gte(Q[0].getGuaranteedMessageId());)z.push(Q.shift());-1===Q.indexOf(this._firstUnackedToSend)&&(this._firstUnackedToSend=Q[0]),this._sendWindow+=z.length,j.lastAcked=H;const ne=G?z.pop():null,T=z.length;if(T)if(this._acknowledgeMode===w.PER_MESSAGE)for(let $=0;$<T;++$)this._publisher.emit(C.ACKNOWLEDGED_MESSAGE,z[$]);else{const $=z[T-1];$.getGuaranteedMessageId(),this._publisher.emit(C.ACKNOWLEDGED_MESSAGE,$)}ne&&(ne.getGuaranteedMessageId(),this._publisher.emit(C.REJECTED_MESSAGE,ne,te)),Q.length?this._resetAckTimer():this._clearAckTimer(),this._maybeEmitCanSend()}_maybeEmitCanSend(){this._notifiedWindowClosed&&0!==this._sendWindow&&(this._notifiedWindowClosed=!1,this._publisher.emit(C.CAN_SEND))}_resendFromUnacked(){const{LOG_ERROR:H,LOG_INFO:G}=this.logger,Z=this._unackedList;let j=Z.indexOf(this._firstUnackedToSend);if(-1===j)return this._firstUnackedToSend&&H(`Could not find first Unacked Messages in unacked message list: msgId = ${this._firstUnackedToSend.getGuaranteedMessageId}`),void(0===Z.length&&(this._messageIds.toString(),this.processEvent(new A({name:I.RESEND_COMPLETE}))));for(Z.map(Q=>Q.getGuaranteedMessageId().toString());j<Z.length;){Z[j].getPublisherId()!==this._publisher.publisherId&&H(`Resending on invalid publisherId '${Z[j].getPublisherId()}'when it should be '${this._publisher.publisherId}'`);const Q=this._sessionInterface.sendData(Z[j]);if(Q===q.NO_SPACE)return this._firstUnackedToSend=Z[j],G("Publisher sendMessage blocked due to insufficient space, wait for CAN_SEND"),void this.processEvent(new A({name:I.TRANSPORT_FULL}));if(Q!==q.OK)return;Z[j].setRedelivered(!0),j++,this._startAckTimer()}this._messageIds.toString(),this.processEvent(new A({name:I.RESEND_COMPLETE}))}_resetConnectedInfo(H=!1){this._ackTimer&&this._clearAckTimer(),Object.assign(this,{_messageIds:new g}),Object.assign(this._publisher,{publisherId:void 0,flowId:void 0,flowName:null}),H?this._connectReason=2:(this._unackedList=[],this._connectReason=0)}_clearAckTimer(){this._ackTimer&&(clearTimeout(this._ackTimer),this._ackTimer=null)}_emitStateEvents(){for(;this._stateEvents.length;){const G=this._stateEvents.shift(),te=G[0],Z=G[1];this.getActiveState(te.getName())&&Z.apply(te)}}_handleAckTimeout(){this._ackTimer=null,this._publisher.incStat(N.TX_ACK_TIMEOUT),this.processEvent(new A({name:I.ACK_TIMEOUT}))}_renumber(H){const G=this._messageIds,te=G.next;H.setGuaranteedPreviousMessageId(G.lastSent),H.setGuaranteedMessageId(te);const Z=this._publisher;H.setFlowId(Z.flowId),H.setPublisherId(Z.publisherId)}_cloneNumbers(H,G){G.setGuaranteedPreviousMessageId(H.getGuaranteedPreviousMessageId()),G.setGuaranteedMessageId(H.getGuaranteedMessageId()),G.setFlowId(H.getFlowId()),G.setPublisherId(H.getPublisherId())}_resetAckTimer(){this._clearAckTimer(),this._startAckTimer()}_scheduleStateEvents(H,G){this._stateEvents.push([H,G]),this._setPostEventAction(()=>this._emitStateEvents(),"Emit state events")}_setPostEventAction(H,G="No action"){const{LOG_WARN:Z}=this.logger;this._postEventAction&&this._postEventAction.desc===G||(this._postEventAction&&this._postEventAction.desc&&Z(`Replacing post event action ${this._postEventAction.desc} with ${G}`),this._postEventAction={action:H||(()=>{}),desc:G},this.setPostEventAction(()=>{this._postEventAction.action(),this._postEventAction=null}))}_startAckTimer(){this._ackTimer||(this._ackTimer=setTimeout(()=>this._handleAckTimeout(),this._acknowledgeTimeoutInMsecs))}}},6955:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.PublisherStateNames=h.new({UNBOUND:"PublisherUnbound",OPENFLOWSENT:"PublisherOpenFlowSent",UP:"PublisherUp",FAILED:"PublisherFailed",CLOSEFLOWSENT:"PublisherCloseFlowSent",DATA_XFER:"PublisherDataXfer",FLOW_CONTROLLED:"MessagePublisherFlowControlled",RETRANSMITTING:"PublisherRetransmitting"})},4789:(E,B,c)=>{const{ReplicationGroupMessageId:h,RgmidFactory:_}=c(4097),{Message:f}=c(337),{MessageCacheStatus:m}=c(2615),{MessageDeliveryModeType:b}=c(969),{MessageDumpFlag:p}=c(1012),{MessageDumpStandardProvider:v}=c(1983),{MessageDumpUtil:g}=c(8292),{MessageType:w}=c(165),{MessageUserCosType:C}=c(95),{SolclientFactory:D}=c(828);D.createMessage=D.createFactory(()=>new f),D.createReplicationGroupMessageId=D.createFactory(A=>_.fromString(A)),E.exports.Message=f,E.exports.MessageCacheStatus=m,E.exports.MessageDeliveryModeType=b,E.exports.MessageDumpFlag=p,E.exports.MessageDumpStandardProvider=v,E.exports.MessageDumpUtil=g,E.exports.MessageType=w,E.exports.MessageUserCosType=C,E.exports.ReplicationGroupMessageId=h,E.exports.RgmidFactory=_},2615:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.MessageCacheStatus=h.new({LIVE:0,CACHED:1,SUSPECT:2})},969:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.MessageDeliveryModeType=h.new({DIRECT:0,PERSISTENT:1,NON_PERSISTENT:2})},1012:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.MessageDumpFlag=h.new({MSGDUMP_BRIEF:0,MSGDUMP_FULL:1})},1983:(E,B,c)=>{const h=c(1880),_=c(8292),{Destination:f}=c(3170),{LOG_ERROR:m}=c(390),{Long:b}=c(840),{MessageCacheStatus:p}=c(2615),{MessageDeliveryModeType:v}=c(969),{MessageDumpFlag:g}=c(1012),{MessageUserCosType:w}=c(95),{SDTMapContainer:C,SDTFieldType:D}=c(7252),{StringUtils:A}=c(7882);E.exports.MessageDumpStandardProvider={fpDestination(S){const M=S.getDestination();return null!==M&&M instanceof f?["Destination",!0,M.toString(),null]:["Destination",!1,"",null]},fpSenderId:S=>["SenderId",void 0!==S.getSenderId()&&null!==S.getSenderId(),S.getSenderId(),null],fpAppmsgType:S=>["AppMessageType",void 0!==S.getApplicationMessageType()&&null!==S.getApplicationMessageType(),S.getApplicationMessageType(),null],fpAppMsgId:S=>["AppMessageID",void 0!==S.getApplicationMessageId()&&null!==S.getApplicationMessageId(),S.getApplicationMessageId(),null],fpSequenceNumber(S){const M=S.getSequenceNumber();return"number"==typeof M?["SequenceNumber",!0,M,null]:["SequenceNumber",!1,"",null]},fpTopicSequenceNumber(S){const M=S.getTopicSequenceNumber();return b.isLong(M)?["TopicSequenceNumber",!0,M.toString(),null]:["TopicequenceNumber",!1,"",null]},fpCorrelationId:S=>["CorrelationId",void 0!==S.getCorrelationId()&&null!==S.getCorrelationId(),S.getCorrelationId(),null],fpHttpContentType:()=>["HTTP Content Type",!1,void 0,null],fpHttpContentEncoding:()=>["HTTP Content Encoding",!1,void 0,null],fpSendTimestamp(S){const M=S.getSenderTimestamp();return"number"==typeof M?["SendTimestamp",!0,`${M} (${_.MessageDumpUtil.formatDate(M)})`,null]:["SendTimestamp",!1,"",null]},fpRcvTimestamp(S){const M=S.getReceiverTimestamp();return"number"==typeof M?["RcvTimestamp",!0,`${M} (${_.MessageDumpUtil.formatDate(M)})`,null]:["RcvTimestamp",!1,"",null]},fpClassOfService:S=>"number"==typeof S.getUserCos()?["Class Of Service",!0,w.nameOf(S.getUserCos()),null]:["Class Of Service",!1,"",null],fpDeliveryMode:S=>"number"==typeof S.getDeliveryMode()?["DeliveryMode",!0,v.nameOf(S.getDeliveryMode()),null]:["DeliveryMode",!1,"",null],fpGuaranteedMsgId(S){const M=S.getGuaranteedMessageId();return b.isLong(M)?["Message Id",!0,M.toString(10),null]:["Message Id",!1,"",null]},fpReplicationGroupMessageId(S){const M=S.getReplicationGroupMessageId();return void 0===M?["Replication Group Message Id",!1,"",null]:["Replication Group Message Id",!0,M.toString(),null]},fpTimeToLive(S){const M=S.getTimeToLive();if("number"==typeof M){const F=_.MessageDumpUtil,N=new Date;return["TimeToLive",!0,`${M} (${F.formatDate(N.getTime()+M)})`,null]}return["TimeToLive",!1,"",null]},fpExpiration(S){const M=S.getGMExpiration();return"number"==typeof M?["Expiration",!0,`${M} (${_.MessageDumpUtil.formatDate(M)})`,null]:["Expiration",!1,"",null]},fpMessageDMQEligible:S=>["DMQ Eligible",S.isDMQEligible(),"",null],fpMessageRedelivered:S=>["Message Re-delivered",S.isRedelivered(),"",null],fpMessageDeliveryCount(S){try{return["Message Delivery Count",!0,S.getDeliveryCount(),null]}catch(M){return["Message Delivery Count",!1,"",null]}},fpDiscardIndication:S=>["Discard Indication",S.isDiscardIndication(),"",null],fpAckImmediately:S=>["ACK Immediately",S.isAcknowledgeImmediately(),"",null],fpElidingEligible:S=>["Eliding Eligible",S.isElidingEligible(),"",null],fpReplyMessage:S=>["Reply Message",S.isReplyMessage(),"",null],fpReplyTo(S){const M=S.getReplyTo();return null!==M&&M instanceof f?["ReplyTo",!0,M.toString(),null]:["ReplyTo",!1,"",null]},fpDeliverToOne:S=>["Deliver To One",S.isDeliverToOne(),"",null],fpCacheMessage:S=>["Message from cache",S.getCacheStatus()!==p.LIVE,"",null],fpCacheRequestId(S){const M=S.getCacheRequestId();return b.isLong(M)?["Cache Request Id",!0,M.toString,null]:["Cache Request Id",!1,"",null]},fpUserPropertyMap(S,M){const F=S.getUserPropertyMap();if(null!==F&&F instanceof C){const N=`${F.getKeys().length} entries`;let q=null;if(M===g.MSGDUMP_FULL)try{q=_.MessageDumpUtil.printMap(F,2)}catch(H){m(H.message,H.stack),q="Error"}return["User Property Map",!0,N,q]}return["User Property Map",!1,"",null]},fpCorrelationTag(S){const M=S.getCorrelationKey();return["Correlation Tag Pointer",null!=M,M,null]},fpUserData:S=>A.notEmpty(S.getUserData())?["User Data",!0,`len=${S.getUserData().length}`,h.Debug.formatDumpBytes(S.getUserData(),!0,2)]:["User Data",!1,"",null],fpSdtStream(S,M){const F=S.getSdtContainer();if(null!==F&&F.getType()===D.STREAM){const N=_.MessageDumpUtil,q=`${N.countItems(F.getValue())} entries`;let H=null;if(M===g.MSGDUMP_FULL)try{H=N.printStream(F.getValue(),2)}catch(G){m(G.message,G.stack),H="Error"}return["SDT Stream",!0,q,H]}return["SDT Stream",!1,"",null]},fpSdtMap(S,M){const F=S.getSdtContainer();if(null!==F&&F.getType()===D.MAP){const N=`${F.getValue().getKeys().length} entries`;let q=null;if(M===g.MSGDUMP_FULL)try{q=_.MessageDumpUtil.printMap(F.getValue(),2)}catch(H){m(H.message,H.stack),q="Error"}return["SDT Map",!0,N,q]}return["SDT Map",!1,"",null]},fpBinaryAttachment(S,M){if(!S._binaryAttachment||S._binaryAttachment.length<1)return["Binary Attachment",!1,"",null];const F=S._binaryAttachment.toString("latin1"),N=`len=${F.length}`;let q=null;return M===g.MSGDUMP_FULL&&(q=h.Debug.formatDumpBytes(F,!0,2)),["Binary Attachment",!0,N,q]},fpXmlContent(S,M){const F=S.getXmlContent();if(A.notEmpty(F)){const N=`len=${F.length}`;let q=null;return M===g.MSGDUMP_FULL&&(q=h.Debug.formatDumpBytes(F,!0,2)),["XML",!0,N,q]}return["XML",!1,"",null]},fpXmlMetadata(S,M){const F=S.getXmlMetadata();if(A.notEmpty(F)){const N=`len=${F.length}`;let q=null;return M===g.MSGDUMP_FULL&&(q=h.Debug.formatDumpBytes(F,!0,2)),["XML Metadata",!0,N,q]}return["XML Metadata",!1,"",null]}}},8292:(E,B,c)=>{const h=c(1880),_=c(1983),{SDTFieldType:f,SDTMapContainer:m,SDTStreamContainer:b,SDTUnsupportedValueError:p,SDTValueErrorSubcode:v}=c(7252),{Check:g}=c(2201),{ErrorSubcode:w,OperationError:C}=c(3870),{MessageDumpFlag:D}=c(1012),{StringBuffer:A,StringUtils:I}=c(7882),S={get dumpProviders(){const F=_.MessageDumpStandardProvider;return Object.keys(F).map(N=>F[N])}};E.exports.MessageDumpUtil={getOutOfRangeValue:F=>"string"==typeof F?`<out of range>\n${h.Debug.formatDumpBytes(F)}`:`<out of range>\n${h.Debug.formatDumpBytes(F.toString("latin1"))}`,getValue(F){let N=null;try{return N=F.getValue(),N}catch(q){if(q instanceof p){if(q.getSubcode()===v.VALUE_OUTSIDE_SUPPORTED_RANGE)return this.getOutOfRangeValue(q.getSourceData())}else if(q instanceof C&&q.subcode===w.PARAMETER_INVALID_TYPE)return"<invalid type>";throw q}},printMap(F,N){if(g.nothing(F)||!(F instanceof m))return null;const q=[],H=I.padRight("",N," ");return F.getKeys().sort().forEach(G=>{const te=F.getField(G),Z=te.getType(),j=this.getValue(te);let Q;switch(Z){case f.MAP:Q=`\n${this.printMap(j,N+2)}`;break;case f.STREAM:Q=`\n${this.printStream(j,N+2)}`;break;case f.BYTEARRAY:Q=h.Debug.formatDumpBytes(j.toString("latin1"),!1,0),null!==Q&&"\n"===Q.substr(-1)&&(Q=Q.substring(0,Q.length-1));break;default:Q=null!==j?j.toString():null}q.push(`${H}Key '${G}' (${f.nameOf(Z)}): ${Q}`)}),q.join("\n")},printStream(F,N){if(g.nothing(F)||!(F instanceof b))return null;F.rewind();const q=[],H=I.padRight("",N," ");for(;F.hasNext();){const G=F.getNext(),te=G.getType(),Z=this.getValue(G);let j;switch(te){case f.MAP:j=`\n${this.printMap(Z,N+2)}`;break;case f.STREAM:j=`\n${this.printStream(Z,N+2)}`;break;case f.BYTEARRAY:j=h.Debug.formatDumpBytes(Z.toString("latin1"),!1,0),null!==j&&"\n"===j.substr(-1)&&(j=j.substring(0,j.length-1));break;case f.DESTINATION:j=Z.toString();break;default:j=null!==Z?Z.toString():null}q.push(`${H}(${f.nameOf(te)}): ${j}`)}return F.rewind(),q.join("\n")},countItems(F){if(g.nothing(F)||!(F instanceof b))return 0;F.rewind();let N=0;for(;F.hasNext();)F.getNext(),N++;return F.rewind(),N},formatDate:F=>new Date(F).toString(),dump(F,N,q,H){const G=new A;let te="\n",Z=!1,j=40;return null!=q&&"string"==typeof q&&(te=q),null!=H&&"number"==typeof H&&(j=H),S.dumpProviders.forEach((Q,V)=>{const[ie,z,ne,T]=Q(F,N);z&&(Z&&G.append(te),null===ne||0===ne.length?G.append(ie):(G.append(I.padRight(`${ie}:`,j," ")),G.append(ne)),null!==T&&N&D.MSGDUMP_FULL&&(G.append("\n"),0!==T.indexOf("  ")&&G.append("  "),G.append(T),"\n"!==T.substr(-1)&&V<S.dumpProviders.length-1&&G.append("\n")),Z=!0)}),G.toString()}}},165:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.MessageType=h.new({BINARY:0,MAP:1,STREAM:2,TEXT:3})},95:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.MessageUserCosType=h.new({COS1:0,COS2:1,COS3:2})},337:(E,B,c)=>{const h=c(6313),_=c(828),{Codec:f}=c(7252),{Convert:m}=c(840),{Destination:b}=c(3170),{ErrorSubcode:p,OperationError:v}=c(3870),{MessageCacheStatus:w}=(c(390),c(2615)),{MessageDeliveryModeType:C}=c(969),{MessageDumpFlag:D}=c(1012),{MessageDumpUtil:A}=c(8292),{MessageType:I}=c(165),{MessageUserCosType:S}=c(95),{Parameter:M}=c(2201),{RgmidFactory:F}=c(4097),{SDTField:N,SDTFieldType:q,SDTMapContainer:H,SDTUnsupportedValueError:G}=c(7252),{ProfileBinding:te}=_,{utf8ToUcs2:Z,anythingToBuffer:j}=m,{isBoolean:Q,isEnumMember:V,isInstanceOf:ie,isInstanceOfOrNothing:z,isNumberOrNothing:ne,isStringOrNothing:T}=M,$={circular:!1,includeNonEnumerable:!1};function U(W){W._deliveryMode=C.DIRECT,W._userCos=S.COS1,W._cacheStatus=w.LIVE,W._spoolerUniqueId=void 0,W._priority=void 0,W._deliveryCount=-1}E.exports.Message=class{constructor(){U(this)}getType(){return this._messageType||I.BINARY}setApplicationMessageId(W){this._applicationMessageId=T("applicationMessageId",W)}getApplicationMessageId(){return this._applicationMessageId}setApplicationMessageType(W){this._applicationMessageType=T("applicationMessageType",W)}getApplicationMessageType(){return this._applicationMessageType}getBinaryAttachment(){return this._binaryAttachment&&te.value.byteArrayAsString?this._binaryAttachment.toString("latin1"):this._binaryAttachment}setBinaryAttachment(W){W&&(this._messageType=I.BINARY),this._setBinaryAttachment(j(W))}_setBinaryAttachment(W){this._binaryAttachment=W}getCacheRequestId(){return this._cacheRequestId}_setCacheRequestID(W){this._cacheRequestId=W}getCorrelationId(){return this._correlationId}setCorrelationId(W){this._correlationId=T("correlationId",W)}getCorrelationKey(){return this._correlationKey||null}setCorrelationKey(W){this._correlationKey=W}isDeliverToOne(){return this._deliverToOne||!1}setDeliverToOne(W){this._setDeliverToOne(this._deliverToOne=Q("deliverToOne",W))}_setDeliverToOne(W){this._deliverToOne=W}getDeliveryMode(){return this._deliveryMode}setDeliveryMode(W){this._setDeliveryMode(V("deliveryMode",W,C))}_setDeliveryMode(W){this._deliveryMode=W}getDestination(){return this._destination}setDestination(W){this._setDestination(ie("destination",W,b))}_setDestination(W){this._destination=W}isDiscardIndication(){return this._discardIndication||!1}setDiscardIndication(W){this._setDiscardIndication(Q("discardIndication",W))}_setDiscardIndication(W){this._discardIndication=W}isElidingEligible(){return this._elidingEligible||!1}setElidingEligible(W){this._setElidingEligible(Q("setElidingEligible",W))}_setElidingEligible(W){this._elidingEligible=W}getPublisherId(){return this._publisherId}setPublisherId(W){this._publisherId=W}getPublisherMessageId(){return this._publisherMsgId}setPublisherMessageId(W){this._publisherMsgId=W}getTimeToLive(){return this._timeToLive}setTimeToLive(W){if(null!=W){if("number"!=typeof W||isNaN(W))throw new v("Invalid type for time to live",p.PARAMETER_INVALID_TYPE);if(W<0||W>31536e7)throw new v("Invalid time to live value",p.PARAMETER_OUT_OF_RANGE);this._timeToLive=W}else this._timeToLive=W}getGMExpiration(){return this._expiration}setGMExpiration(W){this._expiration=ne("GMExpiration",W)}isDMQEligible(){return this._dmqEligible||!1}setDMQEligible(W){this._setDMQEligible(Q("DMQEligible",W))}_setDMQEligible(W){this._dmqEligible=W}getFlowId(){return this._flowId}setFlowId(W){this._flowId=W}getGuaranteedPreviousMessageId(){return this._guaranteedPrevMsgId}setGuaranteedPreviousMessageId(W){this._guaranteedPrevMsgId=W}_setSpoolerUniqueId(W){this._spoolerUniqueId=W}_getSpoolerUniqueId(){return void 0===this._spoolerUniqueId?F.INVALID_SUID:this._spoolerUniqueId}getMessageConsumer(){return this._consumer}setMessageConsumer(W){this._consumer=W}getGuaranteedMessageId(){return this._guaranteedMsgId}setGuaranteedMessageId(W){this._guaranteedMsgId=W}_setSpoolerMessageId(W){this._spoolerMessageId=W}getReplicationGroupMessageId(){if(void 0!==this._spoolerUniqueId&&!F.INVALID_SUID.eq(this._spoolerUniqueId))return F.from({suid:this._spoolerUniqueId,msgid:this._spoolerMessageId||this._guaranteedMsgId})}getTopicSequenceNumber(){return this._topicSequenceNumber}setTopicSequenceNumber(W){this._topicSequenceNumber=W}getDeliveryCount(){if(-1===this._deliveryCount)throw new v("Endpoint does not report delivery count.",p.INVALID_OPERATION);return this._deliveryCount}setDeliveryCount(W){this._deliveryCount=W}acknowledge(){if(this._consumer.getProperties().browser)throw new v("Messages delivered to a Queue Browser can only be deleted by calling QueueBrowser.removeMessageFromQueue()",p.INVALID_OPERATION);if(this._acked)throw new v("Message can only be acknowledged once",p.MESSAGE_ALREADY_ACKNOWLEDGED);if(this._deliveryMode===C.DIRECT)throw new v("Cannot acknowledge a DIRECT message",p.MESSAGE_DELIVERY_MODE_MISMATCH);if(!this._consumer)throw new v("Cannot acknowledge a locally-created message",p.MESSAGE_DELIVERY_MODE_MISMATCH);if(!this._consumer._sessionInterface.canAck)throw new v("Cannot acknowledge using associated session",p.SESSION_NOT_CONNECTED);if(!this._consumer.canAck)throw new v("Cannot acknowledge using associated Message Consumer",p.INVALID_OPERATION);this._consumer.applicationAck(this._guaranteedMsgId),this._acked=!0}get isAcknowledged(){return this._acked||!1}isAcknowledgeImmediately(){return this._ackImmediately||!1}setAcknowledgeImmediately(W){this._setAcknowledgeImmediately(Q("acknowledgeImmediately",W))}_setAcknowledgeImmediately(W){this._ackImmediately=W}getCacheStatus(){return this._cacheStatus}_setCacheStatus(W){this._cacheStatus=W}isReplyMessage(){return this._replyMessage||!1}isRedelivered(){return this._redelivered||!1}setRedelivered(W){this._redelivered=W}setAsReplyMessage(W){this._replyMessage=Q("asReplyMessage",W)}getReceiverTimestamp(){return this._receiverTimestamp}getReplyTo(){return this._replyTo}setReplyTo(W){this._replyTo=z("replyTo",W,b)}getSenderId(){return this._senderId}setSenderId(W){this._senderId=T("senderId",W)}getSenderTimestamp(){return this._senderTimestamp}setSenderTimestamp(W){this._senderTimestamp=ne("senderTimestamp",W)}getSequenceNumber(){if(this._sequenceNumberError)throw this._sequenceNumberError;return this._sequenceNumber}setSequenceNumber(W){W instanceof G?this._sequenceNumberError=W:(this._sequenceNumber=ne("sequenceNumber",W),this._sequenceNumberError=void 0,this._autoSequenceNumber=!1)}getUserCos(){return this._userCos}getPriority(){return this._priority}setUserCos(W){this._setUserCos(V("userCos",W,S))}_setUserCos(W){this._userCos=W}setPriority(W){if(null!=W){if("number"!=typeof W||isNaN(W))throw new v("Invalid type for message priority",p.PARAMETER_INVALID_TYPE);if(W<0||W>255)throw new v("Invalid priority value",p.PARAMETER_OUT_OF_RANGE);this._setPriority(W)}else this._setPriority(void 0)}_setPriority(W){this._priority=W}getUserData(){return this._userData}setUserData(W){this._setUserData(T("userData",W))}_setUserData(W){this._userData=W}getXmlContent(){return this._xmlContent}getXmlContentDecoded(){return this._xmlContent?Z(this._xmlContent):this._xmlContent}setXmlContent(W){const se=T("xmlContent",W);this._xmlContent=se&&unescape(encodeURIComponent(se))}_setXmlContentInternal(W){this._xmlContent=T("xmlContentInternal",W)}setXmlMetadata(W){this._setXmlMetadata(T("xmlMetadata",W))}_setXmlMetadata(W){this._xmlMetadata=W}getXmlMetadata(){return this._xmlMetadata}get binaryMetadataChunk(){return this._binaryMetaChunk||null}set binaryMetadataChunk(W){this._binaryMetaChunk=W}get smfHeader(){return this._smfHeader}set smfHeader(W){this._smfHeader=W}get hasAutoSequenceNumber(){return this._autoSequenceNumber||!1}set hasAutoSequenceNumber(W){this._autoSequenceNumber=W}get hasAutoSenderTimestamp(){return this._autoSenderTimestamp||!1}set hasAutoSenderTimestamp(W){this._autoSenderTimestamp=W}getUserPropertyMap(){return this._userPropertyMap}setUserPropertyMap(W){this._userPropertyMap=z("userPropertyMap",W,H)}setSdtContainer(W){const se=z("sdtContainer",W,N);if(null==se)return this._structuredContainer=null,void this.setBinaryAttachment(null);switch(this._setBinaryAttachment(null),se.getType()){case q.MAP:this._messageType=I.MAP;break;case q.STREAM:this._messageType=I.STREAM;break;case q.STRING:this._messageType=I.TEXT;break;default:throw new v("Invalid parameter: expected SDTField Type of MAP, STREAM, or STRING.",p.PARAMETER_INVALID_TYPE)}this._structuredContainer=se}getSdtContainer(){const W=this.getType(),se=this._binaryAttachment;return W===I.BINARY?null:(void 0!==this._structuredContainer||(this._structuredContainer=0===(se?se.length:0)?null:f.parseSingleElement(se,0)),this._structuredContainer)}dump(W=D.MSGDUMP_FULL){const se=V("flags",W,D);return A.dump(this,se)}clone(){return h(this,$)}reset(){var W;W=this,Object.keys(W).forEach(se=>delete W[se]),U(this)}}},4097:(E,B,c)=>{const{ErrorSubcode:h,OperationError:_}=c(3870),{Long:f}=c(840),{Parameter:m}=c(2201),{ReplayStartLocation:b,ReplayStartType:p}=c(2604),v=c(8764).Buffer,g="rmid1:",w=g.length+3+32,C=/^[0-9a-fA-F]{32}$/g,D=f.UZERO,{isString:A,isValue:I,isInstanceOf:S}=m;class M extends b{constructor(H,G){super({_replayStartValue:{suid:H,messageId:G},_type:p.RGMID}),this._suid=H,this._messageId=G}compare(H){S("otherReplicationGroupMessageId",H,M);const G=H;if(!this._suid.equals(G._suid)){const te="Unable to compare Replication Group Message ID from different origins";throw new _(`Parameter otherReplicationGroupMessageId[${G.toString()}] failed validation`,h.MESSAGE_ID_NOT_COMPARABLE,te)}return this._messageId.gt(G._messageId)?1:this._messageId.lt(G._messageId)?-1:0}inspect(){return`[Replication Group Message Id: ${this.toString()}]`}toString(){const H=v.from(this._suid.toBytesBE().concat(this._messageId.toBytesBE())).toString("hex");return`rmid1:${H.substring(0,5)}-${H.substring(5,16)}-${H.substring(16,24)}-${H.substring(24,32)}`}}function F(q){return new M(q.suid,q.msgid)}const N={fromString:function(q){if(A("id",q),I("id",q.length,w,h.PARAMETER_OUT_OF_RANGE,`length expected: ${w} but is ${q.length}`),!q.startsWith(g))throw new _("Parameter id has invalid Replication Group Message ID format",h.PARAMETER_OUT_OF_RANGE,`id: ${q}, does not start with rmid1:`);const H=q.substring(g.length).split("-");if(4!==H.length||5!==H[0].length||11!==H[1].length||8!==H[2].length||8!==H[3].length)throw new _("Parameter id has invalid Replication Group Message ID format",h.PARAMETER_OUT_OF_RANGE,`id: ${q}, does not have valid separation of components`);const G=H.join("").trim();if(C.test(""),!C.test(G))throw new _("Parameter id has invalid Replication Group Message ID format",h.PARAMETER_OUT_OF_RANGE,`id: ${q}, invalid data string value`);let te;try{te=v.from(G,"hex")}catch(Q){throw new _("Parameter id has invalid Replication Group Message ID format",h.PARAMETER_OUT_OF_RANGE,`id: ${q}, failed to read data, cause: ${Q.message}`)}const Z=te?te.length:0;if(16!==Z)throw new _("Parameter id has invalid Replication Group Message ID format",h.PARAMETER_OUT_OF_RANGE,`id: ${q}, failed to read data from id expected length of 16 got ${Z}`);const j=f.fromBits(te.readUInt32BE(4),te.readUInt32BE(0),!0);if(j.eq(D))throw new _("Parameter id has invalid Replication Group Message ID format",h.PARAMETER_OUT_OF_RANGE,`id: ${q}, has invalid origin`);return F({suid:j,msgid:f.fromBits(te.readUInt32BE(12),te.readUInt32BE(8),!0)})}};N.from=F,N.INVALID_SUID=D,E.exports.ReplicationGroupMessageId=M,E.exports.RgmidFactory=N},5754:(E,B,c)=>{const{AbstractQueueDescriptor:h}=c(1018),{QueueAccessType:_}=c(7914),{QueueDescriptor:f}=c(8122),{QueueDescriptorValidator:m}=c(5847),{QueueDiscardBehavior:b}=c(9388),{QueuePermissions:p}=c(5240),{QueueProperties:v}=c(4623),{QueuePropertiesValidator:g}=c(2815),{QueueType:w}=c(1239);E.exports.AbstractQueueDescriptor=h,E.exports.QueueAccessType=_,E.exports.QueueDescriptor=f,E.exports.QueueDescriptorValidator=m,E.exports.QueueDiscardBehavior=b,E.exports.QueuePermissions=p,E.exports.QueueProperties=v,E.exports.QueuePropertiesValidator=g,E.exports.QueueType=w},1018:(E,B,c)=>{const{APIProperties:h}=c(7882),{DestinationType:_}=c(3170),{OperationError:f,ErrorSubcode:m}=c(3870),{QueueType:b}=c(1239),p={durable:!0,type:void 0},v={[b.QUEUE]:"queue",[b.TOPIC_ENDPOINT]:"topic endpoint"},g={[_.TOPIC]:null,[_.QUEUE]:b.QUEUE,[_.TEMPORARY_QUEUE]:b.QUEUE};E.exports.AbstractQueueDescriptor=class extends h{constructor(w){super(p,function(C){if(C&&C.name&&C.type&&_.values.includes(C.type)){if(!g[C.type])throw new f(`Cannot create a descriptor from a ${_.describe(C.type)} destination`,m.PARAMETER_CONFLICT);return{name:C.name,type:b.QUEUE,durable:C.type!==_.TEMPORARY_QUEUE}}return C}(w))}getType(){return this._type}get type(){return this.getType()}set type(w){this._type=w}isDurable(){return this._durable}get durable(){return this.isDurable()}set durable(w){this._durable=w}inspect(){return{type:this.type,durable:this.durable}}toString(){return(this.isDurable()?"":"non")+`-durable ${v[this.getType()]}`}}},7914:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.QueueAccessType=h.new({EXCLUSIVE:"EXCLUSIVE",NONEXCLUSIVE:"NONEXCLUSIVE"})},5847:(E,B,c)=>{const{APIPropertiesValidators:h}=c(7882),{QueueDescriptor:_}=c(8122),{QueueType:f}=c(1239),{validateInstance:m,valBoolean:b,valIsMember:p,valTopicString:v}=h;E.exports.QueueDescriptorValidator={validate(w){const C=m.bind(null,"QueueDescriptor",w);w instanceof _&&C("name",[v]),C("type",[p,f,"QueueType"]),C("durable",[b])}}},8122:(E,B,c)=>{const{AbstractQueueDescriptor:h}=c(1018),{Destination:_}=c(3170),f={name:void 0,durable:!0};class m extends h{constructor(p){super(p instanceof _?{name:p.name,type:p.type}:Object.assign({},f,p))}getName(){return this._name}get name(){return this.getName()}set name(p){this._name=p}inspect(){return{name:this.name,type:this.type,durable:this.durable}}toString(){return`${super.toString()} '${this.getName()}'`}static createFromSpec(p){return p.name?new m(p):h(p)}}E.exports.QueueDescriptor=m},9388:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.QueueDiscardBehavior=h.new({NOTIFY_SENDER_ON:"NOTIFY_SENDER_ON",NOTIFY_SENDER_OFF:"NOTIFY_SENDER_OFF"})},5240:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.QueuePermissions=h.new({NONE:"NONE",READ_ONLY:"READ_ONLY",CONSUME:"CONSUME",MODIFY_TOPIC:"MODIFY_TOPIC",DELETE:"DELETE"})},2815:(E,B,c)=>{const{APIPropertiesValidators:h}=c(7882),{QueueAccessType:_}=c(7914),{QueueDiscardBehavior:f}=c(9388),{QueuePermissions:m}=c(5240),{validateInstance:b,valBoolean:p,valIsMember:v,valNumber:g,valRange:w}=h;E.exports.QueuePropertiesValidator={validate(D){const A=b.bind(null,"QueueProperties",D);null!=D.permissions&&A("permissions",[v,m,"QueuePermissions"]),null!=D.accessType&&A("accessType",[v,_,"QueueAccessType"]),null!=D.quotaMB&&A("quotaMB",[g],[w,0,Number.POSITIVE_INFINITY]),null!=D.maxMessageSize&&A("maxMessageSize",[g],[w,0,Number.POSITIVE_INFINITY]),null!=D.respectsTTL&&A("respectsTTL",[p]),null!=D.discardBehavior&&A("discardBehavior",[v,f,"QueueDiscardBehavior"]),null!=D.maxMessageRedelivery&&A("maxMessageRedelivery",[g],[w,0,255])}}},4623:(E,B,c)=>{var h=c(9489);const{APIProperties:_}=c(7882),{QueueAccessType:f}=c(7914),{QueueDiscardBehavior:m}=c(9388),{QueuePermissions:b}=c(5240),p={permissions:void 0,accessType:void 0,quotaMB:void 0,maxMessageSize:void 0,respectsTTL:void 0,discardBehavior:void 0,maxMessageRedelivery:void 0};E.exports.QueueProperties=class extends _{constructor(v){super(p,v)}get permissions(){return this._permissions}set permissions(v){this._permissions=v}get accessType(){return this._accessType||p.accessType}set accessType(v){this._accessType=v}get quotaMB(){return this._quotaMB}set quotaMB(v){this._quotaMB=v}get maxMessageSize(){return this._maxMessageSize}set maxMessageSize(v){this._maxMessageSize=v}get respectsTTL(){return this._respectsTTL}set respectsTTL(v){this._respectsTTL=v}get discardBehavior(){return this._discardBehavior}set discardBehavior(v){this._discardBehavior=v}get maxMessageRedelivery(){return this._maxMessageRedelivery}set maxMessageRedelivery(v){this._maxMessageRedelivery=v}inspect(){return{permissions:b.describe(this.permissions),accessType:f.describe(this.accessType),quotaMB:this.quotaMB,maxMessageSize:this.maxMessageSize,respectsTTL:this.respectsTTL,discardBehavior:this.discardBehavior?m.describe(this.discardBehavior):"undefined",maxMessageRedelivery:this.maxMessageRedelivery}}toString(){return h(this)}}},1239:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.QueueType=h.new({QUEUE:"QUEUE",TOPIC_ENDPOINT:"TOPIC_ENDPOINT"})},2604:(E,B,c)=>{const{Parameter:h}=c(2201),{ReplayStartLocation:_,ReplayStartType:f}=c(7517),{ReplayStartLocationBeginning:m}=c(5017),{ReplayStartLocationDate:b}=c(4994),{SolclientFactory:p}=c(828);E.exports.ReplayStartLocation=_,E.exports.ReplayStartLocationBeginning=m,E.exports.ReplayStartLocationDate=b,E.exports.ReplayStartType=f,p.createReplayStartLocationBeginning=p.createFactory(()=>new m),p.createReplayStartLocationDate=p.createFactory(v=>b.createReplayStartLocationDate(h.isInstanceOf("date",v,Date)))},7517:(E,B,c)=>{var h=c(9489);const{Enum:_}=c(9359),f=_.new({BEGINNING:0,DATE:1,RGMID:2});E.exports.ReplayStartLocation=class{constructor(m){Object.assign(this,m),void 0===this._type&&(this._type=f.BEGINNING)}toString(){return h(this)}},E.exports.ReplayStartType=f},5017:(E,B,c)=>{const{ReplayStartLocation:h,ReplayStartType:_}=c(7517);E.exports.ReplayStartLocationBeginning=class extends h{constructor(){super({_type:_.BEGINNING})}static inspect(){return"BEGINNING"}}},4994:(E,B,c)=>{const{ReplayStartLocation:h,ReplayStartType:_}=c(7517);class f extends h{constructor(b){super({_replayStartValue:b.getTime(),_type:_.DATE})}inspect(){return`[Epoch Time: ${this._replayStartValue}]`}static createReplayStartLocationDate(b){return new f(b)}}E.exports.ReplayStartLocationDate=f},7252:(E,B,c)=>{const{Codec:h}=c(6646),{SDTDestType:_}=c(9080),{SDTField:f}=c(3971),{SDTFieldType:m}=c(6387),{SDTMapContainer:b}=c(1287),{SDTStreamContainer:p}=c(5341),{SDTUnsupportedValueError:v}=c(7598),{SDTValueErrorSubcode:g}=c(7014);E.exports.Codec=h,E.exports.SDTDestType=_,E.exports.SDTField=f,E.exports.SDTFieldType=m,E.exports.SDTMapContainer=b,E.exports.SDTStreamContainer=p,E.exports.SDTUnsupportedValueError=v,E.exports.SDTValueErrorSubcode=g},6646:(E,B,c)=>{const{EncodeSingleElement:h}=c(2529),{IEEE754LIB:_}=c(1454),{ParseSingleElement:f,StringToBuffer:m}=c(3967),{encodeSingleElement:b}=h,{parseSingleElement:p}=f,{stringToBuffer:v}=m;E.exports.Codec={encodeSingleElement:b,parseSingleElement:p,stringToBuffer:v,IEEE754LIB:_}},8992:(E,B,c)=>{const{Convert:h}=c(840),{SDTDataTypes:_}=c(7155);E.exports.EncodeHeader={encodeHeader:function(m,b){let p=m<<2&255,v=null;return m===_.Map||m===_.Stream?(v=h.int32ToStr(b+5),p|=3):b+2<=255?(v=h.int8ToStr(b+2),p|=0):b+3<=65535?(v=h.int16ToStr(b+3),p|=1):(v=h.int32ToStr(b+5),p|=3),h.int8ToStr(p)+v}}},2214:E=>{E.exports.EncodeInteger={int48ToStr:function(c){let h=c;const _=[];for(let f=0;f<6;f++){const m=h%256;h=Math.floor(h/256),_.push(String.fromCharCode(m))}return _.reverse(),_.join("")}}},7187:(E,B,c)=>{const h=c(2529),_=c(7882),{EncodeHeader:f}=c(8992),{SDTDataTypes:m}=c(7155),{SDTMapContainer:b}=c(1287),{encodeHeader:p}=f;E.exports.EncodeMap={encodeMap(g){const w=[];if(!(g instanceof b))return null;const C=g.getKeys();let D,A=null,I=null,S=null;for(D=0;D<C.length;D++)A=g.getField(C[D]),A&&(S=_.StringUtils.nullTerminate(C[D]),I=p(m.String,S.length),I+=S,w.push(I),h.EncodeSingleElement.encodeSingleElementToBuf(A,w));return w.join("")}}},2529:(E,B,c)=>{const h=c(3170),{Convert:_}=c(840),{EncodeHeader:f}=c(8992),{EncodeInteger:m}=c(2214),{EncodeMap:b}=c(7187),{EncodeStream:p}=c(7678),{IEEE754LIB:v}=c(1454),{SDTDataTypes:g}=c(7155),{SDTDestType:w}=c(9080),{SDTField:C}=c(3971),{SDTFieldType:D}=c(6387),{StringUtils:A}=c(7882),{encodeHeader:I}=f,{int48ToStr:S}=m,{encodeMap:M}=b,{encodeStream:F}=p,{nullTerminate:N}=A,q=Math.pow(2,48);function H(te,Z){if(!(te instanceof C))return!1;const j=te.getValue();let Q=null,V=0;switch(te.getType()){case D.BOOL:V=g.Boolean,Q=_.int8ToStr(j?1:0);break;case D.UINT8:V=g.UnsignedInteger,Q=_.int8ToStr(j);break;case D.INT8:V=g.Integer,Q=_.int8ToStr(j);break;case D.UINT16:V=g.UnsignedInteger,Q=_.int16ToStr(j);break;case D.INT16:V=g.Integer,Q=_.int16ToStr(j);break;case D.UINT32:V=g.UnsignedInteger,Q=_.int32ToStr(j);break;case D.INT32:V=g.Integer,Q=_.int32ToStr(j);break;case D.UINT64:V=g.UnsignedInteger,Q=String.fromCharCode(0)+String.fromCharCode(0)+S(j);break;case D.INT64:V=g.Integer,Q=j>=0?String.fromCharCode(0)+String.fromCharCode(0)+S(j):String.fromCharCode(255)+String.fromCharCode(255)+S(q+j);break;case D.WCHAR:V=g.Char,Q=_.int16ToStr(j.charCodeAt(0));break;case D.STRING:V=g.String,Q=N(unescape(encodeURIComponent(j)));break;case D.BYTEARRAY:V=g.ByteArray,Q=j.toString("latin1");break;case D.FLOATTYPE:V=g.Float,Q=v.toIEEE754Single(j);break;case D.DOUBLETYPE:V=g.Float,Q=v.toIEEE754Double(j);break;case D.MAP:V=g.Map,Q=M(j);break;case D.STREAM:V=g.Stream,Q=F(j);break;case D.DESTINATION:V=g.Destination,j instanceof h.Destination&&(Q=_.int8ToStr(w[j.getType()])+j.getBytes());break;case D.NULLTYPE:V=g.Null,Q="";break;case D.UNKNOWN:Q=null}if(null!==Q){const ie=I(V,Q.length);return Z.push(ie),Z.push(Q),!0}return!1}E.exports.EncodeSingleElement={encodeSingleElement:function(te){const Z=[];return H(te,Z),Z.join("")},encodeSingleElementToBuf:H}},7678:(E,B,c)=>{const h=c(2529),{SDTStreamContainer:_}=c(5341);E.exports.EncodeStream={encodeStream:function(m){const b=[];if(!(m instanceof _))return null;let p=null;for(;m.hasNext();)p=m.getNext(),p&&h.EncodeSingleElement.encodeSingleElementToBuf(p,b);return b.join("")}}},1454:E=>{E.exports.IEEE754LIB={toIEEE754(c,h,_){let f=c;const m=(1<<h-1)-1;let b,p,v;if(isNaN(f))p=(1<<m)-1,v=1,b=0;else if(f===1/0||f===-1/0)p=(1<<m)-1,v=0,b=f<0?1:0;else if(0===f)p=0,v=0,b=1/f==-1/0?1:0;else if(b=f<0,f=Math.abs(f),f>=Math.pow(2,1-m)){const D=Math.min(Math.floor(Math.log(f)/Math.LN2),m);p=D+m,v=f*Math.pow(2,_-D)-Math.pow(2,_)}else p=0,v=f/Math.pow(2,1-m-_);const g=[];for(let D=_;D;D-=1)g.push(v%2?1:0),v=Math.floor(v/2);for(let D=h;D;D-=1)g.push(p%2?1:0),p=Math.floor(p/2);g.push(b?1:0),g.reverse();let w=g.join("");const C=[];for(;w.length;)C.push(parseInt(w.substring(0,8),2)),w=w.substring(8);return C},fromIEEE754(c,h,_){const f=[];for(let w=c.length;w;w-=1){let C=c[w-1];for(let D=8;D;D-=1)f.push(C%2?1:0),C>>=1}f.reverse();const m=f.join(""),b=(1<<h-1)-1,p=parseInt(m.substring(0,1),2)?-1:1,v=parseInt(m.substring(1,1+h),2),g=parseInt(m.substring(1+h),2);return v===(1<<h)-1?0!==g?NaN:p*(1/0):v>0?p*Math.pow(2,v-b)*(1+g/Math.pow(2,_)):0!==g?p*Math.pow(2,-(b-1))*(g/Math.pow(2,_)):0},strToByteArr(c){const h=[];for(let _=0;_<c.length;_++)h.push(255&c.charCodeAt(_));return h},byteArrToStr(c){const h=[];for(let _=0;_<c.length;_++)h.push(String.fromCharCode(255&c[_]));return h.join("")},fromIEEE754Double(c){return this.fromIEEE754(this.strToByteArr(c),11,52)},toIEEE754Double(c){return this.byteArrToStr(this.toIEEE754(c,11,52))},fromIEEE754Single(c){return this.fromIEEE754(this.strToByteArr(c),8,23)},toIEEE754Single(c){return this.byteArrToStr(this.toIEEE754(c,8,23))}}},1425:(E,B,c)=>{const{DestinationFromNetwork:h,DestinationType:_,Queue:f}=c(3170),{LOG_INFO:b}=c(390),{SDTDestType:p}=c(9080),{SDTField:v}=c(3971),{SDTFieldType:g}=c(6387),{Topic:w}=c(3170);E.exports.ParseDestination={parseDestination:function(D,A,I){const S=D.readUInt8(A),M=D.toString("latin1",A+1,A+I);let F=h.createDestinationFromBytes(M);if(p[F.type]!==S)if(p[_.QUEUE]===S)F=f.createFromLocalName(M);else{if(p[_.TOPIC]!==S)return b(`Drop SDT field with invalid destination type ${S} when decoding ${M} to ${F.type}`),null;F=new w(M)}return v.create(g.DESTINATION,F)}}},198:(E,B,c)=>{const{ParseInteger:h}=c(7267),{autoDecodeVarLengthNumber:_}=h;E.exports.ParseFieldHeader={parseFieldHeader:function(m,b){let p=b;const v=m.readUInt8(p),g=(252&v)>>2,w=1+(3&v);p++;const C=_(m,p,w);return p+=w,[g,C,C-(1+w),p-b]}}},6612:(E,B,c)=>{const{SDTField:h}=c(3971),{SDTFieldType:_}=c(6387);E.exports.ParseFloat={parseFloatField:function(m,b,p){switch(p){case 4:return h.create(_.FLOATTYPE,m.readFloatBE(b));case 8:return h.create(_.DOUBLETYPE,m.readDoubleBE(b));default:return h.create(_.UNKNOWN,m.toString("latin1",b,b+p))}}}},7267:(E,B,c)=>{const h=c(1583),{SDTField:_}=c(3971),{SDTFieldType:f}=c(6387),{SDTUnsupportedValueError:m}=c(7598),{SDTValueErrorSubcode:b}=c(7014),{create:p}=_;E.exports.ParseInteger={autoDecodeVarLengthNumber:function(g,w,C){return!![1,2,3,4].includes(C)&&g.readUIntBE(w,C)},parseIntegerField:function(g,w,C,D){let A=0;switch(D){case 1:return g?(A=w.readInt8(C),p(f.INT8,A)):(A=w.readUInt8(C),p(f.UINT8,A));case 2:return g?(A=w.readInt16BE(C),p(f.INT16,A)):(A=w.readUInt16BE(C),p(f.UINT16,A));case 4:return g?(A=w.readInt32BE(C),p(f.INT32,A)):(A=w.readUInt32BE(C),p(f.UINT32,A));case 8:{let I=null;const S=h.fromBits(w.readUInt32BE(C+4),w.readUInt32BE(C),!g);S.getNumBitsAbs()>48&&(I=new m("Value is not supported",b.VALUE_OUTSIDE_SUPPORTED_RANGE,w.toString("latin1",C,D))),A=S.toNumber();const M=p(g?f.INT64:f.UINT64,A);return I&&M.setError(I),M}default:return null}}}},6403:(E,B,c)=>{const h=c(3967),{LOG_ERROR:_}=c(390),{ParseFieldHeader:f}=c(198),{SDTDataTypes:m}=c(7155),{SDTField:b}=c(3971),{SDTFieldType:p}=c(6387),{SDTMapContainer:v}=c(1287);E.exports.ParseMap={parseMapAt:function(w,C,D){const A=new v;let I=C;for(;I<C+D;){const S=f.parseFieldHeader(w,I);if(I+=S[3],S[0]!==m.String)return _("Error parsing SDTMAP, expected to find a string field as map key, and didn't"),_(`Type of key: ${S[0]}`),b.create(p.MAP,null);const M=w.toString("latin1",I,I+S[2]-1);I+=S[2];const F=f.parseFieldHeader(w,I),N=h.ParseSingleElement.parseSingleElement(w,I);I+=F[1],N&&A.addField(M,N)}return b.create(p.MAP,A)}}},3967:(E,B,c)=>{const{Convert:h}=c(840),{ParseDestination:f}=(c(390),c(1425)),{ParseFieldHeader:m}=c(198),{ParseFloat:b}=c(6612),{ParseInteger:p}=c(7267),{ParseMap:v}=c(6403),{ParseStream:g}=c(116),{SDTDataTypes:w}=c(7155),{SDTField:C}=c(3971),{SDTFieldType:D}=c(6387),{utf8ToUcs2:A}=h,{parseFieldHeader:I}=m,{parseFloatField:S}=b,{parseIntegerField:M}=p,{parseMapAt:F}=v,{parseStreamAt:N}=g,{parseDestination:q}=f,G={stringToBuffer:te=>c(8764).Buffer.from(te,"latin1")};E.exports.ParseSingleElement={parseSingleElement(te,Z){const j=I(te,Z);if(!j)return null;const Q=Z+j[3],V=j[2];switch(j[0]){case w.Null:return C.create(D.NULLTYPE,null);case w.Boolean:return C.create(D.BOOL,0!==te.readUInt8(Q));case w.Integer:return M(!0,te,Q,V);case w.UnsignedInteger:return M(!1,te,Q,V);case w.Float:return S(te,Q,V);case w.Char:return C.create(D.WCHAR,String.fromCharCode(te.readUInt16BE(Q)));case w.ByteArray:return C.create(D.BYTEARRAY,te.slice(Q,Q+V));case w.String:return C.create(D.STRING,A(te.toString("latin1",Q,Q+V-1)));case w.Destination:return q(te,Q,V);case w.SMFMessage:return C.create(D.SMF_MESSAGE,te.slice(Q,Q+V));case w.Map:return F(te,Q,V);case w.Stream:return N(te,Q,V);default:return C.create(D.UNKNOWN,te.toString("latin1",Q,Q+V))}}},E.exports.StringToBuffer=G},116:(E,B,c)=>{const h=c(3967),{ParseFieldHeader:_}=c(198),{SDTField:f}=c(3971),{SDTFieldType:m}=c(6387),{SDTStreamContainer:b}=c(5341);E.exports.ParseStream={parseStreamAt:function(v,g,w){const C=new b;let D=g;for(;D<g+w;){const A=_.parseFieldHeader(v,D),I=h.ParseSingleElement.parseSingleElement(v,D);D+=A[1],I&&C.addField(I)}return f.create(m.STREAM,C)}}},7155:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SDTDataTypes=h.new({Null:0,Boolean:1,Integer:2,UnsignedInteger:3,Float:4,Char:5,ByteArray:6,String:7,Destination:8,SMFMessage:9,Map:10,Stream:11})},9080:(E,B,c)=>{const{DestinationType:h}=c(3170),{Enum:_}=c(9359);E.exports.SDTDestType=_.new({[h.TOPIC]:0,[h.QUEUE]:1,[h.TEMPORARY_QUEUE]:1})},6387:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SDTFieldType=h.new({BOOL:0,UINT8:1,INT8:2,UINT16:3,INT16:4,UINT32:5,INT32:6,UINT64:7,INT64:8,WCHAR:9,STRING:10,BYTEARRAY:11,FLOATTYPE:12,DOUBLETYPE:13,MAP:14,STREAM:15,DESTINATION:16,NULLTYPE:17,UNKNOWN:18,SMF_MESSAGE:19})},3971:(E,B,c)=>{const h=c(828),{Convert:_}=c(840),{SDTFieldType:f}=c(6387),{validateSdtField:m}=c(2234),{anythingToBuffer:b}=_,{ProfileBinding:p}=h;class v{constructor(w=f.NULLTYPE,C=null){const D=m(w,C);if(null!==D)throw D;this._type=w,this._value=w===f.BYTEARRAY?b(C):C,this._error=void 0}getType(){return this._type}getValue(){if(void 0!==this._error)throw this._error;return this.getValueNoThrow()}getValueNoThrow(){return void 0!==this._error?this._error:this._type===f.BYTEARRAY&&p.value.byteArrayAsString?this._value.toString("latin1"):this._value}setError(w){this._error=w}toString(){return`[SDTField type:${this._type} value:${this._value}]`}static create(w,C){return new v(w,C)}}E.exports.SDTField=v},1287:(E,B,c)=>{const{ErrorSubcode:h,OperationError:_}=c(3870),{SDTField:f}=c(3971);E.exports.SDTMapContainer=class{constructor(){this._map=[]}getKeys(){return Object.keys(this._map)}getField(m){return this._map[m]}deleteField(m){delete this._map[m]}addField(m,b,p){if(b instanceof f)this._map[m]=b;else{if(void 0===p)throw new _("Invalid parameters to addField: expected SDTField, or type and value",h.PARAMETER_CONFLICT);this._map[m]=f.create(b,p)}}}},5341:(E,B,c)=>{const h=c(3971),{ErrorSubcode:_,OperationError:f}=c(3870);E.exports.SDTStreamContainer=class{constructor(){this._stream=[],this._writable=!0,this._readPt=0}hasNext(){return this._stream.length>this._readPt}getNext(){return this._readPt<this._stream.length?this._stream[this._readPt++]:void 0}rewind(){this._readPt=0}addField(m,b){if(this._writable)if(m instanceof h.SDTField)this._stream.push(m);else{if(void 0===b)throw new f("Invalid parameters to addField: expected SDTField, or type and value",_.PARAMETER_CONFLICT);this._stream.push(h.SDTField.create(m,b))}}}},7598:(E,B,c)=>{const h=c(1880),{SolaceError:_}=c(3870);E.exports.SDTUnsupportedValueError=class extends _{constructor(f,m,b){super("SDTUnsupportedValue",f),this.subcode=m,this.sourceData=b||""}inspect(){return super.inspect({subcode:null,sourceData:f=>h.Debug.formatDumpBytes(f,!1,0)})}getSubcode(){return this.subcode}getSourceData(){return this.sourceData}}},7014:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SDTValueErrorSubcode=h.new({VALUE_OUTSIDE_SUPPORTED_RANGE:1})},2234:(E,B,c)=>{const h=c(3170),_=c(1287),f=c(5341),m=c(2201),{ErrorSubcode:b,OperationError:p}=c(3870),{SDTFieldType:v}=c(6387),g=(()=>{const C=[];return C[v.BOOL]="boolean",C[v.UINT8]="number",C[v.INT8]="number",C[v.UINT16]="number",C[v.INT16]="number",C[v.UINT32]="number",C[v.INT32]="number",C[v.UINT64]="number",C[v.INT64]="number",C[v.WCHAR]="string",C[v.STRING]="string",C[v.BYTEARRAY]="object",C[v.FLOATTYPE]="number",C[v.DOUBLETYPE]="number",C})();function w(C){return new p(`Invalid SDT type:value combination, expected value type ${C}`,b.PARAMETER_INVALID_TYPE)}E.exports.validateSdtField=function(C,D){return g[C]&&("boolean"===g[C]&&"boolean"!=typeof D||"number"===g[C]&&"number"!=typeof D||"string"===g[C]&&"string"!=typeof D)?w(g[C]):C!==v.MAP||m.Check.instanceOf(D,_.SDTMapContainer)?C!==v.STREAM||m.Check.instanceOf(D,f.SDTStreamContainer)?C!==v.DESTINATION||m.Check.instanceOf(D,h.Destination)?null:w("Destination"):w("SDTStreamContainer"):w("SDTMapContainer")}},5594:(E,B,c)=>{const{AuthenticationScheme:h}=c(3278),{CapabilityType:_,ClientCapabilityType:f}=c(2753),{MessageRxCBInfo:m}=c(806),{MutableSessionProperty:b}=c(8075),{Session:p}=c(3401),{SessionEvent:v}=c(5874),{SessionEventCBInfo:g}=c(3397),{SessionEventCode:w}=c(5332),{SessionEventName:C}=c(2495),{SessionProperties:D}=c(2975),{SessionState:A}=c(109),{SolclientFactory:I}=c(828),{SslDowngrade:S}=c(5153);I.createSession=I.createFactory((M,F,N)=>new p(M,F,N)),E.exports.AuthenticationScheme=h,E.exports.CapabilityType=_,E.exports.ClientCapabilityType=f,E.exports.MessageRxCBInfo=m,E.exports.MutableSessionProperty=b,E.exports.Session=p,E.exports.SessionEventCBInfo=g,E.exports.SessionEventCode=w,E.exports.SessionEvent=v,E.exports.SessionEventName=C,E.exports.SessionProperties=D,E.exports.SessionState=A,E.exports.SslDowngrade=S},3278:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.AuthenticationScheme=h.new({BASIC:"AuthenticationScheme_basic",CLIENT_CERTIFICATE:"AuthenticationScheme_clientCertificate",AUTHENTICATION_SCHEME_BASIC:"AuthenticationScheme_basic",AUTHENTICATION_SCHEME_CLIENT_CERTIFICATE:"AuthenticationScheme_clientCertificate",OAUTH2:"AuthenticationScheme_oauth2"})},2753:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.CapabilityType=h.new({PEER_SOFTWARE_VERSION:0,PEER_SOFTWARE_DATE:1,PEER_PLATFORM:2,PEER_PORT_SPEED:3,PEER_PORT_TYPE:4,MAX_DIRECT_MSG_SIZE:5,PEER_ROUTER_NAME:6,MESSAGE_ELIDING:7,NO_LOCAL:8,GUARANTEED_MESSAGE_CONSUME:9,TEMPORARY_ENDPOINT:10,GUARANTEED_MESSAGE_PUBLISH:11,GUARANTEED_MESSAGE_BROWSE:12,ENDPOINT_MGMT:13,SELECTOR:14,MAX_GUARANTEED_MSG_SIZE:15,ACTIVE_CONSUMER_INDICATION:16,COMPRESSION:17,CUT_THROUGH:18,ENDPOINT_DISCARD_BEHAVIOR:19,ENDPOINT_MESSAGE_TTL:20,JNDI:21,PER_TOPIC_SEQUENCE_NUMBERING:22,QUEUE_SUBSCRIPTIONS:23,SUBSCRIPTION_MANAGER:24,TRANSACTED_SESSION:25,MESSAGE_REPLAY:26,COMPRESSED_SSL:27,SHARED_SUBSCRIPTIONS:28,BR_REPLAY_ERRORID:29}),E.exports.ClientCapabilityType=h.new({UNBIND_ACK:0,BR_ERRORID:1})},4664:E=>{E.exports.CorrelatedRequest=class{constructor(B,c,h,_){this.correlationTag=B,this.timer=c,this.correlationKey=h,this.respRecvdCallback=_}}},1188:(E,B,c)=>{const{CapabilityType:h}=c(2753);E.exports.DefaultCapabilities={createDefaultCapabilities:_=>({[h.GUARANTEED_MESSAGE_CONSUME]:!0,[h.GUARANTEED_MESSAGE_PUBLISH]:!0,[h.SHARED_SUBSCRIPTIONS]:!0,[h.MAX_GUARANTEED_MSG_SIZE]:_.assumedMaxAdSize})}},8484:(E,B,c)=>{const{Process:h}=c(7882),_=Math.pow(2,32);function f(b,p){return p>b.length?"0".repeat(p-b.length)+b:b}const m={sessionCounter:0,idCounter:0,RandId:f((Math.random()*_).toFixed(0).toString(),10),NextSessionCounter(){return f((++this.sessionCounter).toString(),4)},NextId(){return++this.idCounter},GenerateClientName(){const{product:b,platform:p}=h;return`${b}/${p}/${this.RandId}/${this.NextSessionCounter()}`},GenerateUserIdentification(){const{product:b,platform:p}=h;return`${b}/${p}/${this.RandId}`},GenerateClientDescription:()=>`solclientjs/${h.description}`.substring(0,254)};E.exports.GlobalContext=m},2583:(E,B,c)=>{c(390);const{parseURL:_}=c(7882);let f;f=(m,b)=>setTimeout(()=>{try{const p=m.map(v=>{const g=_(v).host;return{url:v,host:g,address:g,resolved:!1}});return b(null,p)}catch(p){return b(p)}},0),E.exports.hostListDNSFilter=f},1113:(E,B,c)=>{const{assert:h}=c(9359),{hostListDNSFilter:_}=c(2583),{LogFormatter:f}=c(390),{parseURL:m}=c(7882);function b(v){return Array.isArray(v)?v.map(g=>m(g)):b(v.split(/[,;]/))}class p{constructor(g={url:null,waitTime:0}){Object.assign(this,g)}}E.exports.HostList=class{constructor({url:v,connectRetries:g,reconnectRetries:w,connectRetriesPerHost:C,reconnectRetryWaitInMsecs:D}={}){Object.assign(this,{hosts:b(v).map(A=>A.href),connectTryCount:-1===g?Number.POSITIVE_INFINITY:g+1,reconnectTryCount:-1===w?Number.POSITIVE_INFINITY:w,connectTryCountPerHost:-1===C?Number.POSITIVE_INFINITY:C+1,reconnectRetryWaitInMsecs:D,_mutableState:{},logger:new f("[host-list]")}),h(this.hosts.length>=1),h(this.connectTryCount>=1),h(this.reconnectTryCount>=0),h(this.connectTryCountPerHost>=1)}resolveHosts(v){const{LOG_WARN:w}=this.logger;_(this.hosts,(C,D)=>{if(C)return v(C);h(D.length===this.hosts.length,"Resolve did not return a result for all hosts");let A=0;return D.forEach(I=>{I.address&&++A,I.resolved&&(I.address||w("DNS resolve FAILED:",I.error.code,`${I.error.syscall}('${I.error.hostname}')`,"for",I.url))}),v(0===A?"All hosts failed DNS resolution":null)})}reset(v={wasConnected:!1,disconnected:!1}){Object.assign(this._mutableState,{wasConnected:v.wasConnected,disconnected:v.disconnected,hostPointer:0,hostTries:0,listTries:1,exhausted:!1,lastHostInfo:new p})}getNextHost(){const g=this._mutableState,w=g.wasConnected,C=g.lastHostInfo;h(C,"Next host request with no prior host info -- did you call reset()?");try{if(g.disconnected)return null;h(!g.exhausted,"Next host request after host list exhausted");const D=Object.assign({hosts:this.hosts,hostTriesMax:this.connectTryCountPerHost,listTriesMax:w?this.reconnectTryCount:this.connectTryCount});if(++g.hostTries,g.hostTries>D.hostTriesMax&&(++g.hostPointer,g.hostPointer>=D.hosts.length?(++g.listTries,g.listTries>D.listTriesMax?g.exhausted=!0:(g.hostPointer=0,g.hostTries=1)):g.hostTries=1),g.exhausted)return null;const A=D.hosts[g.hostPointer];h(A,`No host at the host pointer! ${D.hosts}[${g.hostPointer}]`);const S=C.url!==A,M=C.url!==A&&0===g.hostPointer,N=new p({url:A,waitTime:null===C.url||S&&!M?0:this.reconnectRetryWaitInMsecs});return g.lastHostInfo=N,N.url}finally{}}get connectWaitTimeInMsecs(){return h(this._mutableState.lastHostInfo.url,"Getting connectWaitTimeInMsecs having never called getNextHostInfo"),this._mutableState.lastHostInfo.waitTime}currentHostToString(){const v=this._mutableState,g=v.wasConnected,w=Object.assign({hosts:this.hosts,hostTriesMax:this.connectTryCountPerHost,listTriesMax:g?this.reconnectTryCount:this.connectTryCount});return`host '${v.lastHostInfo.url}' (host ${v.hostPointer+1} of ${w.hosts.length})(host connection attempt ${v.hostTries} of ${w.hostTriesMax})(total ${g?"reconnection":"connection"} attempt ${v.listTries} of ${w.listTriesMax})`}}},806:E=>{E.exports.MessageRxCBInfo=class{constructor(B,c){this.messageRxCBFunction=B,this.userObject=c}}},8075:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.MutableSessionProperty=h.new({CLIENT_NAME:1,CLIENT_DESCRIPTION:2})},2779:E=>{E.exports.OutstandingDataRequest=class{constructor(B,c,h,_,f){this.correlationId=B,this.timer=c,this.replyReceivedCBFunction=h,this.reqFailedCBFunction=_,this.userObject=f}}},4876:E=>{E.exports.P2PUtil={getP2PInboxTopic:B=>`${B}/_`,getP2PTopicSubscription:B=>`${B}/>`}},3397:E=>{E.exports.SessionEventCBInfo=class{constructor(B,c){this.userObject=c,this.sessionEventCBFunction=B}}},5332:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SessionEventCode=h.new({UP_NOTICE:0,DOWN_ERROR:1,CONNECT_FAILED_ERROR:2,REJECTED_MESSAGE_ERROR:4,SUBSCRIPTION_ERROR:5,SUBSCRIPTION_OK:6,VIRTUALROUTER_NAME_CHANGED:7,REQUEST_ABORTED:8,REQUEST_TIMEOUT:9,PROPERTY_UPDATE_OK:10,PROPERTY_UPDATE_ERROR:11,CAN_ACCEPT_DATA:13,DISCONNECTED:14,RECONNECTING_NOTICE:22,RECONNECTED_NOTICE:23,REPUBLISHING_UNACKED_MESSAGES:24,ACKNOWLEDGED_MESSAGE:25,UNSUBSCRIBE_TE_TOPIC_OK:26,UNSUBSCRIBE_TE_TOPIC_ERROR:27,MESSAGE:28,GUARANTEED_MESSAGE_PUBLISHER_DOWN:29})},2495:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SessionEventName=h.new({CONNECT:"SessionConnect",DISCONNECT:"SessionDisconnect",DISPOSE:"SessionDispose",CONNECT_TIMEOUT:"SessionConnectTimeout",CONNECT_WAIT_TIMEOUT:"SessionConnectWaitTimeout",DOWNGRADE_TIMEOUT:"SessionDowngradeTimeout",TRANSPORT_UP:"SessionTransportUp",TRANSPORT_DESTROYED:"SessionTransportDestroyed",TRANSPORT_CAN_ACCEPT_DATA:"SessionTransportCanAcceptData",TRANSPORT_PARSE_ERROR:"SessionTransportParseError",TRANSPORT_PROTOCOL_SMP:"SessionSMPMessage",TRANSPORT_PROTOCOL_CLIENTCTRL:"SessionClientCtrlMessage",EXCEPTION:"SessionException",SUBSCRIBE_TIMEOUT:"SessionSubscribeTimeout",CREATE_SUBSCRIBER:"SessionCreateSubscriber",FLOW_UP:"SessionFlowUp",FLOW_FAILED:"SessionFlowFailed",SEND_ERROR:"SessionSendError",FLOWS_DISCONNECTED:"SessionFlowsDisconnected",TRANSPORT_FLUSHED:"SessionTransportFlushed",DNS_RESOLUTION_COMPLETE:"SessionDNSResolutionComplete",TRANSPORT_CHANGE_DONE:"SessionTransportChangeDone"})},5874:(E,B,c)=>{var h=c(9489);const{ErrorSubcode:_,OperationError:f,RequestError:m,RequestEventCode:b}=c(3870),{SessionEventCode:p}=c(5332);function v(A){return class extends A{constructor(I,S,M,F,N=0,q,H){super(...I),this._sessionEventCode=S,this._infoStr=M,this._responseCode=F,this._errorSubcode=N,this._correlationKey=q,this._reason=H}get sessionEventCode(){return this._sessionEventCode}get infoStr(){return this._infoStr}get responseCode(){return this._responseCode}get errorSubcode(){return this.subcode||this._errorSubcode}get errorSubCode(){return this.errorSubcode}get correlationKey(){return this._correlationKey}get reason(){return this._reason}set reason(I){this._reason=I}inspect(){return Object.assign(super.inspect||{},{sessionEventCode:p.describe(this.sessionEventCode),infoStr:this.infoStr,responseCode:this.responseCode,errorSubcode:_.describe(this.errorSubcode),correlationKey:this.correlationKey?this.correlationKey.toString():null,reason:this.reason?this.reason:null})}toString(){return h(this)}}}const g={[p.CONNECT_FAILED_ERROR]:f,[p.DOWN_ERROR]:f,[p.GUARANTEED_MESSAGE_PUBLISHER_DOWN]:f,[p.PROPERTY_UPDATE_ERROR]:m,[p.REJECTED_MESSAGE_ERROR]:m,[p.SUBSCRIPTION_ERROR]:m,[p.UNSUBSCRIBE_TE_TOPIC_ERROR]:f,[b.REQUEST_ABORTED]:m,[b.REQUEST_TIMEOUT]:m},w=(new Map).set(Object,()=>[]).set(f,(A,I,S,M,F,N)=>[I,M,N]).set(m,(A,I,S,M,F,N)=>[I,A,F,N]),C=new Map,D=v(Object);D.build=function(A,I,S,M=0,F,N){const q=g[A]||Object;return new((()=>{let H=C.get(q);return H||(H=v(q),C.set(q,H),H)})())((w.get(q)||(()=>[]))(A,I,S,M,F,N),A,I,S,M,F,N)},E.exports.SessionEvent=D},9191:(E,B,c)=>{var h=c(9489);const{ErrorSubcode:_}=c(3870),{FsmEvent:f}=c(8535),{Hex:m}=c(840),{formatHexString:b}=m;E.exports.SessionFSMEvent=class extends f{constructor(p,v){super(p),this.eventText=null,this.errorSubcode=null,this.eventReason=null,this.smfMsg=null,this.sessionId=null,this.guaranteedFlowObject=null,Object.assign(this,v)}inspect(){return{eventText:this.eventText,eventReason:this.eventReason,errorSubcode:_.describe(this.errorSubcode),sessionId:this.sessionId&&b(this.sessionId)||"N/A"}}getExtraStringInfo(){return h(this)}}},8837:(E,B,c)=>{const h=c(4858),_=c(6780),f=c(7291),m=c(828),b=c(3147),{assert:p}=c(9359),{CapabilityType:v}=c(2753),{Check:g}=c(2201),{CorrelatedRequest:w}=c(4664),{Destination:C}=c(3170),{ErrorResponseSubcodeMapper:D,ErrorSubcode:A,OperationError:I}=c(3870),{FsmEvent:S,State:M,StateMachine:F}=c(8535),{Hex:N}=c(840),{LogFormatter:q}=c(390),{Message:H,MessageDeliveryModeType:G}=c(4789),{P2PUtil:te}=c(4876),{SessionEvent:Z}=c(5874),{SessionEventCode:j}=c(5332),{SessionEventName:Q}=c(2495),{SessionFSMEvent:V}=c(9191),{SessionRequestType:ie}=c(9988),{SessionStateName:z}=c(156),{SslDowngrade:ne}=c(5153),{StatType:T,StatsByMode:$}=c(6818),{StringUtils:U}=c(7882),{SubscriptionUpdateTimeoutMessages:W}=c(1726),{formatHexString:se}=N,{stripNullTerminate:le}=U,{STAT_TX_BYMODE_BYTES:Me,STAT_TX_BYMODE_MSGS:Ee,STAT_RX_BYMODE_BYTES:ye,STAT_RX_BYMODE_MSGS:ue,STAT_TX_BYMODE_REDELIVERED:_e,STAT_TX_BYMODE_BYTES_REDELIVERED:de}=$;E.exports.SessionFSM=class extends F{constructor(k,J,fe,pe){super({name:"SessionFSM"});const Y=this,Fe=this.logger=new q(function(...oe){return[`[session-fsm=${Y.sessionIdHex||"(N/A)"}]`,`[${Y.getCurrentStateName()}]`,...oe]}),{LOG_INFO:ae}=Fe;this.log=Fe.wrap(this.log,this),this._sessionProperties=k,this._session=J,this._sessionStatistics=fe,this._hosts=pe,this._consumers=new h.ConsumerFlows,this._flowInterfaceFactory=oe=>({getCorrelationTag:this.getCorrelationTag.bind(this),incStat:this.incStat.bind(this),sendData:be=>this.send(be,oe,!1),sendToTransport:be=>this.sendToTransport(be,oe,!1),sendControl:be=>this.send(be,oe,!0),enqueueRequest:this.enqueueOutstandingCorrelatedReq.bind(this),createDestinationFromDescriptor:J.createDestinationFromDescriptor.bind(J),createTemporaryDestination:J.createTemporaryDestination.bind(J),isCapable:J.isCapable.bind(J),getCapability:J.getCapability.bind(J),getCurrentStateName:this.getCurrentStateName.bind(this),updateQueueSubscription:J.updateQueueSubscription.bind(J),get sessionIdHex(){return Y.sessionIdHex},get canAck(){return J.canAck}}),this._userBackpressured=!1,this.clearCurrentError(),this.initial(function(){return this.transitionTo(Y.SessionDisconnected,oe=>oe.getStateMachine().reset())}),this.unhandledEventReaction(function(oe){const be=Y.getCurrentState();switch(oe.getName()){case Q.CREATE_SUBSCRIBER:return p(Y._consumers,"collection has lifetime of FSM instance"),Y._consumers.add(oe.guaranteedFlowObject),this;case Q.DISPOSE:return be.terminate(()=>Y.disposeInternal());case Q.FLOW_UP:return this;default:return oe.getName(),Y.getCurrentStateName(),this}}),this.SessionConnecting=new M({name:z.CONNECTING,parentContext:Y},{handleTransportDestroyed(){if(Y._currentHost=Y._hosts.getNextHost(),null===Y._currentHost)return this.transitionToExitPoint(Y.SessionConnecting,"ErrorExit");const{connectWaitTimeInMsecs:oe}=Y._hosts;return oe>0&&!Y._connectWaitTimer?(Y._connectWaitTimer=setTimeout(()=>{Y._connectWaitTimer=null,Y.processEvent(new V({name:Q.CONNECT_WAIT_TIMEOUT}))},oe),this.transitionTo(Y.WaitingForInterConnectTimeout)):this.transitionTo(Y.WaitingForTransport)}}).entry(()=>{Y.setConnectTimer()}).entryPoint("DisconnectTransport",function(){return Y._hosts.reset({wasConnected:void 0,disconnected:!0}),Y._connectFailEvent=j.DISCONNECTED,Y._connectSuccessEvent=j.DISCONNECTED,this.transitionTo(Y.DestroyingTransport)}).entryPoint("ReconnectTransport",function(){Y._connectFailEvent=j.DOWN_ERROR,Y._connectSuccessEvent=j.RECONNECTED_NOTICE;const oe=0===Y._sessionProperties._reconnectRetries;if(Y._hosts.reset({wasConnected:!0,disconnected:oe}),!oe){const be=Y._currentError||{},y=[be.eventText,be.responseCode,be.errorSubcode,void 0,be.eventReason];Y.setPostEventAction(()=>{Y.setConnectTimer(),Y.emitSessionEvent(Z.build(j.RECONNECTING_NOTICE,...y))})}return this.transitionTo(Y.DestroyingTransport)}).initial(()=>(Y.clearCurrentError(),Y._connectFailEvent=j.CONNECT_FAILED_ERROR,Y._connectSuccessEvent=j.UP_NOTICE,Y._hosts.resolveHosts(oe=>Y._hosts?oe?(Y.setCurrentError({errorSubcode:A.UNRESOLVED_HOSTS,eventText:oe}),Y._hosts.reset({disconnected:!0}),this.processEvent(new V({name:Q.EXCEPTION}))):(Y._hosts.reset({wasConnected:!1}),Y._currentHost=Y._hosts.getNextHost(),this.processEvent(new V({name:Q.DNS_RESOLUTION_COMPLETE}))):null),this.transitionTo(Y.WaitingForDNS))).reaction(Q.DNS_RESOLUTION_COMPLETE,function(){return this.transitionTo(Y.WaitingForTransport)}).reaction(Q.DISCONNECT,function(){return this.transitionToEntryPoint(Y.SessionConnecting,"DisconnectTransport")}).reaction(Q.CONNECT_TIMEOUT,function(){return Y.setCurrentError({errorSubcode:A.TIMEOUT,eventText:"Connect timeout"}),this.transitionTo(Y.DestroyingTransport)}).reaction(Q.SEND_ERROR,function(oe){return ae(`SEND_ERROR reached SessionConnecting. ${oe}`),Y.setCurrentError(oe),this.transitionTo(Y.DestroyingTransport)}).reaction(Q.EXCEPTION,function(oe){return Y.setCurrentError(oe),this.transitionTo(Y.DestroyingTransport)}).reaction(Q.TRANSPORT_DESTROYED,function(oe){return Y.setCurrentError(oe),ae("TRANSPORT_DESTROYED event"),this.transitionTo(Y.DestroyingTransport)}).exit(()=>{Y.clearConnectTimer(),Y._connectWaitTimer&&(clearTimeout(Y._connectWaitTimer),Y._connectWaitTimer=null)}).exitPoint("ConnectedExit",()=>(Y.setPostEventAction(()=>{if(Y.emitSessionEvent(Z.build(Y._connectSuccessEvent,`'${Y._hosts.currentHostToString()}'`,200,0,null,null)),Y._userBackpressured){const oe=Z.build(j.CAN_ACCEPT_DATA,"",null,0,null,"");Y.emitSessionEvent(oe),Y._userBackpressured=!1}}),Y.clearCurrentError(),this.transitionTo(Y.SessionTransportUp))).exitPoint("ErrorExit",function(){return Y.setPostEventAction(()=>{const oe=Y._currentError||{};Y.emitSessionEvent(Z.build(Y._connectFailEvent,oe.eventText,oe.responseCode,oe.errorSubcode,void 0,oe.eventReason))}),this.transitionTo(Y.SessionDisconnected)}),this.WaitingForDNS=new M({name:z.WAITING_FOR_DNS,parentContext:Y.SessionConnecting}),this.DestroyingTransport=new M({name:z.DESTROYING_TRANSPORT,parentContext:Y.SessionConnecting}).entry(()=>{ae("Connecting, disposing transport"),Y.destroyTransportSession("Disconnecting session",0)}).reaction(Q.TRANSPORT_DESTROYED,function(oe){return Y.setCurrentError(oe),Y.SessionConnecting.handleTransportDestroyed.call(this)}),this.WaitingForInterConnectTimeout=new M({name:z.WAITING_FOR_INTERCONNECT_TIMEOUT,parentContext:Y.SessionConnecting}).reaction(Q.CONNECT_WAIT_TIMEOUT,function(){return this.transitionTo(Y.WaitingForTransport)}),this.WaitingForTransport=new M({name:z.WAITING_FOR_TRANSPORT,parentContext:Y.SessionConnecting}).initial(()=>{const oe="Cannot establish transport session: creation failed";Y.setConnectTimer(),Y.clearCurrentError();try{Y.initTransport()}catch(be){return this.setCurrentError({eventText:be.message===oe?oe:`${oe}: ${be.message}`,errorSubcode:be.subcode||A.INTERNAL_ERROR,eventReason:be}),Y.SessionConnecting.handleTransportDestroyed.call(this)}return this.transitionTo(Y.WaitingForTransportUp)}),this.WaitingForTransportUp=new M({name:z.WAITING_FOR_TRANSPORT_UP,parentContext:this.WaitingForTransport}).entry(()=>{this._justEntered=!0}).initial(()=>{if(!this._justEntered)return this;this._justEntered=!1;const oe="Cannot establish transport session: connection failed";try{const be=Y._transport.connect();if(be!==b.TransportReturnCode.OK)throw new I(oe,A.CONNECTION_ERROR,b.TransportReturnCode.describe(be));ae(`Attempting to connect session '${Y.sessionId}' to ${Y._hosts.currentHostToString()}`)}catch(be){return this.setCurrentError({eventText:be.message===oe?oe:`${oe}: ${be.message}`,errorSubcode:be.subcode||A.INTERNAL_ERROR,eventReason:be}),Y.SessionConnecting.handleTransportDestroyed.call(this)}return this}).reaction(Q.SEND_ERROR,function(oe){return ae(`SEND_ERROR while waiting for transport up, doing nothing. ${oe}`),this.internalTransition(null)}).reaction(Q.TRANSPORT_UP,function(oe){return Y.sessionId=oe.sessionId||"",Y.sendClientCtrlLogin()===b.TransportReturnCode.OK?this.transitionTo(Y.WaitingForLogin):(Y.setCurrentError({eventText:"Failed to send Client Control Login",errorSubcode:A.LOGIN_FAILURE,responseCode:400}),this.transitionTo(Y.DestroyingTransport))}),this.WaitingForLogin=new M({name:z.WAITING_FOR_LOGIN,parentContext:Y.SessionConnecting}).entry(()=>{Y.setClientCtrlTimer()}).reaction(Q.TRANSPORT_PROTOCOL_CLIENTCTRL,function(oe){const be=oe.smfMsg,y=be.getResponse(),O=y.responseCode,x={responseCode:O};if(Y._responseCode=O,200===O)if(Y.checkNoLocal(be)){if(Y.checkCompressedSsl(be))return Y.updateReadonlySessionProps(be),this.transitionTo(Y.WaitForTransportChange);Object.assign(x,{eventText:"Compressed TLS is not supported by the Solace Message Router",errorSubcode:A.COMPRESSED_TLS_NOT_SUPPORTED})}else Object.assign(x,{eventText:"No Local is not supported by the Solace Message Router",errorSubcode:A.NO_LOCAL_NOT_SUPPORTED});else{const ee=D.getErrorSubcode(O,y.responseString),re=ee===A.UNKNOWN_ERROR?A.LOGIN_FAILURE:ee;ae(`Login failed. Subcode: ${re} respCode: ${O} respString: ${y.responseString}`),Object.assign(x,{eventText:y.responseString,errorSubcode:re})}return Y.setCurrentError(x),this.transitionTo(Y.DestroyingTransport)}).reaction(Q.DOWNGRADE_TIMEOUT,function(){return Y._transport.requestDowngrade&&!1!==Y._transport.requestDowngrade("ClientCtrl timeout",A.TIMEOUT)?this.transitionTo(Y.WaitingForTransportUp):(Y.setCurrentError({eventText:"ClientCtrl timeout",errorSubcode:A.TIMEOUT}),this.transitionTo(Y.DestroyingTransport))}).exit(()=>{Y.clearClientCtrlTimer()}),this.WaitForTransportChange=new M({name:z.WAITING_FOR_TRANSPORT_CHANGE,parentContext:Y.SessionConnecting}).initial(function(){const oe=Y.updateTransportCompression(function(be){this._transport=be,this.processEvent(new V({name:Q.TRANSPORT_CHANGE_DONE}))}.bind(Y));return null===oe?this:(Y._transport=oe,this.transitionTo(Y.ReapplyingSubscriptions))}).reaction(Q.TRANSPORT_CHANGE_DONE,function(){return this.transitionTo(Y.ReapplyingSubscriptions)}),this.ReapplyingSubscriptions=new M({name:z.REAPPLYING_SUBSCRIPTIONS,parentContext:Y.SessionConnecting}).entry(()=>{ae("ReapplyingSubscriptions: entry"),Y.copySubscriptionCacheKeys()}).initial(function(){return!0===Y.reapplySubscriptions()?this.transitionTo(Y.WaitForSubConfirm):this.transitionTo(Y.WaitForCanAcceptData)}).reaction(Q.SUBSCRIBE_TIMEOUT,function(){return Y.setCurrentError({eventText:"Subscription timeout while reapplying",errorSubcode:A.TIMEOUT}),this.transitionTo(Y.DestroyingTransport)}).exit(function(){return Y.clearSubscriptionCacheKeys(),this}),this.WaitForSubConfirm=new M({name:z.WAITING_FOR_SUBCONFIRM,parentContext:Y.ReapplyingSubscriptions}).reaction(Q.TRANSPORT_PROTOCOL_SMP,function(oe){const be=oe.smfMsg.smfHeader,y=le(oe.smfMsg.encodedUtf8Subscription),O=be.pm_respcode,x=be.pm_respstr;if(200!==O){const ee=D.getErrorSubcode(O,x);return ae(`Waiting for subscription confirmation, got ${O} (${ee}) '${x}' on subscription ${y}`),Y.setCurrentError({eventText:x,responseCode:O,errorSubcode:ee}),this.transitionTo(Y.DestroyTransport)}return Y._session.canConnectPublisher&&Y._defaultPublisher&&Y._defaultPublisher.isBindWaiting()?this.transitionTo(Y.WaitingForMessagePublisher):this.transitionToExitPoint(Y.SessionConnecting,"ConnectedExit")}),this.WaitForCanAcceptData=new M({name:z.WAITING_FOR_CAN_ACCEPT_DATA,parentContext:Y.ReapplyingSubscriptions}).reaction(Q.TRANSPORT_PROTOCOL_SMP,function(oe){const be=oe.smfMsg.smfHeader,y=le(oe.smfMsg.encodedUtf8Subscription),O=be.pm_respcode,x=be.pm_respstr;if(200!==O){const ee=D.getErrorSubcode(O,x);return Y.setCurrentError({eventText:x,responseCode:O,errorSubcode:ee}),this.transitionTo(Y.DestroyingTransport)}return ae(`Unexpected 200 OK response to subscription add for ${y}`),this.internalTransition(null)}).reaction(Q.TRANSPORT_CAN_ACCEPT_DATA,function(){return!0===Y.reapplySubscriptions()?this.transitionTo(Y.WaitForSubConfirm):this.internalTransition(null)}),this.WaitingForMessagePublisher=new M({name:z.WAITING_FOR_PUBFLOW,parentContext:Y.SessionConnecting}).entry(()=>{Y._defaultPublisher.connect(),Y.sendPublisherSessionUpEvent(Y._defaultPublisher)}).reaction(Q.FLOW_UP,function(){return Y._defaultPublisher.isBindWaiting()?this.internalTransition(null):this.transitionToExitPoint(Y.SessionConnecting,"ConnectedExit")}).reaction(Q.FLOW_FAILED,function(oe){return Y.setCurrentError({eventText:`Guaranteed Message Publisher Failed: ${oe.eventText}`,errorSubcode:A.LOGIN_FAILURE}),this.transitionTo(Y.DestroyingTransport)}),this.SessionTransportUp=new M({name:z.TRANSPORT_UP,parentContext:Y}).entry(function(){return this}).initial(function(){return Y._session.canConnectConsumer&&(Y._consumers.flows.forEach(oe=>Y.sendConsumerSessionUpEvent(oe)),Y._consumers.reconnectingFlows.forEach(oe=>Y.sendConsumerSessionUpEvent(oe))),this.transitionTo(Y.FullyConnected)}).reaction(Q.DISCONNECT,function(){return this.transitionTo(Y.SessionDisconnecting)}).reaction(Q.EXCEPTION,function(oe){return Y.setCurrentError(oe),Y.cleanupSession(),this.transitionToEntryPoint(Y.SessionConnecting,"ReconnectTransport")}).reaction(Q.SEND_ERROR,function(oe){return Y.setCurrentError(oe),Y.cleanupSession(),this.transitionToEntryPoint(Y.SessionConnecting,"ReconnectTransport")}).reaction(Q.TRANSPORT_DESTROYED,function(oe){return Y.setCurrentError(oe),ae("Received unsolicited TRANSPORT_DESTROYED event while transport is up"),Y.cleanupSession(),this.transitionToEntryPoint(Y.SessionConnecting,"ReconnectTransport")}).reaction(Q.TRANSPORT_PROTOCOL_SMP,function(oe){const be=oe.smfMsg.smfHeader,y=le(oe.smfMsg.encodedUtf8Subscription);return Y.handleSubscriptionUpdateError(be.pm_respcode,be.pm_respstr,y,void 0,!1),this.internalTransition(null)}).reaction(Q.TRANSPORT_CAN_ACCEPT_DATA,function(oe){const be=Z.build(j.CAN_ACCEPT_DATA,"",null,0,null,oe.toString());return Y.emitSessionEvent(be),Y._userBackpressured=!1,this.internalTransition(null)}).reaction(Q.CREATE_SUBSCRIBER,function(oe){const be=Y._consumers.add(oe.guaranteedFlowObject);return Y.sendConsumerSessionUpEvent(be),this}).exit(function(){return Y.clearKeepAlive(),this}),this.FullyConnected=new M({name:z.FULLY_CONNECTED,parentContext:Y.SessionTransportUp}).entry(()=>{Y._connectFailEvent=j.DOWN_ERROR,Y.scheduleKeepAlive()}),this.SessionDisconnected=new M({name:z.DISCONNECTED,parentContext:Y}).reaction(Q.DISCONNECT,function(){return Y.setPostEventAction(()=>{Y.emitSessionEvent(Z.build(j.DISCONNECTED))}),this.internalTransition(null)}).reaction(Q.CONNECT,function(){return this.transitionTo(Y.SessionConnecting)}).reaction(Q.EXCEPTION,function(){return this.internalTransition(null)}),this.SessionDisconnecting=new M({name:z.DISCONNECTING,parentContext:Y}).initial(()=>(ae(`Disconnecting session ${Y}`),this.transitionTo(Y.DisconnectingFlows))).reaction(Q.DISCONNECT,function(){return this.internalTransition(null)}).reaction(Q.EXCEPTION,function(oe){return Y.setCurrentError({errEvent:oe}),Y.cleanupSession(),this.transitionToEntryPoint(Y.SessionConnecting,"DisconnectTransport")}).reaction(Q.TRANSPORT_DESTROYED,function(){return ae("Received unsolicited TRANSPORT_DESTROYED while disconnecting transport"),Y.cleanupSession(),this.transitionToEntryPoint(Y.SessionConnecting,"DisconnectTransport")}),this.DisconnectingFlows=new M({name:z.DISCONNECTING_FLOWS,parentContext:Y.SessionDisconnecting},{gatherPendingFlows(){const{MessageConsumerEventName:oe}=h;p(!this.isGathering),this.isGathering=!0;const be=(y,O,x)=>{if(p(y,"Trying to listen to undefined flow"),this.known.has(y))return;this.known.add(y),this.pending.add(y);const ee=()=>{x.forEach(re=>y._removeListener(re,ee)),this.pending.delete(y),this.isGathering||this.checkPendingFlows()};x.forEach(re=>O.call(y,re,ee));try{y._disconnectSession()}catch(re){ee()}};Y._consumers&&Y._consumers.flows.forEach(y=>{be(y,y._once,[oe.DOWN,oe.DOWN_ERROR])}),this.isGathering=!1},checkPendingFlows(){0===this.pending.size&&(this.gatherPendingFlows(),0===this.pending.size&&this.proceed())},proceed(){this.known=null,this.pending=null,ae("All flows disconnected"),Y.processEvent(new S({name:Q.FLOWS_DISCONNECTED}))}}).entry(function(){this.known=new Set,this.pending=new Set,this.checkPendingFlows()}).reaction(Q.FLOWS_DISCONNECTED,function(){return this.transitionTo(Y.FlushingTransport)}),this.FlushingTransport=new M({name:z.FLUSHING_TRANSPORT,parentContext:Y.SessionDisconnecting},{flushTransport(){Y.cleanupSession(),Y.flushTransportSession(()=>this.onTransportFlushed()),this.sessionId=null},onTransportFlushed(){Y.processEvent(new S({name:Q.TRANSPORT_FLUSHED}))}}).entry(function(){ae("Flushing transport"),this.flushTransport()}).reaction(Q.TRANSPORT_FLUSHED,function(){return ae("Handle Transport Flushed"),this.transitionToEntryPoint(Y.SessionConnecting,"DisconnectTransport")})}addToSubscriptionCache(k){if(g.nothing(k)||!this._subscriptionCache)return;const fe=k.name;null==this._subscriptionCache[fe]?(this._subscriptionCache[fe]=k,this._subscriptionCacheCount++):this._subscriptionCache[fe]=k}cancelOutstandingCorrelatedReq(k){if(g.nothing(k)||!this._correlatedReqs)return null;const J=this._correlatedReqs[k];if(null==J)return null;const{LOG_ERROR:pe}=this.logger;J.timer&&(clearTimeout(J.timer),J.timer=null);try{delete this._correlatedReqs[k]||pe(`Cannot delete ctrl request ${k}`)}catch(Y){pe(`Cannot delete ctrl request ${k}`,Y)}return J}cleanupSession(){const{LOG_INFO:k}=this.logger;k("Clean up session");const{ConsumerFSMEvent:J,ConsumerFSMEventNames:fe}=h;this._correlatedReqs&&Object.keys(this._correlatedReqs).forEach(pe=>this.cancelOutstandingCorrelatedReq(pe)),this.clearConnectTimer(),this.clearClientCtrlTimer(),this.clearKeepAlive(),this._consumers.flows.forEach(pe=>{pe.processFSMEvent(new J({name:fe.SESSION_DOWN}))}),this._consumers.reconnectingFlows.forEach(pe=>{pe.processFSMEvent(new J({name:fe.SESSION_DOWN}))}),this._defaultPublisher&&this._defaultPublisher.processFSMEvent(new _.PublisherFSMEvent({name:_.PublisherFSMEventNames.SESSION_DOWN})),this._session.cleanupSession()}clearClientCtrlTimer(){this._clientCtrlTimer&&(clearTimeout(this._clientCtrlTimer),this._clientCtrlTimer=null)}clearConnectTimer(){this._connectTimer&&(clearTimeout(this._connectTimer),this._connectTimer=void 0)}clearKeepAlive(){const{LOG_INFO:k}=this.logger;this._keepAliveTimer&&(k("Cancel keepalive timer"),clearInterval(this._keepAliveTimer),this._keepAliveTimer=null),this.resetKeepAliveCounter()}checkNoLocal(k){let J=!0;if(!0===this._sessionProperties.noLocal){const fe=k.getRouterCapabilities();J=!!fe&&"boolean"==typeof fe[v.NO_LOCAL]&&fe[v.NO_LOCAL]}return J}checkCompressedSsl(k){if(this._compressedTLS){const fe=k.getRouterCapabilities();return!(!fe||"boolean"!=typeof fe[v.COMPRESSED_SSL])&&!0===fe[v.COMPRESSED_SSL]}return!0}checkSessionDestinationCapability(k){let J=null;return k&&k.getType()&&k.getSubscriptionInfo()&&(k.getSubscriptionInfo().isShare||k.getSubscriptionInfo().isNoExport)&&!this._session.isCapable(v.SHARED_SUBSCRIPTIONS)&&(J=new I("Shared subscriptions are not allowed by router for this client",A.SHARED_SUBSCRIPTIONS_NOT_SUPPORTED,null)),J}clearCurrentError(){this._currentError=null}clearSubscriptionCacheKeys(){this._subscriptionCacheKeys=null}copySubscriptionCacheKeys(){this.clearSubscriptionCacheKeys(),this._subscriptionCacheKeys=Object.keys(this._subscriptionCache||{});const k=te.getP2PTopicSubscription(this._sessionProperties.p2pInboxBase);this._subscriptionCacheKeys.push(k)}createMessagePublisher(){if(!this._sessionProperties.publisherProperties.enabled)return;const{MessagePublisher:J,MessagePublisherEventName:fe}=_,pe=new J({properties:this._sessionProperties.publisherProperties,sessionInterfaceFactory:this._flowInterfaceFactory});pe.on(fe.UP,()=>this.processEvent(new V({name:Q.FLOW_UP},{guaranteedFlowObject:pe}))),pe.on(fe.CONNECT_FAILED_ERROR,Y=>this.processEvent(new V({name:Q.FLOW_FAILED},{guaranteedFlowObject:pe,event:Y,eventText:Y.description}))),pe.on(fe.REJECTED_MESSAGE,(Y,Fe)=>{const Be=Fe.smfHeader,Ye=Be.pm_respcode,ae=Be.pm_respstr,oe=D.getADErrorSubcode(Ye,ae),be=Z.build(j.REJECTED_MESSAGE_ERROR,ae,Ye,oe,Y.getCorrelationKey());be.message=Y,this.emitSessionEvent(be)}),pe.on(fe.ACKNOWLEDGED_MESSAGE,Y=>{const Fe=Z.build(j.ACKNOWLEDGED_MESSAGE,"Message(s) acknowledged",void 0,0,Y.getCorrelationKey());Fe.message=Y,this.emitSessionEvent(Fe)}),pe.on(fe.FLOW_NAME_CHANGED,Y=>{const{messages:Fe,count:Be}=Y;if(Be>0){const Ye=Z.build(j.REPUBLISHING_UNACKED_MESSAGES,`Republishing ${Be} messages due to Guaranteed Message Publisher failed to reconnect`);Ye.messages=Fe,Ye.count=Be,this.emitSessionEvent(Ye)}}),pe.on(fe.CAN_SEND,()=>{this.emitSessionEvent(Z.build(j.CAN_ACCEPT_DATA,`${pe} window is now open and can send`))}),pe.on(fe.GUARANTEED_MESSAGING_DOWN,()=>{this.emitSessionEvent(Z.build(j.GUARANTEED_MESSAGE_PUBLISHER_DOWN,"Guaranteed Message Publishing shut down"))}),this._defaultPublisher=pe}sendConsumerSessionUpEvent(k){const{ConsumerFSMEvent:J,ConsumerFSMEventNames:fe}=h,pe=new J({name:this._session.canConnectConsumer?fe.SESSION_UP:fe.SESSION_UP_NO_AD});pe.guaranteedFlowObject=k,k.processFSMEvent(pe)}sendPublisherSessionUpEvent(k){const fe=new _.PublisherFSMEvent({name:this._session.canConnectPublisher?_.PublisherFSMEventNames.SESSION_UP:_.PublisherFSMEventNames.SESSION_UP_NO_AD});fe.guaranteedFlowObject=k,k.processFSMEvent(fe)}createMessageConsumer(k){const{MessageConsumer:J}=h,fe=new J({properties:k,sessionInterfaceFactory:this._flowInterfaceFactory}),pe=fe.getProperties();if(pe.topicEndpointSubscription){const Fe=this.checkSessionDestinationCapability(pe.topicEndpointSubscription);if(Fe)throw Fe}return this.processEvent(new V({name:Q.CREATE_SUBSCRIBER},{guaranteedFlowObject:fe})),fe}createQueueBrowser(k){const{MessageConsumerAcknowledgeMode:J,QueueBrowser:fe}=h,Y={};return Y.queueDescriptor=k.queueDescriptor,Y.acknowledgeMode=J.CLIENT,Y.browser=!0,Object.prototype.hasOwnProperty.call(k,"connectTimeoutInMsecs")&&(Y.connectTimeoutInMsecs=k.connectTimeoutInMsecs),Object.prototype.hasOwnProperty.call(k,"connectAttempts")&&(Y.connectAttempts=k.connectAttempts),Object.prototype.hasOwnProperty.call(k,"windowSize")&&(Y.windowSize=k.windowSize),Object.prototype.hasOwnProperty.call(k,"transportAcknowledgeTimeoutInMsecs")&&(Y.transportAcknowledgeTimeoutInMsecs=k.transportAcknowledgeTimeoutInMsecs),Object.prototype.hasOwnProperty.call(k,"transportAcknowledgeThresholdPercentage")&&(Y.transportAcknowledgeThresholdPercentage=k.transportAcknowledgeThresholdPercentage),new fe(this.createMessageConsumer(Y))}destroyTransportSession(k,J){if(g.nothing(this._transport))return void this.processEvent(new V({name:Q.TRANSPORT_DESTROYED}));const{LOG_INFO:fe,LOG_ERROR:pe}=this.logger;fe("Destroy transport session");const Y=this._transport.destroy(k,J);this._smfClient=null,Y!==b.TransportReturnCode.OK&&pe(`Failed to destroy transport session, return code: ${b.TransportReturnCode.describe(Y)}`)}disposeInternal(){if(this._disposed)return;const k={transport:()=>{this.destroyTransportSession("Disposing",0),this._transport=null,this._smfClient=null},session:()=>{this.cleanupSession(),this._session=null,this._sessionProperties=null,this._correlatedReqs=null,this._flowInterfaceFactory=null},statistics:()=>{this._sessionStatistics&&(this._sessionStatistics.resetStats(),this._sessionStatistics=null),this._kaStats=null},"subscription cache":()=>{this._subscriptionCache&&(Object.keys(this._subscriptionCache).forEach(J=>this.removeFromSubscriptionCache(J)),this._subscriptionCache=null),this.clearSubscriptionCacheKeys(),this._subscriptionCacheCount=0},MessagePublishers:()=>{this._defaultPublisher&&(this._defaultPublisher.dispose(),this._defaultPublisher=null)},MessageConsumers:()=>{this._consumers.disposeAll(),this._consumers=null},"host list":()=>{this._currentHost=null,this._hosts=null}};Object.keys(k).forEach(J=>{const{LOG_INFO:pe}=this.logger,Y=k[J];try{Y()}catch(Fe){pe(`Dispose: ${J} failed:`,Fe,"...continuing")}}),this._disposed=!0}emitSessionEvent(k){this._session.sendEvent(k)}enqueueOutstandingCorrelatedReq(k,J,fe,pe,Y){if(g.nothing(k))return;const{LOG_INFO:Fe}=this.logger;Fe(`Enqueue outstanding ctrl request correlationTag=${k}`);let Be=null;J&&(Be=setTimeout(J,fe||this._sessionProperties.readTimeoutInMsecs));const Ye=new w(k,Be,pe,Y);this._correlatedReqs[k]=Ye}errorInFsm(k,J,fe=null){const{LOG_INFO:pe}=this.logger,Y=new V({name:Q.EXCEPTION});return pe(`Handling error in FSM: ${k} ${fe&&fe.stack}`),this.setCurrentError({eventText:k,errorSubcode:J,eventReason:fe}),this.processEvent(Y)}flushTransportSession(k){this._transport?this._transport.flush(k):k()}getCorrelationTag(){return this._smfClient.nextCorrelationTag()}getCurrentStateName(){const k=this.getCurrentState();return k?k===this.getFinalState()?z.DISPOSED:this.getCurrentState().getName():null}getStat(k){if(void 0!==this._sessionStatistics)return k===T.TX_TOTAL_DATA_MSGS?this._sessionStatistics.getStat(T.TX_DIRECT_MSGS)+this._sessionStatistics.getStat(T.TX_PERSISTENT_MSGS)+this._sessionStatistics.getStat(T.TX_NONPERSISTENT_MSGS):k===T.TX_TOTAL_DATA_BYTES?this._sessionStatistics.getStat(T.TX_DIRECT_BYTES)+this._sessionStatistics.getStat(T.TX_PERSISTENT_BYTES)+this._sessionStatistics.getStat(T.TX_NONPERSISTENT_BYTES):this._sessionStatistics.getStat(k)}getTransportInfo(){return g.nothing(this._transport)?"Not connected.":this._transport.getInfoStr()}handleADCtrlMessage(k,J){const fe=k.getFlowId(),pe=J.pm_respstr,Y=J.pm_corrtag,{LOG_INFO:Fe,LOG_WARN:Ye}=this.logger;if(Y){this.updateRxStats(k),Fe(`Handle SMF response for correlationTag ${Y}`);const x=this.cancelOutstandingCorrelatedReq(Y);return g.nothing(x)?this.errorInFsm(`Cannot find matching request for response: ${pe}`,A.INTERNAL_ERROR):x.respRecvdCallback?(x.respRecvdCallback(k,x),this):(this.incStat(T.RX_REPLY_MSG_DISCARD),this)}let ae;const oe=k.msgType,{SMFAdProtocolMessageType:be}=f;switch(oe){case be.CLIENTACK:case be.CLIENTNACK:case be.CLOSEPUBFLOW:this._defaultPublisher.flowId===fe&&(ae=this._defaultPublisher);break;default:ae=this._consumers.getFlowById(fe)}if(ae&&!ae.disposed)return this.updateRxStats(k,ae),ae.handleUncorrelatedControlMessage(k),this;const y=k.getResponse(),O=y?`"${y.responseCode} ${y.responseString}" `:"";return Ye(`Dropping ADCTRL.${f.SMFAdProtocolMessageType.describe(k.msgType)} ${O}for unknown flow ${fe}`),this.incStat(T.RX_DISCARD_NO_MATCHING_CONSUMER),this}handleADTrMessage(k,J){const Y=this._consumers.getFlowById(J.pm_ad_flowid);return!Y||Y.disposed?(this.updateRxStats(k,this._sessionStatistics),this.incStat(T.RX_DISCARD_NO_MATCHING_CONSUMER),null):(this.updateRxStats(k,Y),Y.handleDataMessage(k),Y)}handleApiSubscriptionTimeout(k,J){if(null==this._correlatedReqs[k])return;const{LOG_INFO:fe,LOG_ERROR:pe}=this.logger;fe(`${J||"Subscription timeout"} for correlationTag=${k}`);try{delete this._correlatedReqs[k]||pe(`Cannot delete ctrl request ${k}`)}catch(Y){pe(`Cannot delete ctrl request ${k}, exception: ${Y.message}`)}}handleClientCtrlMessage(k,J){let fe;const{LOG_INFO:pe}=this.logger;this.updateRxStats(k),k.msgType===f.SMFClientCtrlMessageType.LOGIN?(fe=b.SMFClient.SMF_CLIENTCTRL_LOGIN_FAKE_CORRELATIONTAG,pe("Handle SMF response for ClientCTRL Login")):(fe=J.pm_corrtag,pe(`Handle SMF response for correlationTag ${fe}`));const Y=this.cancelOutstandingCorrelatedReq(fe);return g.nothing(Y)?this.errorInFsm(`Cannot find matching request for response: ${J.pm_respstr}`,A.INTERNAL_ERROR):Y.respRecvdCallback?Y.respRecvdCallback(k):(pe(`Dropping ClientCtrl message due to mismatched correlation tag ${fe}`),this.incStat(T.RX_REPLY_MSG_DISCARD))}handleClientCtrlResponse(k){const J=new V({name:Q.TRANSPORT_PROTOCOL_CLIENTCTRL});J.smfMsg=k,this.processEvent(J)}handleClientCtrlTimeout(){const{LOG_INFO:k}=this.logger;k("ClientCtrl timeout for session");const J=new V({name:Q.DOWNGRADE_TIMEOUT});this.processEvent(J)}handleConnectTimeout(){const{LOG_INFO:k}=this.logger;k("Connection timeout. Disconnecting");const J=new V({name:Q.CONNECT_TIMEOUT});this.processEvent(J)}handleUpdatePropertyTimeout(k,J){const{LOG_ERROR:fe}=this.logger;try{delete this._correlatedReqs[k]||fe(`Cannot delete ctrl request ${k}`)}catch(Y){fe(`Cannot delete ctrl request ${k}, exception: ${Y.message}`)}const pe=Z.build(j.PROPERTY_UPDATE_ERROR,J,null,A.TIMEOUT,null,null);this.sendEvent(pe)}handleRejectedTrMessage(k){const J=k.pm_respcode,fe=k.pm_tr_topicname_bytes,pe=fe?fe.replace(/\0/g,""):"",Y=k.pm_respstr,Fe=D.getErrorSubcode(J,Y);this.emitSessionEvent(Z.build(j.REJECTED_MESSAGE_ERROR,Y,J,Fe,null,`Topic: ${pe}`))}handleSMFMessage(k){try{const J=k.smfHeader;if(J.discardMessage)return this._sessionStatistics&&this._sessionStatistics.incStat(T.RX_DISCARD_SMF_UNKNOWN_ELEMENT),null;switch(J.smf_protocol){case f.SMFProtocol.TRMSG:return J.smf_adf?this.handleADTrMessage(k,J):(this.updateRxStats(k,this._sessionStatistics),0===J.pm_respcode?this._session.handleDataMessage(k):this.handleRejectedTrMessage(J));case f.SMFProtocol.ADCTRL:return this.handleADCtrlMessage(k,J);case f.SMFProtocol.CLIENTCTRL:return this.handleClientCtrlMessage(k,J);case f.SMFProtocol.SMP:return this.handleSMPMessage(k,J);case f.SMFProtocol.KEEPALIVE:case f.SMFProtocol.KEEPALIVEV2:return null;default:return this.handleUnknownProtocolMessage(k,J)}}catch(J){const{LOG_ERROR:fe}=this.logger;return fe(`Exception in handleSMFMessage, exception: ${J.stack}`),this.errorInFsm(`Exception in handleSMFMessage: ${J.message}`,J.subcode||A.INTERNAL_ERROR,J)}}handleSMFParseError(k){return this.errorInFsm(k,A.PROTOCOL_ERROR)}handleSMPMessage(k,J){this.updateRxStats(k);const fe=this.cancelOutstandingCorrelatedReq(J.pm_corrtag||"");if(g.nothing(fe)||g.nothing(fe.respRecvdCallback)){const pe=new V({name:Q.TRANSPORT_PROTOCOL_SMP});return pe.smfMsg=k,this.processEvent(pe)}return fe.respRecvdCallback(k,fe)}handleSubscriptionUpdateError(k,J,fe,pe,Y){const Fe=D.getErrorSubcode(k,J);Fe!==A.SUBSCRIPTION_ALREADY_PRESENT&&Fe!==A.SUBSCRIPTION_NOT_FOUND&&this.removeFromSubscriptionCache(fe),this._session.handleSubscriptionUpdateError(k,J,fe,pe,Y)}handleSubscriptionTimeout(k){const{LOG_ERROR:J}=this.logger;try{delete this._correlatedReqs[k]||J(`Cannot delete ctrl request ${k}`)}catch(pe){J(`Cannot delete ctrl request ${k}`,pe)}const fe=new V({name:Q.SUBSCRIBE_TIMEOUT});this.processEvent(fe)}handleTransportEvent(k){const{LOG_INFO:J,LOG_WARN:fe}=this.logger,pe=k.getInfoStr()||"";let Y;switch(J(`Receive transport event: ${k}`),k.getTransportEventCode()){case b.TransportSessionEventCode.UP_NOTICE:Y=new V({name:Q.TRANSPORT_UP}),Y.sessionId=k.getSessionId(),this.processEvent(Y);break;case b.TransportSessionEventCode.DESTROYED_NOTICE:Y=new V({name:Q.TRANSPORT_DESTROYED}),Y.sessionId=k.getSessionId(),Y.eventText=pe,Y.errorSubcode=k.getSubcode(),Y.eventReason=k,this._smfClient=null,this._transport=null,this.processEvent(Y);break;case b.TransportSessionEventCode.CAN_ACCEPT_DATA:this.GuaranteedFlowControlledRelief(),Y=new V({name:Q.TRANSPORT_CAN_ACCEPT_DATA}),Y.sessionId=k.getSessionId(),this.processEvent(Y);break;case b.TransportSessionEventCode.SEND_ERROR:Y=new V({name:Q.SEND_ERROR}),Y.sessionId=k.getSessionId(),Y.eventText=k.getInfoStr(),Y.errorSubcode=k.getSubcode(),Y.eventReason=k,this.processEvent(Y);break;case b.TransportSessionEventCode.DATA_DECODE_ERROR:case b.TransportSessionEventCode.PARSE_FAILURE:return this.errorInFsm(k.getInfoStr(),k.getSubcode());default:fe("Received unknown transport session event",k)}return!0}handleUnknownProtocolMessage(k,J){const{LOG_INFO:fe,LOG_ERROR:pe}=this.logger;return this.updateRxStats(k),J&&J.smf_protocol===f.SMFProtocol.TSESSION?(pe(`Received transport session message instead of SMF message, protocol 0x${se(J.smf_protocol)}`),pe(`Transport MessageType=${k.messageType}, target sessionId=${se(k.sessionId)}`),this.errorInFsm("Received message with unknown protocol",A.PARSE_FAILURE)):(this._sessionStatistics&&this._sessionStatistics.incStat(T.RX_DISCARD_SMF_UNKNOWN_ELEMENT),fe(`Drop message with unknown protocol 0x${se(J.smf_protocol)}`),null)}incStat(k,J){return this._sessionStatistics?this._sessionStatistics.incStat(k,J):void 0}initTransport(){const{LOG_INFO:k}=this.logger,J=this._currentHost;k(`Creating transport session ${J}`),this._kaStats={lastMsgWritten:0,lastBytesWritten:0},this._smfClient=new b.SMFClient(fe=>this.handleSMFMessage(fe),fe=>this.handleSMFParseError(fe),this),this._transport=b.TransportFactory.createTransport(J,fe=>this.handleTransportEvent(fe),this._smfClient,this._sessionProperties.clone(),()=>this.sessionIdHex),this.injectTransportInterceptor(this._transportInterceptor)}injectTransportInterceptor(k){this._transportInterceptor=k,this._transport&&this._transport.setInterceptor(k)}keepAliveTimeout(){const{LOG_INFO:fe}=this.logger;if(this._keepAliveCounter>=this._sessionProperties.keepAliveIntervalsLimit)return fe(`Exceed maximum keep alive intervals limit ${this._sessionProperties.keepAliveIntervalsLimit}`),this._keepAliveTimer&&clearInterval(this._keepAliveTimer),this.errorInFsm("Exceed maximum keep alive intervals limit",A.KEEP_ALIVE_FAILURE);const pe=this._transport.getClientStats(),Y=pe.msgWritten,Fe=pe.bytesWritten,Be=new f.KeepAliveMessage;return this.send(Be,null,!0)!==b.TransportReturnCode.OK?this.errorInFsm("Cannot send keep alive message",A.KEEP_ALIVE_FAILURE):(this._kaStats.lastMsgWritten===Y&&this._kaStats.lastBytesWritten<Fe||this._keepAliveCounter++,this._kaStats.lastBytesWritten=pe.bytesWritten,this._kaStats.lastMsgWritten=pe.msgWritten,!0)}prepareAndSendMessage(k){if(k instanceof H){let J;const fe=k.getDeliveryMode();switch(fe){case G.DIRECT:if(!this._transport)return;k._payload_is_memoized=!1,k._memoized_csumm=null,k._memoized_payload=null,J=this.sendToTransport(k);break;case G.PERSISTENT:case G.NON_PERSISTENT:if(!this._defaultPublisher)throw new I("Session does not provide Guaranteed Message Publish capability",A.GM_UNAVAILABLE,this._session.adLocallyDisabled?"locally disabled":"remotely unsupported");this._gmSendDisallowed&&this._gmSendDisallowed(),J=this._defaultPublisher.prepareAdMessageAndSend(k);break;default:{const{LOG_ERROR:pe}=this.logger;pe("Unhandled message delivery mode",G.describe(fe))}}if(J!==b.TransportReturnCode.OK){if(J===b.TransportReturnCode.NO_SPACE)throw this._userBackpressured=!0,new I("Cannot send message - no space in transport",A.INSUFFICIENT_SPACE,b.TransportReturnCode.describe(J));this.setCurrentError(new I("Cannot send message",A.INVALID_OPERATION,b.TransportReturnCode.describe(J))),this.processEvent(new V({name:Q.EXCEPTION}))}}}GuaranteedFlowControlledRelief(){this._defaultPublisher&&this._defaultPublisher.processFSMEvent(new _.PublisherFSMEvent({name:_.PublisherFSMEventNames.CAN_SEND}))}reapplySubscriptions(){const{LOG_INFO:k}=this.logger,{SolclientFactory:{createTopicDestination:fe}}=m;if(k(`Reapplying subscriptions, count=${this._subscriptionCacheKeys.length}`),!this._subscriptionCacheKeys)return!0;try{for(;this._subscriptionCacheKeys.length;){const pe=this._subscriptionCacheKeys.shift(),Y=0===this._subscriptionCacheKeys.length,Fe=fe(pe),Be=this.sendSubscribe(Fe,Y,null,this._sessionProperties.readTimeoutInMsecs,null);Be!==b.TransportReturnCode.OK&&this.errorInFsm(`Error occurred sending subscription: ${b.TransportReturnCode.describe(Be)}`,A.INTERNAL_ERROR)}}catch(pe){if(pe instanceof I&&pe.subcode===A.INSUFFICIENT_SPACE)return!1;this.errorInFsm(`Unexpected expection occurred while reapplying subscriptions: ${pe}`,pe.subcode||A.INTERNAL_ERROR,pe)}return!0}removeFromSubscriptionCache(k){if(g.nothing(k)||!this._subscriptionCache)return null;const{LOG_ERROR:fe}=this.logger,pe=k instanceof C?k.name:k,Y=this._subscriptionCache[pe];if(null==Y)return null;try{delete this._subscriptionCache[pe]?this._subscriptionCacheCount--:fe(`Cannot remove subscription ${pe}`)}catch(Fe){fe(`Cannot remove subscription ${pe}`,Fe)}return Y}reset(){this.resetStats(),this.sessionId=null,this._keepAliveTimer=null,this.resetKeepAliveCounter(),this._correlatedReqs={},this._disposed=!1,this._smfClient=null,this._kaStats={lastMsgWritten:0,lastBytesWritten:0},this._subscriptionCache=null,this._subscriptionCacheKeys=null,this._subscriptionCacheCount=0,this._sessionProperties.reapplySubscriptions&&(this._subscriptionCache={}),this._eventCode=null,this._responseCode=null,this.eventText=null,this.errorSubcode=null,this.eventReason=null}resetKeepAliveCounter(){this._keepAliveCounter=0}resetStats(){return this._sessionStatistics?this._sessionStatistics.resetStats():void 0}scheduleKeepAlive(){const{LOG_ERROR:J}=this.logger,{keepAliveIntervalInMsecs:fe}=this._sessionProperties;0!==fe&&(this._keepAliveTimer&&clearInterval(this._keepAliveTimer),this._keepAliveTimer=setInterval(()=>{try{this.keepAliveTimeout()}catch(pe){J("Error occurred in keepAliveTimeout",pe)}},fe))}send(k,J=this._sessionStatistics,fe=!1){try{return this.sendToTransport(k,J,fe)}catch(pe){this.errorInFsm(`Send operation failed: ${pe.message}`,pe.subcode||A.CONNECTION_ERROR)}return b.TransportReturnCode.CONNECTION_ERROR}sendToTransport(k,J=this._sessionStatistics,fe=!1){let pe=b.TransportReturnCode.CONNECTION_ERROR;if(!this._transport)throw new I("Transport has been destroyed",A.INTERNAL_ERROR);const Y=f.Codec.Encode.encodeCompoundMessage(k);switch(pe=this._transport.send(Y,fe),pe){case b.TransportReturnCode.OK:this.updateTxStats(k,J);break;case b.TransportReturnCode.NO_SPACE:if(!fe)break;default:throw new I(`Transport returned ${b.TransportReturnCode.describe(pe)}`,A.INTERNAL_ERROR)}return pe}sendClientCtrlLogin(){const{LOG_INFO:k}=this.logger;this._compressedTLS=this._sessionProperties.compressionLevel>0&&null!==this._currentHost.match(/tcps:/i),this._plaintextTLS=null!==this._currentHost.match(/tcps:/i)&&this._sessionProperties.sslConnectionDowngradeTo===ne.PLAINTEXT;const pe=f.ClientCtrlMessage.getLogin(this._sessionProperties,this._compressedTLS,this._plaintextTLS),Y=this.send(pe);if(Y!==b.TransportReturnCode.OK)this._responseCode=null,this.eventReason=null,Y===b.TransportReturnCode.NO_SPACE?(this.eventText="Cannot send client control - no space in transport",this.errorSubcode=A.INSUFFICIENT_SPACE):(k(`Cannot send client ctrl, return code\n          ${b.TransportReturnCode.describe(Y)}`),this.eventText="Cannot send client ctrl",this.errorSubcode=A.INVALID_OPERATION);else{const Fe=b.SMFClient.SMF_CLIENTCTRL_LOGIN_FAKE_CORRELATIONTAG;k(`Using internally correlationTag=${Fe} for tracking ClientCTRL Login`),this.enqueueOutstandingCorrelatedReq(Fe,null,null,null,Be=>this.handleClientCtrlResponse(Be))}return Y}sendSubscribe(k,J,fe,pe,Y){const{LOG_INFO:Fe}=this.logger;p(k instanceof C,"sendSubscribe requires a Destination, not a string");const Ye=this.getCorrelationTag(),ae=f.SMPMessage.getSubscriptionMessage(Ye,k,!0,J);p(ae.encodedUtf8Subscription,"Encoded SMP message was invalid");const oe=this.send(ae);return oe!==b.TransportReturnCode.OK?(Fe("Subscribe failed",b.TransportReturnCode.describe(oe)),oe):(J&&this.enqueueOutstandingCorrelatedReq(Ye,()=>this.handleSubscriptionTimeout(Ye),pe||this._sessionProperties.readTimeoutInMsecs,fe,Y),oe)}sendUpdateProperty(k,J,fe,pe,Y){const Fe=this._smfClient.nextCorrelationTag(),Be=f.ClientCtrlMessage.getUpdate(k,J,Fe),Ye=this.send(Be);return Ye!==b.TransportReturnCode.OK||this.enqueueOutstandingCorrelatedReq(Fe,()=>this.handleUpdatePropertyTimeout(Fe),pe||this._sessionProperties.readTimeoutInMsecs,fe,Y),Ye}setClientCtrlTimer(){this.clearClientCtrlTimer(),this._clientCtrlTimer=setTimeout(()=>this.handleClientCtrlTimeout(),this._sessionProperties.transportDowngradeTimeoutInMsecs)}setConnectTimer(){this.clearConnectTimer(),this._connectTimer=setTimeout(()=>this.handleConnectTimeout(),this._sessionProperties.connectTimeoutInMsecs)}setCurrentError(k){const J=this._currentError||{};Object.keys(k).forEach(pe=>null!=k[pe]&&null==J[pe]&&(J[pe]=k[pe],!0)),this._currentError=J}subscriptionUpdate(k,J,fe,pe,Y,Fe){const Be=this.checkSessionDestinationCapability(k);if(Be)throw Be;const Ye=W[Y]||W.default,ae=Y!==ie.REMOVE_DTE_SUBSCRIPTION,oe=Y===ie.ADD_SUBSCRIPTION||Y===ie.ADD_P2PINBOX,be=this.getCorrelationTag(),y=(ae?f.SMPMessage.getSubscriptionMessage:f.AdProtocolMessage.getDTEUnsubscribeMessage)(be,k,oe,J),O=this.send(y);return O!==b.TransportReturnCode.OK||(J&&this.enqueueOutstandingCorrelatedReq(be,()=>this.handleApiSubscriptionTimeout(be,Ye),pe||this._sessionProperties.readTimeoutInMsecs,fe,Fe),Y===ie.ADD_SUBSCRIPTION&&this._sessionProperties.reapplySubscriptions?this.addToSubscriptionCache(k):Y===ie.REMOVE_SUBSCRIPTION&&this._sessionProperties.reapplySubscriptions&&this.removeFromSubscriptionCache(k)),O}queueSubscriptionUpdate(k,J,fe,pe,Y){const Fe=pe?W[ie.ADD_SUBSCRIPTION]:W[ie.REMOVE_SUBSCRIPTION],Be=this.getCorrelationTag(),Ye=f.SMPMessage.getQueueSubscriptionMessage(Be,k,J,pe),ae=this.send(Ye);return ae!==b.TransportReturnCode.OK||this.enqueueOutstandingCorrelatedReq(Be,()=>{const oe=this._correlatedReqs[Be];this.handleApiSubscriptionTimeout(Be,Fe),Y(null,oe)},fe||this._sessionProperties.readTimeoutInMsecs,null,Y),ae}updateRxStats(k,J=this._sessionStatistics){if(!J)return;const fe=k.smfHeader;if(!fe)return;const pe=fe.pm_deliverymode||0,Y=ue[pe],Fe=ye[pe],Be=fe.messageLength;switch(fe.smf_protocol){case f.SMFProtocol.TRMSG:0===fe.pm_respcode&&(J.incStat(T.RX_TOTAL_DATA_MSGS),J.incStat(Y),J.incStat(T.RX_TOTAL_DATA_BYTES,Be),J.incStat(Fe,Be),fe.smf_di&&J.incStat(T.RX_DISCARD_MSG_INDICATION));break;case f.SMFProtocol.CLIENTCTRL:case f.SMFProtocol.SMP:case f.SMFProtocol.KEEPALIVE:case f.SMFProtocol.KEEPALIVEV2:case f.SMFProtocol.ADCTRL:J.incStat(T.RX_CONTROL_MSGS),J.incStat(T.RX_CONTROL_BYTES,Be)}}updateTxStats(k,J=this._sessionStatistics){if(!J)return;void 0!==k.getReplyTo&&k.getReplyTo()&&J.incStat(T.TX_REQUEST_SENT);const fe=k.smfHeader;if(!fe)return;const pe=fe.pm_deliverymode||0;let Y=Ee[pe],Fe=Me[pe];pe!==G.DIRECT&&k.isRedelivered()&&(Y=_e[pe],Fe=de[pe]);const Be=fe.messageLength;switch(fe.smf_protocol){case f.SMFProtocol.TRMSG:J.incStat(Y),J.incStat(Fe,Be);break;case f.SMFProtocol.CLIENTCTRL:case f.SMFProtocol.SMP:case f.SMFProtocol.KEEPALIVE:case f.SMFProtocol.KEEPALIVEV2:case f.SMFProtocol.ADCTRL:J.incStat(T.TX_CONTROL_MSGS),J.incStat(T.TX_CONTROL_BYTES,Be)}}updateReadonlySessionProps(k){const J=this._sessionProperties;J._setVpnNameInUse(k.getVpnNameInUseValue()||"");const fe=J.virtualRouterName,pe=k.getVridInUseValue()||"";J._setVirtualRouterName(pe),""!==fe&&fe!==pe&&this.handleVirtualRouterNameChange(fe,pe),J._setP2pInboxBase(k.getP2PTopicValue()||""),J._setP2pInboxInUse(te.getP2PInboxTopic(J.p2pInboxBase)),this._session.updateCapabilities(k.getRouterCapabilities());const Y=this._session._getCapability(v.GUARANTEED_MESSAGE_PUBLISH);this._gmSendDisallowed="boolean"!=typeof Y||Y?null:()=>{throw new I("Sending guaranteed message is not allowed by router for this client",A.INVALID_OPERATION,null)}}handleVirtualRouterNameChange(k,J){this._consumers&&(this._consumers.flows.forEach(fe=>fe.onVRNChanged()),this._consumers.reconnectingFlows.forEach(fe=>fe.onVRNChanged())),this.emitSessionEvent(Z.build(j.VIRTUALROUTER_NAME_CHANGED,`Virtual router name is changed from ${k} to ${J}`,null,0,null,null))}get sessionIdHex(){return this.sessionId&&se(this.sessionId)||"N/A"}updateTransportCompression(k){return this._plaintextTLS?(b.TransportFactory.severTls(this._transport,this._compressedTLS,k),null):this._compressedTLS?b.TransportFactory.startCompression(this._transport):this._transport}}},413:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SessionOperation=h.new({CONNECT:"CONNECT",DISCONNECT:"DISCONNECT",CTRL:"CTRL",SEND:"SEND",QUERY_OPERATION:"QUERY_OPERATION"})},928:(E,B,c)=>{const h=c(6780),_=(c(2975),c(7291)),{APIPropertiesValidators:f,parseURL:m}=c(7882),{AuthenticationScheme:b}=c(3278),{Check:p}=c(2201),{ErrorSubcode:v,OperationError:g}=c(3870),{LOG_WARN:w,LOG_INFO:C}=c(390),{TransportProtocol:A}=(c(5153),c(3147)),{validateInstance:I,valArrayIsMember:S,valBoolean:F,valLength:N,valNotEmpty:q,valNumber:H,valRange:G,valString:te,valStringOrArray:Z}=f,j=["http:","https:","ws:","wss:","tcp:","tcps:"];function Q(T,$,U){const W=_.ClientCtrlMessage.validateClientName($[U],se=>new g(`${T} validation: Property '${U}': ${se}`,v.PARAMETER_OUT_OF_RANGE));if(W)throw W}function V(T,$,U,W,se,le){const Me=$[U];if(!(le&&null===Me||void 0===Me||W.values.some(Ee=>Ee===Me)))throw new g(`${T} validation: Property '${U}' must be a member of ${se}`,v.PARAMETER_INVALID_TYPE)}function ie(T,$,U){const W=$[U],se="string"==typeof W?W.split(","):W;if(!p.array(se))throw new g(`${T} validation: Property '${U}' not an array or comma-delimited string`,v.PARAMETER_INVALID_TYPE);se.forEach(le=>{let Me=null;try{Me=m(le)}catch(Ee){throw new g(`${T} validation: Property '${U}' contained an invalid URL: ${le}`,v.PARAMETER_OUT_OF_RANGE)}if(!p.included(Me.protocol,j))throw new g(`${T} validation: Property '${U}' contained a URL'${Me.href}' with an invalid protocol: '${Me.protocol}'`,v.PARAMETER_OUT_OF_RANGE)})}function z(T,$,U){return function(W,se,le,Me){const Ee=W[se];if(Ee instanceof Array){const ye=Ee.length;for(let ue=0;ue<ye;ue++){const _e=Ee[ue];if(Me){if(Me&&(!p.string(_e)||!_e.match(le)))return!1}else if(p.string(_e)&&_e.match(le))return!0}if(!Me)return!1;if(Me)return!0}return p.string(Ee)&&Ee.match(le)}(T,$,/^(https|wss|tcps):/i,U)}E.exports.SessionPropertiesValidator={validate(T){const $=I.bind(null,"SessionProperties",T);if($("url",[q],[Z],[ie]),$("userName",[te],[N,189]),$("password",[te],[N,128]),$("clientName",[te],[N,160],[Q]),$("applicationDescription",[te],[N,254]),$("vpnName",[te],[N,32]),$("connectTimeoutInMsecs",[H],[G,1,Number.MAX_VALUE]),$("connectRetriesPerHost",[H],[G,-1,Number.MAX_VALUE]),$("connectRetries",[H],[G,-1,Number.MAX_VALUE]),$("reconnectRetries",[H],[G,-1,Number.MAX_VALUE]),$("reconnectRetryWaitInMsecs",[H],[G,0,6e4]),$("readTimeoutInMsecs",[H],[G,1,Number.MAX_VALUE]),$("sendBufferMaxSize",[H],[G,1,Number.MAX_VALUE]),$("maxWebPayload",[H],[G,100,Number.MAX_VALUE]),$("bufferedAmountQueryIntervalInMsecs",[H],[G,4,Number.MAX_VALUE]),$("generateSendTimestamps",[F]),$("generateReceiveTimestamps",[F]),$("includeSenderId",[F]),$("keepAliveIntervalInMsecs",[H],[G,0,Number.MAX_VALUE]),$("keepAliveIntervalsLimit",[H],[G,3,Number.MAX_VALUE]),$("generateSequenceNumber",[F]),$("subscriberLocalPriority",[H],[G,1,4]),$("subscriberNetworkPriority",[H],[G,1,4]),$("ignoreDuplicateSubscriptionError",[F]),$("ignoreSubscriptionNotFoundError",[F]),$("reapplySubscriptions",[F]),$("noLocal",[F]),$("transportDowngradeTimeoutInMsecs",[H],[G,1,Number.MAX_VALUE]),$("idToken",[te]),$("accessToken",[te]),T.transportProtocol&&T.webTransportProtocolList)throw new g("SessionProperties validation: Property 'transportProtocol' and 'webTransportProtocolList' cannot be set at the same time",v.PARAMETER_OUT_OF_RANGE);if(null!=T.webTransportProtocolList){if(!Array.isArray(T.webTransportProtocolList))throw new g("Property 'webTransportProtocolList' must be an array if set",v.PARAMETER_INVALID_TYPE);if(0===T.webTransportProtocolList.length)throw new g("Property 'webTransportProtocolList' must be non-empty if set",v.PARAMETER_OUT_OF_RANGE)}$("authenticationScheme",[V,b,"AuthenticationScheme",!1]);const U=T.authenticationScheme===b.CLIENT_CERTIFICATE;if(!z(T,"url",!0)&&U)throw new g("SessionProperties validation: Property 'authenticationScheme' cannot be set to client certificate for unsecured sessions",v.PARAMETER_OUT_OF_RANGE);if(p.equal(T.authenticationScheme,b.OAUTH2)){if(!z(T,"url",!0))throw new g(`SessionProperties validation: Property 'authenticationScheme' cannot be set to '${b.OAUTH2}' unless the session property 'url' is written to use a secure communication protocol like tcps or https.`,v.PARAMETER_CONFLICT);if(p.empty(T.idToken)&&p.empty(T.accessToken))throw new g(`SessionProperties validation: Property 'authenticationScheme' can be set to '${b.OAUTH2}' only if there is an accompanying token set as a session property. The token types that are supported for OAuth authentication are OAuth2.0 Access Tokens and OpenID Connect ID Tokens. To set an access token you can use the accessToken session property. To set an id you can use the idToken session property.`,v.PARAMETER_CONFLICT)}else p.empty(T.idToken)&&p.empty(T.accessToken)||C(`SessionProperties validation: Property 'authenticationScheme' must be set to '${b.OAUTH2}'in order to use either  an OAUTH2 access token or an OpenID Connect ID token.`);$("transportProtocol",[V,A,"TransportProtocol",!0]),$("webTransportProtocolList",[S,A,"TransportProtocol",!0,!1,!1]),function(le,Me){if(Me.length>0&&(Ee=le)&&(Ee===A.HTTP_BINARY_STREAMING||Ee===A.HTTP_BINARY||Ee===A.HTTP_BASE64)){const Ee=Me.length<=5?Me:Me.slice(0,5);throw new g(`SessionProperties validation: properties that are not supported by transport protocol ${le} have been set: ${Ee}`,v.PARAMETER_OUT_OF_RANGE)}var Ee}(T.transportProtocol,T.nonHTTPTransportPropsSet),T.publisherProperties&&h.MessagePublisherPropertiesValidator.validate(T.publisherProperties);const W=T.defaultConnectTimeoutInMsecs,se=T.connectTimeoutInMsecs;(T.webTransportProtocolList?T.webTransportProtocolList.length:1)>1&&se<W&&w(`Connect timeout of ${se} msecs is less than default and recommended minimum of ${W} msecs for current transport selection. Transport downgrades may not complete.`)}}},2975:(E,B,c)=>{c(2545);const h=c(6780),{APIProperties:_}=c(7882),{AuthenticationScheme:f}=c(3278),{Check:m}=c(2201),{LOG_WARN:b}=c(390),v=(c(5153),class extends _{get transportProtocol(){return m.nothing(this._tpProtocol)?null:this._tpProtocol}set transportProtocol(g){this._tpProtocol=g}get transportDowngradeTimeoutInMsecs(){return m.nothing(this._tpDowngradeTimeout)?3e3:this._tpDowngradeTimeout}set transportDowngradeTimeoutInMsecs(g){this._tpDowngradeTimeout=g}get webTransportProtocolList(){return m.nothing(this._transportProtocolList)?null:this._transportProtocolList}set webTransportProtocolList(g){this._transportProtocolList=g}get bufferedAmountQueryIntervalInMsecs(){return m.nothing(this._bufferedAmountQueryInterval)?100:this._bufferedAmountQueryInterval}set bufferedAmountQueryIntervalInMsecs(g){this._bufferedAmountQueryInterval=g}get transportProtocolInUse(){return this._tpProtocolInUse||null}_setTransportProtocolInUse(g){this._tpProtocolInUse=g}get webTransportProtocolInUse(){return this._tpProtocolInUse||null}_setWebTransportProtocolInUse(g){this._tpProtocolInUse=g}get transportContentType(){return this._tpContentType||"text/plain"}set transportContentType(g){this._tpContentType=g}_lendsInspect(){return{bufferedAmountQueryIntervalInMsecs:this.bufferedAmountQueryIntervalInMsecs,transportContentType:this.transportContentType,transportDowngradeTimeoutInMsecs:this.transportDowngradeTimeoutInMsecs,transportProtocol:this.transportProtocol,transportProtocolInUse:this.transportProtocolInUse,webTransportProtocolList:this.webTransportProtocolList}}});E.exports.SessionProperties=class extends v{constructor(g){super(function(){const{MessagePublisherProperties:w}=h;return{_vpnNameInUse:"",_virtualRouterName:"",_p2pInboxInUse:"",_p2pInboxBase:"",_userIdentification:"",_tpProtocolInUse:null,_tpContentType:"text/plain",_publisherProperties:new w}}(),g)}get authenticationScheme(){return m.nothing(this._authScheme)?f.BASIC:this._authScheme}set authenticationScheme(g){this._authScheme=g}get accessToken(){return m.empty(this._accessToken)?"":this._accessToken}set accessToken(g){this._accessToken=g}get idToken(){return m.empty(this._idToken)?"":this._idToken}set idToken(g){this._idToken=g}get issuerIdentifier(){return m.empty(this._issuerIdentifier)?"":this._issuerIdentifier}set issuerIdentifier(g){m.type(g,"string")?m.empty(g)?b("Failed to set the issuer identifier because the passed string was empty or null. The passed issuer identifier must not be empty or null. Setting issuer identifier to default value empty string."):this._issuerIdentifier=g:(b("Failed to set issuer identifier because the pased value was not of type String. The passed issuer identifier must be of type String. Setting issuer identifier to default value empty string."),this._issuerIdentifier="")}get url(){return m.nothing(this._url)?"":this._url}set url(g){this._url=g}get password(){return m.nothing(this._password)?"":this._password}set password(g){this._password=g}get userName(){return m.nothing(this._userName)?"":this._userName}set userName(g){this._userName=g}get clientName(){return m.nothing(this._clientName)?"":this._clientName}set clientName(g){this._clientName=g}get applicationDescription(){return m.nothing(this._appDesc)?"":this._appDesc}set applicationDescription(g){this._appDesc=g}get vpnName(){return m.nothing(this._vpnName)?"":this._vpnName}set vpnName(g){this._vpnName=g}get vpnNameInUse(){return m.nothing(this._vpnNameInUse)?"":this._vpnNameInUse}_setVpnNameInUse(g){this._vpnNameInUse=g}get virtualRouterName(){return m.nothing(this._virtualRouterName)?"":this._virtualRouterName}_setVirtualRouterName(g){this._virtualRouterName=g}get connectTimeoutInMsecs(){return m.nothing(this._connectTimeout)?this.defaultConnectTimeoutInMsecs:this._connectTimeout}set connectTimeoutInMsecs(g){this._connectTimeout=g}get defaultConnectTimeoutInMsecs(){const{webTransportProtocolList:g,transportDowngradeTimeoutInMsecs:w}=this,C=g?g.length:1;return Math.max(8e3,C*w+(C>1?1e3:0))}get connectRetries(){return m.nothing(this._connectRetries)?20:this._connectRetries}set connectRetries(g){this._connectRetries=g}get connectRetriesPerHost(){return m.nothing(this._connectRetriesPerHost)?0:this._connectRetriesPerHost}set connectRetriesPerHost(g){this._connectRetriesPerHost=g}get reconnectRetryWaitInMsecs(){return m.nothing(this._reconnectRetryWaitInMsecs)?3e3:this._reconnectRetryWaitInMsecs}set reconnectRetryWaitInMsecs(g){this._reconnectRetryWaitInMsecs=g}get reconnectRetries(){return m.nothing(this._reconnectRetries)?20:this._reconnectRetries}set reconnectRetries(g){this._reconnectRetries=g}get generateSendTimestamps(){return!m.nothing(this._genSendTimestamps)&&this._genSendTimestamps}set generateSendTimestamps(g){this._genSendTimestamps=g}get generateReceiveTimestamps(){return!m.nothing(this._genReceiveTimestamps)&&this._genReceiveTimestamps}set generateReceiveTimestamps(g){this._genReceiveTimestamps=g}get includeSenderId(){return!m.nothing(this._includeSenderId)&&this._includeSenderId}set includeSenderId(g){this._includeSenderId=g}get generateSequenceNumber(){return!m.nothing(this._genSequenceNumber)&&this._genSequenceNumber}set generateSequenceNumber(g){this._genSequenceNumber=g}get keepAliveIntervalInMsecs(){return m.nothing(this._kaInterval)?3e3:this._kaInterval}set keepAliveIntervalInMsecs(g){this._kaInterval=g}get keepAliveIntervalsLimit(){return m.nothing(this._kaIntervalsLimit)?3:this._kaIntervalsLimit}set keepAliveIntervalsLimit(g){this._kaIntervalsLimit=g}get p2pInboxInUse(){return m.nothing(this._p2pInboxInUse)?"":this._p2pInboxInUse}_setP2pInboxInUse(g){this._p2pInboxInUse=g}get p2pInboxBase(){return m.nothing(this._p2pInboxBase)?"":this._p2pInboxBase}_setP2pInboxBase(g){this._p2pInboxBase=g}get userIdentification(){return m.nothing(this._userIdentification)?"":this._userIdentification}_setUserIdentification(g){this._userIdentification=g}get subscriberLocalPriority(){return m.nothing(this._subLocalPriority)?1:this._subLocalPriority}set subscriberLocalPriority(g){this._subLocalPriority=g}get subscriberNetworkPriority(){return m.nothing(this._subNetworkPriority)?1:this._subNetworkPriority}set subscriberNetworkPriority(g){this._subNetworkPriority=g}get ignoreDuplicateSubscriptionError(){return!!m.nothing(this._ignoreDupSubError)||this._ignoreDupSubError}set ignoreDuplicateSubscriptionError(g){this._ignoreDupSubError=g}get ignoreSubscriptionNotFoundError(){return!!m.nothing(this._ignoreSubNotFoundError)||this._ignoreSubNotFoundError}set ignoreSubscriptionNotFoundError(g){this._ignoreSubNotFoundError=g}get reapplySubscriptions(){return!m.nothing(this._reapplySubcriptions)&&this._reapplySubcriptions}set reapplySubscriptions(g){this._reapplySubcriptions=g}get publisherProperties(){return this._publisherProperties}set publisherProperties(g){const{MessagePublisherProperties:w}=h;this._publisherProperties=g instanceof w?g:new w(g)}get noLocal(){return!m.nothing(this._noLocal)&&this._noLocal}set noLocal(g){this._noLocal=g}get readTimeoutInMsecs(){return m.nothing(this._readTimeout)?1e4:this._readTimeout}set readTimeoutInMsecs(g){this._readTimeout=g}get sendBufferMaxSize(){return m.nothing(this._sendBufferMaxSize)?65536:this._sendBufferMaxSize}set sendBufferMaxSize(g){this._sendBufferMaxSize=g}get assumedMaxAdSize(){return m.nothing(this._assumedMaxAdSize)?3e7:this._assumedMaxAdSize}set assumedMaxAdSize(g){this._assumedMaxAdSize=g}get maxWebPayload(){return m.nothing(this._maxWebPayload)?1048576:this._maxWebPayload}set maxWebPayload(g){this._maxWebPayload=g}get nonHTTPTransportPropsSet(){return[].filter(g=>m.something(this[g]))}inspect(){return Object.assign(this._lendsInspect(),{authenticationScheme:f.describe(this.authenticationScheme),accessToken:this.accessToken?"*****":"Not Set",idToken:this.idToken?"*****":"Not Set",issuerIdentifier:this.issuerIdentifier?"*****":"Not Set",url:this.url,password:this.password?"*****":this.password,userName:this.userName,clientName:this.clientName,applicationDescription:this.applicationDescription,vpnName:this.vpnName,vpnNameInUse:this.vpnNameInUse,virtualRouterName:this.virtualRouterName,connectTimeoutInMsecs:this.connectTimeoutInMsecs,connectRetries:this.connectRetries,connectRetriesPerHost:this.connectRetriesPerHost,reconnectRetryWaitInMsecs:this.reconnectRetryWaitInMsecs,reconnectRetries:this.reconnectRetries,generateSendTimestamps:this.generateSendTimestamps,generateReceiveTimestamps:this.generateReceiveTimestamps,includeSenderId:this.includeSenderId,generateSequenceNumber:this.generateSequenceNumber,keepAliveIntervalInMsecs:this.keepAliveIntervalInMsecs,keepAliveIntervalsLimit:this.keepAliveIntervalsLimit,p2pInboxInUse:this.p2pInboxInUse,p2pInboxBase:this.p2pInboxBase,userIdentification:this.userIdentification,subscriberLocalPriority:this.subscriberLocalPriority,subscriberNetworkPriority:this.subscriberNetworkPriority,ignoreDuplicateSubscriptionError:this.ignoreDuplicateSubscriptionError,reapplySubscriptions:this.reapplySubscriptions,publisherProperties:this.publisherProperties,noLocal:this.noLocal,readTimeoutInMsecs:this.readTimeoutInMsecs,sendBufferMaxSize:this.sendBufferMaxSize,maxWebPayload:this.maxWebPayload})}toString(){return super.toString()}}},9988:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SessionRequestType=h.new({ADD_SUBSCRIPTION:0,REMOVE_SUBSCRIPTION:1,ADD_P2PINBOX:2,REMOVE_P2PINBOX:3,REMOVE_DTE_SUBSCRIPTION:100})},156:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SessionStateName=h.new({DISCONNECTED:"SessionDisconnected",CONNECTING:"SessionConnecting",WAITING_FOR_TRANSPORT:"WaitingForTransport",WAITING_FOR_TRANSPORT_UP:"WaitingForTransportUp",WAITING_FOR_LOGIN:"WaitingForLogin",TRANSPORT_UP:"SessionTransportUp",FULLY_CONNECTED:"SessionFullyConnected",SESSION_ERROR:"SessionError",DISCONNECTING:"SessionDisconnecting",REAPPLYING_SUBSCRIPTIONS:"ReapplyingSubscriptions",WAITING_FOR_PUBFLOW:"WaitingForMessagePublisher",DISPOSED:"SessionDisposed",WAITING_FOR_SUBCONFIRM:"WaitForSubConfirm",WAITING_FOR_CAN_ACCEPT_DATA:"WaitForCanAcceptData",DISCONNECTING_FLOWS:"DisconnectingFlows",FLUSHING_TRANSPORT:"FlushingTransport",DESTROYING_TRANSPORT:"DestroyingTransport",RECONNECTING:"Reconnecting",TRANSPORT_FAIL:"TransportFail",WAITING_FOR_INTERCONNECT_TIMEOUT:"WaitingForInterconnectTimeout",WAITING_FOR_DNS:"WaitingForDNS",WAITING_FOR_TRANSPORT_CHANGE:"WaitingForTransportChange"})},109:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SessionState=h.new({CONNECTING:1,CONNECTED:2,SESSION_ERROR:3,DISCONNECTING:4,DISCONNECTED:5})},3401:(E,B,c)=>{var h=c(9489);const _=c(3170),f=c(4789),m=c(828),{assert:b}=c(9359),{CacheSession:p,CACHE_REQUEST_PREFIX:v}=c(1843),{CapabilityType:g}=c(2753),{Check:w,Parameter:C}=c(2201),{DefaultCapabilities:D}=c(1188),{ErrorResponseSubcodeMapper:A,ErrorSubcode:I,OperationError:S,RequestEventCode:M}=c(3870),{EventEmitter:F}=c(7758),{GlobalContext:N}=c(8484),{HostList:q}=c(1113),{LogFormatter:H}=c(390),{MessageRxCBInfo:G}=c(806),{MutableSessionProperty:te}=c(8075),{OutstandingDataRequest:Z}=c(2779),{P2PUtil:j}=c(4876),{QueueDescriptor:Q,QueueType:V}=c(5754),{SDTField:ie,SDTFieldType:z}=c(7252),{SessionEvent:ne}=c(5874),{SessionEventCBInfo:T}=c(3397),{SessionEventCode:$}=c(5332),{SessionEventName:U}=c(2495),{SessionFSM:W}=c(8837),{SessionFSMEvent:se}=c(9191),{SessionOperation:le}=c(413),{SessionProperties:Me}=c(2975),{SessionPropertiesValidator:Ee}=c(928),{SessionRequestType:ye}=c(9988),{SessionState:ue}=c(109),{SessionStateName:_e}=c(156),{Stats:de,StatType:k}=c(6818),{StringUtils:J}=c(7882),{TransportCapabilities:fe,TransportProtocol:pe,TransportReturnCode:Y}=c(3147);function Fe(ae){return ae&&ae!==pe.HTTP_BINARY_STREAMING&&ae!==pe.HTTP_BINARY&&ae!==pe.HTTP_BASE64}function Be(ae){return`SessionEventCode.${$.describe(ae)}`}E.exports.Session=class extends F{constructor(ae,oe,be){super({emits:$.values,direct:$.MESSAGE,formatEventName:Be});const y=this;this.logger=new H,this.logger.formatter=function(...ee){return[`[session=${y._sessionFSM?y._sessionFSM.sessionIdHex:"(N/A)"}]`,...ee]},this.on("error",ee=>{const{LOG_ERROR:re}=y.logger;re(ee.info.error)});const x=new Me(ae);if(this._messageCallbackInfo=this.wrapMessageCallback(oe),this._eventCallbackInfo=this.wrapEventCallback(be),w.empty(x.clientName)&&(x.clientName=N.GenerateClientName()),x._setUserIdentification(N.GenerateUserIdentification()),w.empty(x.applicationDescription)&&(x.applicationDescription=N.GenerateClientDescription()),Ee.validate(x),w.nothing(x.webTransportProtocolList)){const ee=x.transportProtocol,re=function(){const{ProfileBinding:Ce}=m,Ne=[];return fe.web.webSocket()&&Ne.push(pe.WS_BINARY),Ce.value.cometEnabled&&(fe.web.xhrBinary()&&(fe.web.streaming()&&Ne.push(pe.HTTP_BINARY_STREAMING),Ne.push(pe.HTTP_BINARY)),Ne.push(pe.HTTP_BASE64)),Ne}(),me=ee?re.indexOf(ee):0;if(me<0)throw new S(`Selected transport protocol ${pe.describe(ee)} is disabled or invalid for this platform`,I.PARAMETER_CONFLICT);if(x.webTransportProtocolList=re.slice(me),0===x.webTransportProtocolList.length)throw new S(`No usable transport protocol or fallback from ${pe.describe(ee)}`,I.PARAMETER_CONFLICT);const Ae=x.webTransportProtocolList.filter(Ce=>Fe(Ce));if(0===Ae.length&&(this._adDisabledReason=`Guaranteed messaging not compatible with any available transport protocol: ${x.webTransportProtocolList.map(Ce=>pe.describe(Ce)).join(", ")}`),x.publisherProperties.enabled){if(this._adDisabledReason)throw new S("Invalid transport protocol(s) for session with Guaranteed Messaging Publisher",I.PARAMETER_CONFLICT,this._adDisabledReason);x.webTransportProtocolList=Ae}}else{const ee=x.webTransportProtocolList;if(!ee.every(Fe)){const re=ee.filter(me=>!Fe(me));if(this._adDisabledReason=`Guaranteed messaging incompatible with selected transport protocols: ${re.map(me=>pe.describe(me)).join(", ")}`,x.publisherProperties.enabled)throw new S("Invalid transport protocol(s) for session with Guaranteed Messaging Publisher",I.PARAMETER_CONFLICT,this._adDisabledReason)}}this._sessionProperties=x,this._sessionStats=new de,this._hosts=new q(x),this._sessionFSM=new W(this._sessionProperties,this,this._sessionStats,this._hosts),this._sessionFSM.start(),this._sessionFSM.createMessagePublisher(),this._outstandingDataReqs={},this._capabilities=D.createDefaultCapabilities(x),this._seqNum=1}connect(){const oe=this.allowOperation(le.CONNECT);if(oe)throw new S(oe,I.INVALID_OPERATION,null);const be=new se({name:U.CONNECT});this._sessionFSM.processEvent(be)}get canAck(){return[_e.CONNECTING,_e.TRANSPORT_UP,_e.DISCONNECTING].some(ae=>!!this._sessionFSM.getActiveState(ae))}disconnect(){const oe=this.allowOperation(le.DISCONNECT);if(oe)throw new S(oe,I.INVALID_OPERATION,null);const be=new se({name:U.DISCONNECT});this._sessionFSM.processEvent(be)}dispose(){this._disposed||setTimeout(()=>{this._sessionFSM.processEvent(new se({name:U.DISPOSE})),this._sessionFSM.terminateFsm(),this.disableEmitter(),this._disposed=!0},0)}subscribe(ae,oe,be,y){ae&&ae.toString&&ae.toString();const x=this.allowOperation(le.CTRL);if(x)throw new S(x,I.INVALID_OPERATION,null);if(C.isInstanceOf("topic",ae,_.Destination),ae.validate(),ae.getType()!==_.DestinationType.TOPIC)throw new S(`Topic is required for subscribe; ${_.DestinationType.describe(ae.getType())}`,I.INVALID_TOPIC_SYNTAX);C.isBooleanOrNothing("requestConfirmation",oe),C.isNumberOrNothing("requestTimeout",y),C.isRangeCompareOrNothing("requestTimeout",y,">",0),this._sessionFSM.subscriptionUpdate(ae,!!oe,be,y,ye.ADD_SUBSCRIPTION,(ee,re)=>this.handleSubscriptionUpdateResponse(ee,re,oe))}updateQueueSubscription(ae,oe,be,y,O,x){ae&&ae.toString&&ae.toString(),oe&&oe.toString&&oe.toString();const re=this.allowOperation(le.CTRL);if(re)throw new S(re,I.INVALID_OPERATION,null);if(C.isInstanceOf("topic",ae,_.Destination),ae.validate(),ae.getType()!==_.DestinationType.TOPIC)throw new S(`Topic is required for queue subscribe; ${_.DestinationType.describe(ae.getType())}`,I.INVALID_TOPIC_SYNTAX);if(C.isInstanceOf("queue",oe,_.Destination),oe.validate(),oe.getType()!==_.DestinationType.QUEUE&&oe.getType()!==_.DestinationType.TEMPORARY_QUEUE)throw new S(`Queue is required for queue subscribe; ${_.DestinationType.describe(oe.getType())}`,I.PARAMETER_INVALID_TYPE);C.isNumberOrNothing("requestTimeout",x),C.isRangeCompareOrNothing("requestTimeout",x,">",0),this._sessionFSM.queueSubscriptionUpdate(ae,oe,x,be,(me,Ae)=>this.handleQueueSubscriptionUpdateResponse(me,Ae,O))}unsubscribe(ae,oe,be,y){ae&&ae.toString&&ae.toString();const x=this.allowOperation(le.CTRL);if(x)throw new S(x,I.INVALID_OPERATION,null);if(C.isInstanceOf("topic",ae,_.Destination),ae.validate(),ae.getType()!==_.DestinationType.TOPIC)throw new S(`Topic is required for unsubscribe; ${_.DestinationType.describe(ae.getType())}`,I.INVALID_TOPIC_SYNTAX);C.isBooleanOrNothing("requestConfirmation",oe),C.isNumberOrNothing("requestTimeout",y),C.isRangeCompareOrNothing("requestTimeout",y,">",0),this._sessionFSM.subscriptionUpdate(ae,!!oe,be,y,ye.REMOVE_SUBSCRIPTION,(ee,re)=>this.handleSubscriptionUpdateResponse(ee,re,oe))}unsubscribeDurableTopicEndpoint(ae){ae&&ae.toString&&ae.toString();const be=this.allowOperation(le.CTRL);if(be)throw new S(be,I.INVALID_OPERATION,null);const y=this.createDestinationFromDescriptor(Q.createFromSpec(ae));this._sessionFSM.subscriptionUpdate(y,!0,void 0,void 0,ye.REMOVE_DTE_SUBSCRIPTION,(O,x)=>this.handleDTEUnsubscribeResponse(O,x))}updateProperty(ae,oe,be,y){const x=this.allowOperation(le.CTRL);if(x)throw new S(x,I.INVALID_OPERATION,null);const{Topic:ee}=_;let re;C.isEnumMember("mutableSessionProperty",ae,te),C.isNumberOrNothing("requestTimeout",be),C.isRangeCompareOrNothing("requestTimeout",be,">",0);const me=this._sessionFSM.sendUpdateProperty(ae,oe,y,be,Ae=>{const Ce=Ae.getResponse();if(200===Ce.responseCode){if(ae===te.CLIENT_DESCRIPTION)this._sessionProperties.applicationDescription=oe,re=ne.build($.PROPERTY_UPDATE_OK,Ce.responseString,Ce.responseCode,0,y,null),this.sendEvent(re);else if(ae===te.CLIENT_NAME){const Ne=j.getP2PTopicSubscription(this._sessionProperties.p2pInboxBase),$e=ee.createFromName(Ne),Ze=j.getP2PTopicSubscription(Ae.getP2PTopicValue()),lt=ee.createFromName(Ze),Gn=Jr=>{const Re=Jr.getResponse();if(200===Re.responseCode)this._sessionProperties._setP2pInboxBase(Ae.getP2PTopicValue()||""),this._sessionProperties._setP2pInboxInUse(j.getP2PInboxTopic(this._sessionProperties.p2pInboxBase)),this._sessionProperties.clientName=oe,re=ne.build($.PROPERTY_UPDATE_OK,Re.responseString,Re.responseCode,0,y,null),this.sendEvent(re);else{const dt=A.getErrorSubcode(Re.responseCode,Re.responseString);dt===I.SUBSCRIPTION_ALREADY_PRESENT&&this._sessionProperties.ignoreDuplicateSubscriptionError?(re=ne.build($.PROPERTY_UPDATE_OK,Re.responseString,Re.responseCode,0,y,null),this.sendEvent(re)):dt===I.SUBSCRIPTION_ALREADY_PRESENT||dt===I.SUBSCRIPTION_ATTRIBUTES_CONFLICT||dt===I.SUBSCRIPTION_INVALID||dt===I.SUBSCRIPTION_ACL_DENIED||dt===I.SUBSCRIPTION_TOO_MANY?(re=ne.build($.PROPERTY_UPDATE_ERROR,Re.responseString,Re.responseCode,dt,y,null),this.sendEvent(re)):(re=ne.build($.PROPERTY_UPDATE_ERROR,Re.responseString,Re.responseCode,I.SUBSCRIPTION_ERROR_OTHER,y,null),this.sendEvent(re))}};this._sessionFSM.subscriptionUpdate($e,!0,y,this._sessionProperties.readTimeoutInMsecs,ye.REMOVE_P2PINBOX,Jr=>{const Re=Jr.getResponse();if(200===Re.responseCode)this._sessionFSM.subscriptionUpdate(lt,!0,y,this._sessionProperties.readTimeoutInMsecs,ye.ADD_P2PINBOX,Gn);else{const dt=A.getErrorSubcode(Re.responseCode,Re.responseString);dt===I.SUBSCRIPTION_NOT_FOUND&&this._sessionProperties.ignoreSubscriptionNotFoundError?this._sessionFSM.subscriptionUpdate(lt,!0,y,this._sessionProperties.readTimeoutInMsecs,ye.ADD_P2PINBOX,Gn):dt===I.SUBSCRIPTION_ATTRIBUTES_CONFLICT||dt===I.SUBSCRIPTION_INVALID||dt===I.SUBSCRIPTION_NOT_FOUND||dt===I.SUBSCRIPTION_ACL_DENIED?(re=ne.build($.PROPERTY_UPDATE_ERROR,Re.responseString,Re.responseCode,dt,null,null),this.sendEvent(re)):(re=ne.build($.PROPERTY_UPDATE_ERROR,Re.responseString,Re.responseCode,I.SUBSCRIPTION_ERROR_OTHER,null,null),this.sendEvent(re))}})}}else{const Ne=A.getErrorSubcode(Ce.responseCode,Ce.responseString);re=ne.build($.PROPERTY_UPDATE_ERROR,Ce.responseString,Ce.responseCode,Ne,y,null),this.sendEvent(re)}});me!==Y.OK&&(re=me===Y.NO_SPACE?ne.build($.PROPERTY_UPDATE_ERROR,"Property update failed - no space in transport",null,I.INSUFFICIENT_SPACE,null,null):ne.build($.PROPERTY_UPDATE_ERROR,"Property update failed",null,I.INVALID_OPERATION,null,null),this.sendEvent(re))}updateAuthenticationOnReconnect(ae){const be=["accessToken","idToken"],y=this.allowOperation(le.QUERY_OPERATION);if(y)throw new S(y,I.INVALID_OPERATION,null);if(!ae||"object"!=typeof ae)throw new S("updateAuthenticationOnReconnect parameter must be a non-empty object.",I.PARAMETER_INVALID_TYPE,null);var O;for(O in ae)if(!be.includes(O))throw new S("Invalid property in updateAuthenticationOnReconnect parameter.",I.PARAMETER_CONFLICT,null);const x=this.getSessionProperties();Object.assign(x,ae),Ee.validate(x),this._sessionProperties=x,Object.assign(this._sessionFSM._sessionProperties,ae)}send(ae){const be=this.allowOperation(le.SEND,ae);if(be)throw new S(be,I.INVALID_OPERATION,null);C.isInstanceOf("message",ae,f.Message),this.validateAndSendMessage(ae)}sendRequest(ae,oe,be,y,O){const ee=this.allowOperation(le.SEND,ae);if(ee)throw new S(ee,I.INVALID_OPERATION,null);if(C.isInstanceOf("message",ae,f.Message),C.isNumberOrNothing("timeout",oe),C.isRangeCompareOrNothing("timeout",oe,">=",100),C.isFunctionOrNothing("replyReceivedCBFunction",be),C.isFunctionOrNothing("requestFailedCBFunction",y),null==ae.getCorrelationId()&&ae.setCorrelationId("#REQ"+N.NextId()),null==ae.getReplyTo()){const re=_.Topic.createFromName(this._sessionProperties.p2pInboxInUse);ae.setReplyTo(re)}this.validateAndSendMessage(ae),this.enqueueOutstandingDataReq(ae.getCorrelationId(),y,oe,be,O)}sendReply(ae,oe){const y=this.allowOperation(le.SEND,oe);if(y)throw new S(y,I.INVALID_OPERATION,null);if(C.isInstanceOfOrNothing("messageToReplyTo",ae,f.Message),C.isInstanceOf("replyMessage",oe,f.Message),oe.setAsReplyMessage(!0),ae){if(oe.setCorrelationId(ae.getCorrelationId()),null==ae.getReplyTo())throw new S("ReplyTo destination may not be null.",I.PARAMETER_OUT_OF_RANGE);oe.setDestination(ae.getReplyTo())}this.validateAndSendMessage(oe)}getStat(ae){const be=this.allowOperation(le.QUERY_OPERATION);if(be)throw new S(be,I.INVALID_OPERATION,null);return C.isEnumMember("statType",ae,k),this._sessionFSM.getStat(ae)}resetStats(){const oe=this.allowOperation(le.QUERY_OPERATION);if(oe)throw new S(oe,I.INVALID_OPERATION,null);this._sessionFSM.resetStats()}getSessionProperties(){const oe=this.allowOperation(le.QUERY_OPERATION);if(oe)throw new S(oe,I.INVALID_OPERATION,null);const be=this._sessionProperties.clone();return this.getSessionState()!==_e.DISCONNECTED&&this._sessionFSM._transport&&be._setWebTransportProtocolInUse(this._sessionFSM._transport.getTransportProtocol()),be}isCapable(ae){const be=this.allowOperation(le.QUERY_OPERATION);if(be)throw new S(be,I.INVALID_OPERATION,null);C.isNumber("capabilityType",ae);const y=this._capabilities;return!!y&&"boolean"==typeof y[ae]&&y[ae]}getCapability(ae){const be=this.allowOperation(le.QUERY_OPERATION);if(be)throw new S(be,I.INVALID_OPERATION,null);C.isNumber("capabilityType",ae);const y=this._getCapability(ae);return"boolean"==typeof y?ie.create(z.BOOL,y):"number"==typeof y?ie.create(z.INT64,y):"string"==typeof y?ie.create(z.STRING,y):null}_getCapability(ae){const oe=this._capabilities;if(!oe)return null;const be=oe[ae];return void 0===be?null:be}getSessionState(){const oe=this.allowOperation(le.QUERY_OPERATION);if(oe)throw new S(oe,I.INVALID_OPERATION,null);const be=this.getFSMState();switch(be){case _e.FULLY_CONNECTED:return ue.CONNECTED;case _e.DISCONNECTING:return ue.DISCONNECTING;case _e.DISCONNECTED:return ue.DISCONNECTED;case _e.SESSION_ERROR:return ue.SESSION_ERROR;case _e.CONNECTING:case _e.WAITING_FOR_INTERCONNECT_TIMEOUT:case _e.WAITING_FOR_DNS:case _e.WAITING_FOR_TRANSPORT_UP:case _e.WAITING_FOR_SESSION_UP:case _e.WAITING_FOR_LOGIN:case _e.WAITING_FOR_P2PINBOX_REG:case _e.WAITING_FOR_PUBFLOW:case _e.REAPPLYING_SUBSCRIPTIONS:return ue.CONNECTING;default:{const{LOG_INFO:y}=this.logger;return y(`Unmapped session state ${_e.describe(be)}`),null}}}getFSMState(){return this._sessionFSM.getCurrentStateName()}createCacheSession(ae){return new p(ae,this,{incStat:this._sessionFSM.incStat.bind(this._sessionFSM)})}createMessageConsumer(ae){if(this._adDisabledReason)throw new S("Session does not provide MessageConsumer capability",I.GM_UNAVAILABLE,this._adDisabledReason);return this._sessionFSM.createMessageConsumer(ae)}createQueueBrowser(ae){if(this._adDisabledReason)throw new S("Session does not provide QueueBrowser capability",I.GM_UNAVAILABLE,this._adDisabledReason);return this._sessionFSM.createQueueBrowser(ae)}createDestinationFromDescriptor(ae){const{DestinationType:oe,Queue:be,Topic:y}=_;let O=oe.TOPIC;ae.type===V.QUEUE&&(O=ae.durable?oe.QUEUE:oe.TEMPORARY_QUEUE);const x=ae.name||null;return ae.durable?(b(x,"Durable endpoint with generated name is not a valid configuration"),(ae.getType()===V.QUEUE?be.createFromLocalName:y.createFromName)(x)):this.createTemporaryDestination(O,x)}createTemporaryDestination(ae,oe){const{DestinationFromNetwork:y,DestinationUtil:O}=_,x=this.getSessionProperties().virtualRouterName;if(!this.isCapable(g.TEMPORARY_ENDPOINT)||null==x||0===x.length)throw new S("Attempt to generate temporary destination or endpoint without suitable session",I.INVALID_OPERATION);const ee=oe&&oe.startsWith("#P2P")?oe:O.createTemporaryName(ae,x,oe);return y.createDestinationFromName(ee)}sendEvent(ae){ae&&!this._disposed&&this._eventCallbackInfo.sessionEventCBFunction(this,ae,this._eventCallbackInfo.userObject)}getTransportInfo(){return this._sessionFSM.getTransportInfo()}injectTransportInterceptor(ae){this._sessionFSM.injectTransportInterceptor(ae)}allowOperation(ae,oe){if(!this._sessionFSM)return!1;let be=!0;const y=this._sessionFSM.getCurrentStateName();if(y===_e.DISPOSED)be=!1;else if(w.anything(ae))switch(ae){case le.CONNECT:y!==_e.NEW&&y!==_e.DISCONNECTED&&(be=!1);break;case le.DISCONNECT:y===_e.NEW&&(be=!1);break;case le.SEND:case le.CTRL:be=y===_e.FULLY_CONNECTED||oe&&oe.getDeliveryMode()!==f.MessageDeliveryModeType.DIRECT;break;case le.QUERY_OPERATION:be=!0;break;default:be=!1}else be=!1;return be?null:`Cannot perform operation ${ae} while in state ${y}`}updateCapabilities(ae){this._capabilities=ae}validateAndSendMessage(ae){const oe=ae.getDestination();if(w.nothing(oe)||w.empty(oe.getName()))throw new S("Message must have a valid Destination",I.TOPIC_MISSING);const be=null==ae.getSenderTimestamp();if(this._sessionProperties.generateSendTimestamps&&(be||ae.hasAutoSenderTimestamp)){const x=new Date;ae.setSenderTimestamp(x.getTime()),ae.hasAutoSenderTimestamp=!0}const y=null==ae.getSequenceNumber();this._sessionProperties.generateSequenceNumber&&(y||ae.hasAutoSequenceNumber)&&(ae.setSequenceNumber(this._seqNum++),ae.hasAutoSequenceNumber=!0);const O=null==ae.getSenderId();this._sessionProperties.includeSenderId&&O&&ae.setSenderId(this._sessionProperties.clientName),this._sessionFSM.prepareAndSendMessage(ae)}enqueueOutstandingDataReq(ae,oe,be,y,O){if(w.none(ae))return;const{LOG_ERROR:ee}=this.logger,re=setTimeout(()=>{this._sessionFSM.incStat(k.TX_REQUEST_TIMEOUT);try{delete this._outstandingDataReqs[ae]||ee(`Cannot delete data request ${ae}`)}catch(Ae){ee(`Cannot delete data request ${ae}`,Ae)}if(w.anything(oe)){const Ae=ne.build(M.REQUEST_TIMEOUT,"Request timeout",ae);oe(this,Ae,O)}},be||this._sessionProperties.readTimeoutInMsecs),me=new Z(ae,re,y,oe,O);this._outstandingDataReqs[ae]=me}cancelOutstandingDataReq(ae){const{LOG_ERROR:be}=this.logger;if(w.none(ae)||!this._outstandingDataReqs)return null;const y=this._outstandingDataReqs[ae];if(null==y)return null;y.timer&&(clearTimeout(y.timer),y.timer=null);try{delete this._outstandingDataReqs[ae]||be(`Cannot delete data request ${ae}`)}catch(O){be(`Cannot delete data request ${ae}`,O)}return y}cleanupSession(){this._outstandingDataReqs&&Object.keys(this._outstandingDataReqs).forEach(oe=>{const be=this.cancelOutstandingDataReq(oe);if(be&&be.reqFailedCBFunction){const y=ne.build(M.REQUEST_ABORTED,"Request aborted",oe);be.reqFailedCBFunction(this,y,be.userObject)}})}handleDataMessage(ae){const{LOG_INFO:be}=this.logger,y=ae;if(this._sessionProperties.generateReceiveTimestamps){const O=new Date;y._receiverTimestamp=O.getTime()}if(y.isReplyMessage()){const O=y.getCorrelationId();if(w.anything(O)){const x=this.cancelOutstandingDataReq(O);if(null!==x)return this._sessionFSM.incStat(k.RX_REPLY_MSG_RECVED),void x.replyReceivedCBFunction(this,y,x.userObject);if(O.startsWith("#REQ"))return be("DROP: Discard reply message due to missing outstanding request"),void this._sessionFSM.incStat(k.RX_REPLY_MSG_DISCARD);if(O.startsWith(v)&&!(p&&this._messageCallbackInfo.userObject instanceof p))return be("DROP: Discard cache reply due to no cache session active"),void this._sessionFSM.incStat(k.RX_REPLY_MSG_DISCARD)}}this._messageCallbackInfo.messageRxCBFunction(this,y,this._messageCallbackInfo.userObject)}handleSubscriptionUpdateResponse(ae,oe,be){const y=ae.getResponse(),{responseCode:O,responseString:x}=y,{correlationKey:ee}=oe;if(200===O){const re=ne.build($.SUBSCRIPTION_OK,x,O,0,ee,null);this.sendEvent(re)}else{const re=J.stripNullTerminate(ae.encodedUtf8Subscription);this._sessionFSM.handleSubscriptionUpdateError(O,x,re,ee,be)}}handleQueueSubscriptionUpdateResponse(ae,oe,be){if(!ae)return void be(!1,I.TIMEOUT,0,"Timeout");const O=ae.getResponse(),{responseCode:x,responseString:ee}=O,re=A.getADErrorSubcode(x,ee);200===x||re===I.SUBSCRIPTION_ALREADY_PRESENT||re===I.SUBSCRIPTION_NOT_FOUND?be(!0,0,x,ee):be(!1,re,x,ee)}handleDTEUnsubscribeResponse(ae,oe){const be=ae.getResponse(),{responseCode:y,responseString:O}=be,{correlationKey:x}=oe,ee=200===y?$.UNSUBSCRIBE_TE_TOPIC_OK:$.UNSUBSCRIBE_TE_TOPIC_ERROR,re=200===y?0:A.getADErrorSubcode(y,O);this.sendEvent(ne.build(ee,O,y,re,x))}handleSubscriptionUpdateError(ae,oe,be,y,O){const x=A.getErrorSubcode(ae,oe);if(x===I.SUBSCRIPTION_ALREADY_PRESENT&&this._sessionProperties.ignoreDuplicateSubscriptionError||x===I.SUBSCRIPTION_NOT_FOUND&&this._sessionProperties.ignoreSubscriptionNotFoundError){if(O){const ee=ne.build($.SUBSCRIPTION_OK,oe,ae,0,y,null);this.sendEvent(ee)}}else{const ee=ne.build($.SUBSCRIPTION_ERROR,oe,ae,x,y,`Topic: ${be}`);this.sendEvent(ee)}}getEventCBInfo(){return this._eventCallbackInfo}setEventCBInfo(ae){this._eventCallbackInfo=ae}getMessageCBInfo(){return this._messageCallbackInfo}setMessageCBInfo(ae){this._messageCallbackInfo=ae}getCorrelationTag(){return this._sessionFSM.getCorrelationTag()}wrapEventCallback(ae){const{LOG_WARN:oe}=this.logger,be=ae?ae.sessionEventCBFunction?ae:new T(ae):null;return new T((y,O,x,ee)=>{const{sessionEventCode:re}=O;if(be)try{be.sessionEventCBFunction(y,O,x,ee)}catch(me){const Ae=Object.assign(new S(`Unhandled error in SessionEventRxCBInfo callback on sessionEventCode ${$.describe(re)}`,I.CALLBACK_ERROR,`On event: ${[re,O,x,ee]} ${me}`),{stack:me.stack,info:{event:{name:re,formattedName:`SessionEventCode.${$.describe(re)}`,args:[O,x,ee]},error:me}});oe(Ae.toString(),Ae.info)}this.emit(re,O)})}wrapMessageCallback(ae){const{LOG_WARN:oe}=this.logger,be=ae?ae.messageRxCBFunction?ae:new G(ae):null,y=`SessionEventCode.${$.describe($.MESSAGE)}`,O=(x,ee,re)=>Object.assign(new S(`Unhandled error in MessageRxCBInfo callback/handler for ${y}`,I.CALLBACK_ERROR),{stack:x.stack,info:{event:{name:$.MESSAGE,formattedName:y,args:[ee,re]},error:x}});return new G((x,ee,re)=>{if(be)try{be.messageRxCBFunction(x,ee,re)}catch(me){const Ae=O(me,ee,re).toString();oe(Ae,Ae.info,me)}try{this.emitDirect(ee)}catch(me){this.emit("error",O(me,ee,re))}})}get adLocallyDisabled(){return!!this._adDisabledReason}get canConnectConsumer(){return!this.adLocallyDisabled&&(this._capabilities?this.isCapable(g.GUARANTEED_MESSAGE_CONSUME):void 0)}get canConnectPublisher(){return!this.adLocallyDisabled&&(this._capabilities?this.isCapable(g.GUARANTEED_MESSAGE_PUBLISH):void 0)}get disposed(){return this._disposed}inspect(){return{sessionId:this._sessionFSM&&this._sessionFSM.sessionIdHex||"(N/A)",transport:this.getTransportInfo(),state:ue.describe(this.getSessionState())}}toString(){return h(this)}}},5153:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SslDowngrade=h.new({NONE:"NONE",PLAINTEXT:"PLAIN_TEXT"})},1726:(E,B,c)=>{const{SessionRequestType:h}=c(9988);E.exports={SubscriptionUpdateTimeoutMessages:{[h.ADD_SUBSCRIPTION]:"Add subscription request timeout",[h.REMOVE_SUBSCRIPTION]:"Remove subscription request timeout",[h.ADD_P2PINBOX]:"Add P2P inbox subscription timeout",[h.REMOVE_P2PINBOX]:"Remove P2P inbox subscription timeout",[h.REMOVE_DTE_SUBSCRIPTION]:"Remove endpoint topic subscription",default:"Request timeout"}}},7291:(E,B,c)=>{const h=c(7283),{AdProtocolMessage:_,BinaryMetaBlock:f,ClientCtrlMessage:m,KeepAliveMessage:b,SMPMessage:p}=c(2981),{SMFAdProtocolMessageType:v}=c(948),{SMFAdProtocolParam:g}=c(4786),{SMFClientCtrlMessageType:w}=c(9947),{SMFClientCtrlParam:C}=c(1200),{SMFParameterType:D,SMFExtendedParameterType:A}=c(2095),{SMFProtocol:I}=c(8958),{SMFSMPMessageType:S}=c(6874),{SMFSMPMessageTypeFlags:M}=c(8488),{SMFTransportSessionMessageType:F}=c(5752);E.exports.AdProtocolMessage=_,E.exports.BinaryMetaBlock=f,E.exports.ClientCtrlMessage=m,E.exports.Codec=h,E.exports.KeepAliveMessage=b,E.exports.SMFAdProtocolMessageType=v,E.exports.SMFAdProtocolParam=g,E.exports.SMFClientCtrlMessageType=w,E.exports.SMFClientCtrlParam=C,E.exports.SMFParameterType=D,E.exports.SMFProtocol=I,E.exports.SMFSMPMessageTypeFlags=M,E.exports.SMFSMPMessageType=S,E.exports.SMFTransportSessionMessageType=F,E.exports.SMPMessage=p,E.exports.SMFExtendedParameterType=A},2228:(E,B,c)=>{const h=c(7291),{AdProtocolMessage:_,SMFParameter:f}=c(2981),{Bits:m,Convert:b}=c(840),{LOG_INFO:v,LOG_ERROR:g}=c(390),{ReplayStartType:w}=c(2604),{get:C,set:D}=m,{int8ToStr:A,int16ToStr:I,int24ToStr:S,int32ToStr:M}=b;function F(V,ie){const z=[];let ne=0;return ne=m.set(ne,V,6,2),ne=m.set(ne,ie,0,6),z.push(b.int8ToStr(ne)),z.push(b.int8ToStr(2)),z.join("")}function N(V,ie,z){const ne=[];let T=0;return T=m.set(T,V,6,2),T=m.set(T,ie,0,6),ne.push(b.int8ToStr(T)),ne.push(b.int8ToStr(3)),ne.push(b.int8ToStr(z)),ne.join("")}function q(V,ie,z){const ne=[];let T=0;return T=m.set(T,V,6,2),T=m.set(T,ie,0,6),ne.push(b.int8ToStr(T)),ne.push(b.int8ToStr(4)),ne.push(b.int16ToStr(z)),ne.join("")}function H(V,ie,z){const ne=[];let T=0;return T=m.set(T,V,6,2),T=m.set(T,ie,0,6),ne.push(b.int8ToStr(T)),ne.push(b.int8ToStr(6)),ne.push(b.int32ToStr(z)),ne.join("")}function G(V,ie,z){const ne=[];let T=0;return T=m.set(T,V,6,2),T=m.set(T,ie,0,6),ne.push(b.int8ToStr(T)),ne.push(b.int8ToStr(10)),ne.push(b.int64ToStr(z)),ne.join("")}const te={};function Z(V,ie,z){const ne=[],T=z.type,$=z.value;let U=0;switch(U=m.set(U,V,6,2),U=m.set(U,ie,0,6),ne.push(b.int8ToStr(U)),ne.push(b.int8ToStr(te[T])),ne.push(b.int8ToStr(T)),T){case w.DATE:ne.push(b.int64ToStr($));break;case w.RGMID:ne.push(b.int64ToStr($.suid)),ne.push(b.int64ToStr($.messageId))}return ne.join("")}function j(V,ie,z,ne){const T=[];let $=0;return $=m.set($,V,6,2),$=m.set($,ie,0,6),T.push(b.int8ToStr($)),T.push(b.int8ToStr(18)),T.push(b.int64ToStr(z)),T.push(b.int64ToStr(ne)),T.join("")}function Q(V,ie,z){const ne=[];let T=0;T=m.set(T,V,6,2),T=m.set(T,ie,0,6),ne.push(b.int8ToStr(T));let $=0;return z.length<=253?($=z.length+2,ne.push(b.int8ToStr($))):($=0,ne.push(b.int8ToStr($)),ne.push(b.int32ToStr(z.length+5))),ne.push(z),ne.join("")}te[w.BEGINNING]=3,te[w.DATE]=11,te[w.RGMID]=19,E.exports.parseAdpAt=function(V,ie){if(ie+3>V.length)return!1;let z=ie,ne=V.readUInt8(z);z++;const T=C(ne,0,6);let $,U;if(T<3){const se=V.readUInt16BE(z);z+=2,U=C(se,12,4),$=C(se,0,12),$<<=2}else{if(3!==T)return g("Found unsupported ADP Version",T),!1;ne=V.readUInt8(z),z++,U=C(ne,0,8),$=V.readUInt32BE(z),z+=4}if(ie+$>V.length)return g(`Invalid Asssured Control Protocol length=${$} exceeds remaining message buffer = ${V.length-ie}`),!1;const W=new _(U,T);for(;z<ie+$;){ne=V.readUInt8(z),z++;const se=C(ne,6,2),le=C(ne,0,6);if(0===le)continue;if(z>=ie+$)return g(`Invalid Asssured Control Protocol parameter=${le} at position =${z}`),!1;let Me,Ee=V.readUInt8(z);if(z++,0===Ee){if(z+5>ie+$)return g(`Invalid Asssured Control Protocol parameter=${le} at position =${z}`),!1;Ee=V.readUInt32BE(z),z+=4,Me=Ee-5}else Me=Ee-2;if(Ee<=0)return!1;if(z+Me>ie+$)return g(`Invalid Asssured Control Protocol parameter=${le} length =${Me} invalid at position =${z}`),!1;const ye=new f(se,le,null,V,z,z+Me);W.addParameter(ye),z+=Me}return W},E.exports.encAdp=function(V){const ie=[],z=V.getParameterArray();let ne;for(ne=0;ne<z.length;ne++){const U=z[ne];if(void 0!==U)switch(U.getType()){case h.SMFAdProtocolParam.WINDOW:case h.SMFAdProtocolParam.EP_DURABLE:case h.SMFAdProtocolParam.ACCESSTYPE:case h.SMFAdProtocolParam.FLOWTYPE:case h.SMFAdProtocolParam.EP_RESPECTS_TTL:case h.SMFAdProtocolParam.TRANSACTION_CTRL_MESSAGE_TYPE:case h.SMFAdProtocolParam.TRANSACTED_SESSION_STATE:case h.SMFAdProtocolParam.ACTIVE_FLOW_INDICATION:case h.SMFAdProtocolParam.WANT_FLOW_CHANGE_NOTIFY:case h.SMFAdProtocolParam.MAX_REDELIVERY:ie.push(N(U.getUh(),U.getType(),U.getValue()));break;case h.SMFAdProtocolParam.EP_BEHAVIOUR:ie.push(q(U.getUh(),U.getType(),U.getValue()));break;case h.SMFAdProtocolParam.FLOWID:case h.SMFAdProtocolParam.TRANSPORT_WINDOW:case h.SMFAdProtocolParam.EP_ALLOTHER_PERMISSION:case h.SMFAdProtocolParam.EP_QUOTA:case h.SMFAdProtocolParam.EP_MAX_MSGSIZE:case h.SMFAdProtocolParam.GRANTED_PERMISSION:case h.SMFAdProtocolParam.TRANSACTED_SESSION_ID:case h.SMFAdProtocolParam.PUBLISHER_ID:ie.push(H(U.getUh(),U.getType(),U.getValue()));break;case h.SMFAdProtocolParam.LASTMSGIDSENT:case h.SMFAdProtocolParam.LASTMSGIDACKED:case h.SMFAdProtocolParam.LASTMSGIDRECEIVED:case h.SMFAdProtocolParam.TRANSACTION_ID:case h.SMFAdProtocolParam.ENDPOINT_ERROR_ID:ie.push(G(U.getUh(),U.getType(),U.getValue()));break;case h.SMFAdProtocolParam.REPLAY_START_LOCATION:{const W=U.getValue();ie.push(void 0===W.value?N(U.getUh(),U.getType(),W.type):Z(U.getUh(),U.getType(),W));break}case h.SMFAdProtocolParam.APPLICATION_ACK:{const W=U.getValue(),se=U.getUh(),le=U.getType();for(let Me=0;Me<W.length;++Me){const Ee=W[Me];ie.push(j(se,le,Ee[0],Ee[1]))}break}case h.SMFAdProtocolParam.QUEUENAME:case h.SMFAdProtocolParam.DTENAME:case h.SMFAdProtocolParam.TOPICNAME:case h.SMFAdProtocolParam.FLOWNAME:case h.SMFAdProtocolParam.SELECTOR:case h.SMFAdProtocolParam.TRANSACTED_SESSION_NAME:ie.push(Q(U.getUh(),U.getType(),U.getValue()));break;case h.SMFAdProtocolParam.TRANSACTION_FLOW_DESCRIPTOR_PUB_NOTIFY:case h.SMFAdProtocolParam.TRANSACTION_FLOW_DESCRIPTOR_PUB_ACK:case h.SMFAdProtocolParam.TRANSACTION_FLOW_DESCRIPTOR_SUB_ACK:break;case h.SMFAdProtocolParam.NOLOCAL:case h.SMFAdProtocolParam.CUT_THROUGH:ie.push(F(U.getUh(),U.getType()));break;case h.SMFAdProtocolParam.APPLICATION_PUB_ACK:break;default:v("Unrecognized ADProtocol Parameter in Message")}}const T=ie.join(""),$=[];if(2===V.version){let U=0;U=D(U,0,22,2),U=D(U,V.version,16,6),U=D(U,V.msgType,12,4);let W=4-(3+T.length&3);for(U=D(U,3+T.length+W>>2,0,12),$.push(S(U)),$.push(T),4===W&&(W=0);W>0;)$.push(A(0)),W--}else if(3===V.version){let U=0;U=D(U,0,14,2),U=D(U,V.version,8,6),U=D(U,V.msgType,0,8),$.push(I(U)),$.push(M(6+T.length)),$.push(T)}else g(`Invalid Version ${V.version} found while encoding`);return $.join("")}},7283:(E,B,c)=>{const{ContentSummaryType:h}=c(507),{Decode:_}=c(3486),{Encode:f}=c(5479),{ParamParse:m}=c(633),{ParseSMF:b}=c(1125),{Transport:p}=c(6624);E.exports.ContentSummaryType=h,E.exports.Encode=f,E.exports.Decode=_,E.exports.ParamParse=m,E.exports.ParseSMF=b,E.exports.Transport=p},9179:(E,B,c)=>{const{Bits:h,Convert:_}=c(840),{ClientCtrlMessage:f,SMFParameter:m}=c(2981),{LOG_ERROR:b}=c(390),{get:p,set:v}=h,{int8ToStr:g,int16ToStr:w,int32ToStr:C}=_;E.exports.parseCCAt=function(D,A,I){const S=new f;if(I<6||A+6>D.length)return S;let M=A;const F=D.readUInt16BE(M);M+=2;const N=p(F,8,3),q=p(F,0,8),H=D.readUInt32BE(M);if(M+=4,1!==N)return b(`Unsupported ClientCtrl version ${N}`),!1;if(H<=0||A+H>D.length)return!1;for(S.msgType=q,S.version=N;M<A+H;){const G=D.readUInt8(M);M++;const te=p(G,7,1),Z=p(G,0,7),j=D.readUInt32BE(M);if(j<=0)return!1;M+=4;const Q=j-5,V=new m(te,Z,null,D,M,M+Q);S.addParameter(V),M+=Q}return S},E.exports.encCC=function(D){const A=[],I=D.getParameterArray();for(let N=0,q=I.length;N<q;++N){const H=I[N];if(void 0===H)continue;let G=0;G=v(G,H.getUh(),7,1),G=v(G,H.getType(),0,7),A.push(g(G)),A.push(C(H.getValue().length+5)),A.push(H.getValue())}const S=A.join("");let M=0;M=v(M,0,15,1),M=v(M,0,11,4),M=v(M,1,8,3),M=v(M,D.msgType,0,8);const F=[];return F.push(w(M)),F.push(C(6+S.length)),F.push(S),F.join("")}},7347:E=>{E.exports.ContentSummaryElement=class{constructor(B=null,c=0,h=0){this.type=B,this.position=c,this.length=h}}},507:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.ContentSummaryType=h.new({XML_META:0,XML_PAYLOAD:1,BINARY_ATTACHMENT:2,CID_LIST:3,BINARY_METADATA:4})},3486:(E,B,c)=>{const h=c(1880),_=c(3170),f=c(4789),m=c(7252),{BinaryMetaBlock:b,KeepAliveMessage:p}=c(2981),{ContentSummaryType:v}=c(507),{Hex:g,Long:w}=c(840),{Lazy:C}=c(9359),{LogFormatter:D}=c(390),{parseAdpAt:A}=c(2228),{parseCCAt:I}=c(9179),{ParseSMF:S}=c(1125),{PriorityUserCosMap:M}=c(2224),{SMFProtocol:F}=c(8958),{SMP:N}=c(7025),{Transport:q}=c(6624),{formatHexString:H}=g,{lazyValue:G}=C,{parseSMFAt:te}=S,{parseSMPAt:Z}=N,{parseTsSmfMsgAt:j}=q,Q=new D("[smf-decode]"),{LOG_ERROR:ie}=Q,z=G(()=>(new M).reverse),ne={10:f.MessageType.MAP,11:f.MessageType.STREAM,7:f.MessageType.TEXT};function T(U,W){const se=W,le=m.Codec.parseSingleElement(U.payload,0);if(!le||le.getType()!==m.SDTFieldType.STREAM)return;const Me=le.getValue();let Ee=Me.getNext();if(Ee&&Ee.getType()===m.SDTFieldType.BYTEARRAY&&Ee._value&&Ee._value.length>0){const ye=Ee._value.readUInt8(0);if(0==(128&ye)&&(se._messageType=ne[15&ye]||f.MessageType.BINARY),Ee._value.length>1){const ue=Ee._value.readUInt8(1);se.setAsReplyMessage(0!=(128&ue))}}if(Ee=Me.getNext(),Ee&&Ee.getType()===m.SDTFieldType.MAP){const ye=Ee.getValue(),ue=ye.getField("p"),_e=ye.getField("h");if(ue&&se.setUserPropertyMap(ue.getValue()),_e){const de=_e.getValue(),k=de.getField("ci"),J=de.getField("mi"),fe=de.getField("mt"),pe=de.getField("rt"),Y=de.getField("si"),Fe=de.getField("sn"),Be=de.getField("ts"),Ye=de.getField("ex");k&&se.setCorrelationId(k.getValue()),J&&se.setApplicationMessageId(J.getValue()),fe&&se.setApplicationMessageType(fe.getValue()),pe&&se.setReplyTo(pe.getValue()),Y&&se.setSenderId(Y.getValue()),Fe&&se.setSequenceNumber(Fe.getValueNoThrow()),Be&&se.setSenderTimestamp(Be.getValue()),Ye&&se.setGMExpiration(Ye.getValue())}}}E.exports.Decode={decodeCompoundMessage:function(U,W){const se=te(U,W);if(!se)return null;const le=W+se.headerLength,Me=se.payloadLength;let Ee;switch(se.smf_protocol){case F.TSESSION:if(Ee=j(U,le,se),!Ee)break;return Ee.smfHeader=se,Ee;case F.TRMSG:return Ee=new f.Message,Ee._smfHeader=se,function(ye,ue,_e,de){const k=ue;k._setDeliverToOne(!!ye.smf_dto),k._setDeliveryMode(ye.pm_deliverymode||f.MessageDeliveryModeType.DIRECT),null!==ye.pm_tr_topicname_bytes&&k._setDestination(_.DestinationFromNetwork.createDestinationFromBytes(ye.pm_tr_topicname_bytes)),k._setDiscardIndication(!!ye.smf_di),k._setElidingEligible(!!ye.smf_elidingEligible),k._setDMQEligible(!!ye.smf_deadMessageQueueEligible),k._setUserCos(z.value.get(ye.smf_priority)),k._setPriority(ye.pm_msg_priority),ye.pm_userdata&&k._setUserData(ye.pm_userdata),k.setRedelivered(!!ye.pm_ad_redelflag||!!ye.pm_ad_flowredelflag),k.setFlowId(ye.pm_ad_flowid),k.setGuaranteedMessageId(ye.pm_ad_msgid),k.setGuaranteedPreviousMessageId(ye.pm_ad_prevmsgid),k.setPublisherId(ye.pm_ad_publisherid),k.setPublisherMessageId(ye.pm_ad_publishermsgid),k.setTopicSequenceNumber(ye.pm_ad_topicSequenceNumber),k.getDeliveryMode()===f.MessageDeliveryModeType.DIRECT?k.setDeliveryCount(-1):k.setDeliveryCount(ye.pm_ad_redeliveryCount?ye.pm_ad_redeliveryCount+1:1),ye.pm_ad_spooler_unique_id&&k._setSpoolerUniqueId(ye.pm_ad_spooler_unique_id),ye.pm_ad_replication_mate_ack_message_id?k._setSpoolerMessageId(ye.pm_ad_replication_mate_ack_message_id):ye.pm_ad_local_spooler_message_id&&k._setSpoolerMessageId(ye.pm_ad_local_spooler_message_id),w.isLong(ye.pm_ad_ttl)?k.setTimeToLive(ye.pm_ad_ttl.toNumber()):k.setTimeToLive(ye.pm_ad_ttl);const J=de+ye.headerLength,fe=ye.pm_content_summary;if(fe&&fe.length)for(let pe=0,Y=fe.length;pe<Y;++pe){const Fe=fe[pe],Be=J+Fe.position,Ye=J+Fe.position+Fe.length;switch(Fe.type){case v.BINARY_ATTACHMENT:k._setBinaryAttachment(_e.slice(Be,Ye));break;case v.BINARY_METADATA:{const ae=b.fromEncodedSmf(_e,Be);k.binaryMetadataChunk=ae,0===ae.type&&T(ae,k);break}case v.XML_META:k._setXmlMetadata(_e.toString("latin1",Be,Ye));break;case v.XML_PAYLOAD:k._setXmlContentInternal(_e.toString("latin1",Be,Ye));break;default:ie(`Unhandled ContentSummaryType: ${v.describe(Fe.type)}`)}}else k._setBinaryAttachment(ye.payloadLength>0?_e.slice(J,J+ye.payloadLength):void 0)}(se,Ee,U,W),Ee;case F.ADCTRL:return Ee=A(U,le,Me),Ee.smfHeader=se,Ee;case F.CLIENTCTRL:if(Ee=I(U,le,Me),!Ee)break;return Ee.smfHeader=se,Ee;case F.SMP:if(Ee=Z(U,le),!Ee)break;return Ee.smfHeader=se,Ee;case F.KEEPALIVE:case F.KEEPALIVEV2:return Ee=new p,Ee.smfHeader=se,Ee;default:ie(`Unknown protocol: 0x${H(se.smf_protocol)}, dump message content: \n${h.Debug.formatDumpBytes(U.slice(W,W+se.messageLength).toString("latin1"),!0,0)}`)}return null}}},5479:(E,B,c)=>{const h=c(4789),{Base64:_,Bits:f,Convert:m}=c(840),{BinaryMetaBlock:b,SMFHeader:p,SMPMessage:v}=c(2981),{Check:g}=c(2201),{ClientCtrlMessage:w,KeepAliveMessage:C,AdProtocolMessage:D}=c(2981),{Codec:A}=c(7252),{ContentSummaryElement:I}=c(7347),{ContentSummaryType:S}=c(507),{DestinationType:M}=c(3170),{encAdp:F}=c(2228),{encCC:N}=c(9179),{ErrorSubcode:q,OperationError:H}=c(3870),{Lazy:G}=c(9359),{LOG_INFO:Z}=c(390),{ParamParse:j}=c(633),{PriorityUserCosMap:Q}=c(2224),{SDTField:V,SDTFieldType:ie,SDTMapContainer:z,SDTStreamContainer:ne}=c(7252),{SMFParameterType:T,SMFExtendedParameterType:$}=c(2095),{SMFProtocol:U}=c(8958),{SMP:W}=c(7025),{encode:se}=_,{set:le}=f,{int8ToStr:Me,int16ToStr:Ee,int24ToStr:ye,int32ToStr:ue,int64ToStr:_e}=m,{lazyValue:de}=G,{encContentSummary:k,encDeliveryMode:J,encLightSMFParam:fe,encodeSMFParam:pe,encodeSMFExtendedParam:Y}=j,{encodeSingleElement:Fe}=A,{encSmp:Be}=W,Ye=de(()=>(new Q).forward);function ae(Re,dt,pt,nn){if(g.anything(pt)&&pt.length>0){const _n=new I(nn,NaN,pt.length);Re.push(_n),dt.push(pt)}}function oe(Re,dt,pt,nn){g.anything(nn)&&Re.addField(dt,V.create(pt,nn))}function be(Re){let dt;(Re.getCorrelationId()||Re.getApplicationMessageId()||Re.getApplicationMessageType()||Re.getReplyTo()||Re.getSenderId()||Re.getSequenceNumber()||Re.getSenderTimestamp()||Re.getUserPropertyMap()||Re.isReplyMessage()||Re.getType()!==h.MessageType.BINARY)&&(dt=function(rt){let jn;const It=new z;oe(It,"ci",ie.STRING,rt.getCorrelationId()),oe(It,"mi",ie.STRING,rt.getApplicationMessageId()),oe(It,"mt",ie.STRING,rt.getApplicationMessageType()),oe(It,"rt",ie.DESTINATION,rt.getReplyTo()),oe(It,"si",ie.STRING,rt.getSenderId()),oe(It,"sn",ie.INT64,rt.getSequenceNumber()),oe(It,"ts",ie.INT64,rt.getSenderTimestamp()),oe(It,"ex",ie.INT64,rt.getGMExpiration());const Ci=new z;rt.getUserPropertyMap()&&Ci.addField("p",V.create(ie.MAP,rt.getUserPropertyMap())),It.getKeys().length>0&&Ci.addField("h",V.create(ie.MAP,It));let ri=0;switch(rt.getType()){case h.MessageType.BINARY:ri|=128;break;case h.MessageType.MAP:ri|=10,jn=Fe(rt._structuredContainer);break;case h.MessageType.STREAM:ri|=11,jn=Fe(rt._structuredContainer);break;case h.MessageType.TEXT:ri|=7,jn=Fe(rt._structuredContainer);break;default:Z(`Unhandled messageType: ${rt.getType()}`)}const Wn=rt.isReplyMessage()?128:0,Ko=V.create(ie.BYTEARRAY,String.fromCharCode(ri,Wn)),ml=new ne;ml.addField(Ko),ml.addField(V.create(ie.MAP,Ci));const yl=new b;return yl.type=0,yl.payload=Fe(V.create(ie.STREAM,ml)),rt.binaryMetadataChunk=yl,jn}(Re));const pt=[],nn=[];ae(pt,nn,Re.getXmlMetadata(),S.XML_META),ae(pt,nn,Re.getXmlContent(),S.XML_PAYLOAD),ae(pt,nn,dt||(Re._binaryAttachment?Re._binaryAttachment.toString("latin1"):""),S.BINARY_ATTACHMENT);const _n=Re.binaryMetadataChunk;if(null!==_n){const rt=_n.asEncodedSmf(),jn=16777215;if(rt.length>jn)throw new H(`binary-meta data (${rt.length}) over the ${jn} limit`,q.PARAMETER_OUT_OF_RANGE);ae(pt,nn,rt,S.BINARY_METADATA)}return Re._memoized_csumm=pt,Re._memoized_payload=nn.join(""),Re._payload_is_memoized=!0,Re._memoized_payload?Re._memoized_payload.length:0}const y=(Re,dt)=>{return(pt=dt,Array.from(Array(Math.pow(2,pt))).map((nn,_n)=>_n)).map(pt=>le(0,pt,Re,dt));var pt},O=y(31,1),x=y(30,1),ee=y(29,1),re=y(28,1),me=y(27,1),Ae=y(24,3),Ce=y(22,2),Ne=y(16,6),$e=y(12,4),Ze=y(0,8),lt=y(8,8),Gn=y(0,8);function Di(Re){let dt=0;dt|=O[Re.smf_di?1:0],dt|=x[Re.smf_elidingEligible?1:0],dt|=ee[Re.smf_dto?1:0],dt|=re[Re.smf_adf?1:0],dt|=me[Re.smf_deadMessageQueueEligible?1:0],dt|=Ae[Re.smf_version||0],dt|=Ce[Re.smf_uh||0],dt|=Ne[Re.smf_protocol||0],dt|=$e[Re.smf_priority||0],dt|=Ze[Re.smf_ttl||0];const pt=[];Re.pm_tr_topicname_bytes&&pt.push(pe(2,T.TR_TOPICNAME,`${Re.pm_tr_topicname_bytes}`)),Re.pm_queue_len&&pt.push(fe(0,T.LIGHT_QUEUE_NAME_OFFSET,Ee(lt[Re.pm_queue_offset]|Gn[Re.pm_queue_len]))),Re.pm_topic_len&&pt.push(fe(0,T.LIGHT_TOPIC_NAME_OFFSET,Ee(lt[Re.pm_topic_offset]|lt[Re.pm_topic_len]))),null!=Re.pm_corrtag&&pt.push(fe(0,T.LIGHT_CORRELATION,ye(Re.pm_corrtag))),Re.pm_ad_ackimm&&pt.push(fe(0,T.LIGHT_ACK_IMMEDIATELY,"")),null!==Re.pm_msg_priority&&pt.push(pe(0,T.MESSAGEPRIORITY,Me(Re.pm_msg_priority))),null!==Re.pm_userdata&&""!==Re.pm_userdata&&pt.push(pe(0,T.USERDATA,Re.pm_userdata)),Re.pm_username&&pt.push(pe(0,T.USERNAME,se(Re.pm_username))),Re.pm_password&&pt.push(pe(0,T.PASSWORD,se(Re.pm_password))),Re.pm_respcode&&pt.push(pe(0,T.RESPONSE,ue(Re.pm_respcode)+Re.pm_respstr)),null!==Re.pm_deliverymode&&pt.push(pe(0,T.DELIVERY_MODE,J(Re.pm_deliverymode))),void 0!==Re.pm_ad_msgid&&(pt.push(pe(2,T.ASSURED_MESSAGE_ID,_e(Re.pm_ad_msgid))),pt.push(pe(2,T.ASSURED_PREVMESSAGE_ID,_e(Re.pm_ad_prevmsgid)))),Re.pm_ad_flowid&&pt.push(pe(0,T.ASSURED_FLOWID,ue(Re.pm_ad_flowid))),Re.pm_ad_redelflag&&pt.push(pe(0,T.ASSURED_REDELIVERED_FLAG,void 0)),void 0!==Re.pm_ad_ttl&&pt.push(pe(0,T.AD_TIMETOLIVE,_e(Re.pm_ad_ttl))),Re.pm_ad_publisherid&&pt.push(pe(0,T.PUBLISHER_ID,ue(Re.pm_ad_publisherid))),Re.pm_ad_publisherMsgId&&pt.push(pe(0,T.PUBLISHER_MSGID,_e(Re.pm_ad_publisherMsgId))),Re.pm_content_summary&&pt.push(pe(2,T.MESSAGE_CONTENT_SUMMARY,k(Re.pm_content_summary)));let nn="",_n=0;Re.pm_oauth2_access_token&&(nn+=Y(0,$.OAUTH2_ACCESS_TOKEN,Re.pm_oauth2_access_token),_n=_n||0),Re.pm_oidc_id_token&&(nn+=Y(0,$.OIDC_ID_TOKEN,Re.pm_oidc_id_token),_n=_n||0),Re.pm_oauth2_issuer_identifier&&(nn+=Y(0,$.OAUTH2_ISSUER_IDENTIFIER,Re.pm_oauth2_issuer_identifier),_n=_n||0),nn.length>0&&pt.push(pe(_n,T.EXTENDED_TYPE_STREAM,nn));const rt=pt.join(""),jn=12+rt.length,It=jn+Re.payloadLength;return Re.setMessageSizes(jn,Re.payloadLength),ue(dt)+ue(jn)+ue(It)+rt}E.exports.Encode={encodeCompoundMessage:function(Re){let dt="";var pt,nn;Re instanceof h.Message?(Re.smfHeader||(Re.smfHeader=new p(U.TRMSG,255)),function(rt,jn){const It=jn;rt._payload_is_memoized||be(rt);const Ci=rt._memoized_csumm,ri=rt._memoized_payload;0===Ci.length||1===Ci.length&&Ci[0].type===S.BINARY_ATTACHMENT||(It.pm_content_summary=Ci),It.payload=ri}(pt=Re,nn=Re._smfHeader),function(rt,jn){const It=jn,Ci=rt.getDeliveryMode();It.smf_dto=rt.isDeliverToOne(),It.pm_deliverymode=Ci,It.smf_adf=Ci===h.MessageDeliveryModeType.DIRECT?0:1,It.smf_di=rt.isDiscardIndication(),It.smf_elidingEligible=rt.isElidingEligible(),It.smf_deadMessageQueueEligible=rt.isDMQEligible(),It.pm_ad_flowid=rt.getFlowId(),It.pm_ad_publisherid=rt.getPublisherId(),It.pm_ad_publishermsgId=rt.getPublisherMessageId(),It.pm_ad_msgid=rt.getGuaranteedMessageId(),It.pm_ad_prevmsgid=rt.getGuaranteedPreviousMessageId(),It.pm_ad_ttl=rt.getTimeToLive(),It.pm_ad_ackimm=rt.isAcknowledgeImmediately(),It.pm_ad_redelflag=rt.isRedelivered();const ri=rt.getDestination();if(ri&&(It.pm_tr_topicname_bytes=ri.getBytes(),ri.type===M.QUEUE||ri.type===M.TEMPORARY_QUEUE)){const{offset:Ko}=ri;It.pm_queue_len=It.pm_tr_topicname_bytes.length-Ko,It.pm_queue_offset=Ko}It.smf_priority=Ye.value.get(rt.getUserCos()),It.pm_msg_priority=void 0!==rt.getPriority()&&"number"==typeof rt.getPriority()&&rt.getPriority()<=255&&rt.getPriority()>=0?rt.getPriority():null;const Wn=rt.getUserData();It.pm_userdata=null==Wn?null:rt.getUserData()}(pt,nn),dt=Re._smfHeader.payload):Re instanceof w?dt=N(Re):Re instanceof v?dt=Be(Re):Re instanceof C||Re instanceof D&&(dt=F(Re));const _n=Re.smfHeader;return _n.setPayloadSize(dt.length),Di(_n)+dt},encodeSMF:Di,adaptMessageToSmf_payloadMemoize:be}},633:(E,B,c)=>{const h=c(4789),{BidiMap:_,Lazy:f}=c(9359),{Bits:m,Convert:b}=c(840),{ContentSummaryElement:p}=c(7347),{ContentSummaryType:v}=c(507),{ErrorSubcode:g,OperationError:w}=c(3870),{LOG_ERROR:C}=c(390),{SMFUH:D}=c(2981),{lazyValue:A}=f,{int8ToStr:I,int16ToStr:S,int24ToStr:M,int32ToStr:F}=b,N=A(()=>{const V=[[0,h.MessageDeliveryModeType.NON_PERSISTENT],[1,h.MessageDeliveryModeType.PERSISTENT],[2,h.MessageDeliveryModeType.DIRECT]].map(ie=>[ie[0],ie[1]]);return new _(...V)}),q=A(()=>N.value.forward),H=A(()=>N.value.reverse),G=(()=>{const V=[],ie=Math.pow(2,5);return D.values.forEach(z=>{V[z]=[];for(let ne=0;ne<ie;++ne){let T=0;T=m.set(T,z,6,2),T=m.set(T,ne,0,5),V[z][ne]=I(T)}}),V})(),te=new Array(256).fill(null).map((V,ie)=>I(ie)),Z=(()=>{const V=[],ie=Math.pow(2,3),z=Math.pow(2,2);return D.values.forEach(ne=>{V[ne]=[];for(let T=0;T<ie;++T){V[ne][T]=[];for(let $=0;$<z;++$){let U=0;U=m.set(U,ne,6,2),U=m.set(U,1,5,1),U=m.set(U,T,2,3),U=m.set(U,$,0,2),V[ne][T][$]=I(U)}}}),V})(),j=[v.XML_META,v.XML_PAYLOAD,v.BINARY_ATTACHMENT,v.CID_LIST,v.BINARY_METADATA];E.exports.ParamParse={parseTopicQueueOffsets:function(V,ie){const z=[];return z[0]=V.readUInt8(ie),z[1]=V.readUInt8(ie+1),z},parseResponseParam:function(V,ie,z){const ne=[];return ne[0]=V.readInt32BE(ie),ne[1]=z>4?V.toString("latin1",ie+4,ie+z):"",ne},parseDeliveryMode:function(V,ie){const z=V.readUInt8(ie),ne=q.value.get(z);return void 0!==ne?ne:h.MessageDeliveryModeType.DIRECT},encDeliveryMode:function(V){const ie=H.value.get(V);return I(void 0!==ie?ie:h.MessageDeliveryModeType.DIRECT)},parseContentSummary:function(V,ie,z){const ne=[];let T=0,$=ie;for(;$<ie+z;){const U=V.readUInt8($),W=m.get(U,4,4),se=m.get(U,0,4);let le=0;switch(se){case 2:le=V.readUInt8($+1);break;case 3:le=V.readUInt16BE($+1);break;case 4:le=V.readUIntBE($+1,3);break;case 5:le=V.readInt32BE($+1)}if(0===se)return C("Invalid content summary parameter - pos not advancing"),null;$+=se;const Me=j[W];void 0===Me&&C(`Unhandled element type ${W}`);const Ee=new p(Me,T,le);ne.push(Ee),T+=le}return ne},encContentSummary:function(V){const ie=[];for(let z=0,ne=V.length;z<ne;++z){const T=V[z];let $="",U=m.set(0,T.type,4,4);T.length<=255?(U=m.set(U,2,0,4),$=I(T.length)):T.length<=65535?(U=m.set(U,3,0,4),$=S(T.length)):T.length<=16777215?(U=m.set(U,4,0,4),$=M(T.length)):(U=m.set(U,5,0,4),$=F(T.length)),ie.push(I(U)),ie.push($)}return ie.join("")},encodeSMFParam:function(V,ie,z){if(void 0===z)return G[V][ie]+te[2];const ne=z.length;return ne<=253?G[V][ie]+te[ne+2]+z:G[V][ie]+te[0]+F(ne+6)+z},encodeSMFExtendedParam:function(V,ie,z){let ne=0;ne=m.set(ne,V?1:0,7,1);const T=null==z?0:z.length,$={0:0,1:1,2:2,4:3,8:4};let U=0,W="";if(Object.prototype.hasOwnProperty.call($,T))U=$[T];else if(T<253)U=5,W=I(T+3);else{if(!(T<65532))throw C(`Extended parameter type ${ie} is too long (${T} bytes) `),new w(`Extended parameter (${ie}) over the 2^16 byte limit`,g.PARAMETER_OUT_OF_RANGE);U=6,W=S(T+4)}ne=m.set(ne,U,4,3),ne=m.set(ne,ie>>8,0,4);const se=255&ie;return I(ne)+I(se)+W+z},encLightSMFParam:function(V,ie,z){return Z[V][ie][z.length]+z}}},1125:(E,B,c)=>{const h=c(1583),{LOG_ERROR:f,LOG_INFO:m}=c(390),{Base64:p,Bits:v}=c(840),{ParamParse:g}=c(633),{SMFHeader:w}=c(2981),{SMFParameterType:C}=c(2095),{decode:D}=p,{get:A}=v;function I(N,q){return!(N.length-q<12)}function S(N,q){if(!I(N,q))return!1;const H=7&N.readUInt8(q);return 3===H||(f(`Invalid smf version in smf header, version=${H}`),!1)}function M(N,q,H,G){let te=H;for(;te<H+G;){if(te+2>H+G){f("Extended parameter stream had padding inside.");break}const Z=q.readUInt8(te),j=q.readUInt8(te+1),Q=A(Z,7,1),V=A(Z,4,3),ie=(A(Z,0,4)<<8)+j;te+=2;const z={0:0,1:1,2:2,3:4,4:8};let ne=0;if(Object.prototype.hasOwnProperty.call(z,V))ne=z[V];else if(5===V)ne=q.readUInt8(te)-3,te++;else{if(6!==V)return f(`Invalid length mode ${V} in Extended Parameter type ${ie}`),!1;ne=q.readUInt16BE(te)-4,te+=2}switch(ie){case C.AD_REDELIVERY_COUNT:N.pm_ad_redeliveryCount=q.readUInt32BE(te);break;case C.AD_SPOOLER_UNIQUE_ID:N.pm_ad_spooler_unique_id=h.fromBits(q.readUInt32BE(te+4),q.readUInt32BE(te),!0);break;case C.AD_ACK_MESSAGE_ID:N.pm_ad_local_spooler_message_id=h.fromBits(q.readUInt32BE(te+4),q.readUInt32BE(te),!0);break;case C.AD_REPL_MATE_ACK_MSGID:N.pm_ad_replication_mate_ack_message_id=h.fromBits(q.readUInt32BE(te+4),q.readUInt32BE(te),!0);break;default:0===Q||(N.discardMessage=!0)}te+=ne}return te>H+G&&f(`Last extended parameter ran beyond extended stream length by ${te-(H+G)}.`),!0}E.exports.ParseSMF={isSMFHeaderAvailable:I,isSMFHeaderValid:S,isSMFAvailable:function(N,q){if(!S(N,q))return!1;const H=N.length-q;return N.readUInt32BE(q+8)<=H},parseSMFAt:function(N,q,H=!1){if(!S(N,q))return null;let G=q;const te=N.readUInt32BE(G),Z=N.readUInt32BE(G+4),j=N.readUInt32BE(G+8),Q=new w;Q.smf_di=A(te,31,1),Q.smf_elidingEligible=A(te,30,1),Q.smf_dto=A(te,29,1),Q.smf_adf=A(te,28,1),Q.smf_deadMessageQueueEligible=A(te,27,1),Q.smf_version=A(te,24,3),Q.smf_uh=A(te,22,2),Q.smf_protocol=A(te,16,6),Q.smf_priority=A(te,12,4),Q.smf_ttl=A(te,0,8);const V=j-Z;if(V<0)return f("SMF parse error: lost framing"),null;if(Q.setMessageSizes(Z,V),H)return Q;G+=12;const ie=q+Z;for(;G<ie;){const z=N.readUInt8(G);++G;const ne=A(z,6,2);if(0!==A(z,5,1)){const T=A(z,2,3),$=A(z,0,2)+1,U=$-1;if($<=0)return f("Invalid lightweight parameter length"),null;switch(T){case C.LIGHT_CORRELATION:Q.pm_corrtag=N.readUIntBE(G,3);break;case C.LIGHT_TOPIC_NAME_OFFSET:{const W=g.parseTopicQueueOffsets(N,G);Q.pm_queue_offset=W[0],Q.pm_queue_len=W[1];break}case C.LIGHT_QUEUE_NAME_OFFSET:{const W=g.parseTopicQueueOffsets(N,G);Q.pm_topic_offset=W[0],Q.pm_topic_len=W[1];break}case C.LIGHT_ACK_IMMEDIATELY:Q.pm_ad_ackimm=!!N.readUInt8(G);break;default:0===ne||(Q.discardMessage=!0)}G+=U}else{const T=G,$=A(z,0,5);if(0===$)break;let U,W=N.readUInt8(G);if(G++,0===W?(W=N.readUInt32BE(G),G+=4,U=W-6):U=W-2,W<=0)return f(`Invalid regular parameter length ${W}/${U} with suspect type ${C.describe($)} at parameter at position ${T}`),null;switch($){case C.PUBLISHER_ID:Q.pm_ad_publisher_id=h.fromBits(N.readUInt32BE(G+4),N.readUInt32BE(G),!0);break;case C.PUBLISHER_MSGID:Q.pm_ad_publishermsgid=h.fromBits(N.readUInt32BE(G+4),N.readUInt32BE(G),!0);break;case C.MESSAGEPRIORITY:Q.pm_msg_priority=N.readUInt8(G);break;case C.USERDATA:Q.pm_userdata=N.toString("latin1",G,G+U);break;case C.USERNAME:Q.pm_username=D(N.toString("latin1",G,G+U));break;case C.PASSWORD:Q.pm_password=D(N.toString("latin1",G,G+U));break;case C.RESPONSE:{const se=g.parseResponseParam(N,G,U);Q.pm_respcode=se[0],Q.pm_respstr=se[1];break}case C.SUB_ID_LIST:case C.GENERIC_ATTACHMENT:case C.BINARY_ATTACHMENT:m("Skipping deprecated parameter type");break;case C.DELIVERY_MODE:Q.smf_adf&&(Q.pm_deliverymode=g.parseDeliveryMode(N,G));break;case C.ASSURED_MESSAGE_ID:Q.pm_ad_msgid=h.fromBits(N.readUInt32BE(G+4),N.readUInt32BE(G),!0);break;case C.ASSURED_PREVMESSAGE_ID:Q.pm_ad_prevmsgid=h.fromBits(N.readUInt32BE(G+4),N.readUInt32BE(G),!0);break;case C.ASSURED_REDELIVERED_FLAG:Q.pm_ad_redelflag=!0;break;case C.AD_TIMETOLIVE:Q.pm_ad_ttl=h.fromBits(N.readUInt32BE(G+4),N.readUInt32BE(G),!0);break;case C.AD_TOPICSEQUENCE_NUMBER:Q.pm_ad_topicSequenceNumber=h.fromBits(N.readUInt32BE(G+4),N.readUInt32BE(G),!0);break;case C.MESSAGE_CONTENT_SUMMARY:{const se=g.parseContentSummary(N,G,U);if(!se)return f(`Invalid message content summary at ${G}, len ${U}`),!1;Q.pm_content_summary=se;break}case C.ASSURED_FLOWID:Q.pm_ad_flowid=N.readUInt32BE(G);break;case C.TR_TOPICNAME:Q.pm_tr_topicname_bytes=N.toString("latin1",G,G+U);break;case C.AD_FLOWREDELIVERED_FLAG:Q.pm_ad_flowredelflag=!0;break;case C.EXTENDED_TYPE_STREAM:if(!M(Q,N,G,U))return null;break;default:0===ne||(Q.discardMessage=!0)}G+=U}}return Q}}},2224:(E,B,c)=>{const h=c(4789),{BidiMap:_}=c(9359);E.exports.PriorityUserCosMap=class extends _{constructor(){super([h.MessageUserCosType.COS1,0],[h.MessageUserCosType.COS2,1],[h.MessageUserCosType.COS3,2])}}},7025:(E,B,c)=>{const{Bits:h,Convert:_}=c(840),{SMFSMPMessageType:b}=(c(390),c(6874)),{SMPMessage:p}=c(2981),{get:v,set:g}=h,{int8ToStr:w,int32ToStr:C}=_;E.exports.SMP={parseSMPAt:function(A,I){if(I+6>A.length)return!1;let S=I;const M=A.readUInt8(S);S++;const F=v(M,0,7),N=new p;if(F!==b.ADDSUBSCRIPTION&&F!==b.REMSUBSCRIPTION&&F!==b.ADDQUEUESUBSCRIPTION&&F!==b.REMQUEUESUBSCRIPTION)return!1;A.toString("latin1");const q=A.readUInt32BE(S);if(S+=4,I+q>A.length)return!1;const H=A.readUInt8(S);if(S++,N.msgType=F,N.smpFlags=H,F===b.ADDSUBSCRIPTION||F===b.REMSUBSCRIPTION)N.encodedUtf8Subscription=A.toString("latin1",S,S+q-6);else{const G=A.readUInt8(S);S++,N.encodedUtf8QueueName=A.toString("latin1",S,S+G),S+=G;const te=A.readUInt8(S);S++,N.encodedUtf8Subscription=A.toString("latin1",S,S+te),S+=te}return N},encSmp:function(A){if(A.msgType!==b.ADDSUBSCRIPTION&&A.msgType!==b.REMSUBSCRIPTION&&A.msgType!==b.ADDQUEUESUBSCRIPTION&&A.msgType!==b.REMQUEUESUBSCRIPTION)return!1;const I=[];let S=0;S=g(S,1,7,1),S=g(S,A.msgType,0,7),I.push(w(S));let M=6+A.encodedUtf8Subscription.length;return A.msgType!==b.ADDQUEUESUBSCRIPTION&&A.msgType!==b.REMQUEUESUBSCRIPTION||(M+=2+A.encodedUtf8QueueName.length),I.push(C(M)),I.push(w(A.smpFlags)),(A.msgType===b.ADDQUEUESUBSCRIPTION||A.msgType===b.REMQUEUESUBSCRIPTION)&&(I.push(w(A.encodedUtf8QueueName.length)),I.push(A.encodedUtf8QueueName),I.push(w(A.encodedUtf8Subscription.length))),I.push(A.encodedUtf8Subscription),I.join("")}}},6624:(E,B,c)=>{const{Bits:h,Convert:_}=c(840),{Lazy:f}=c(9359),{LOG_ERROR:m}=c(390),{SMFTransportSessionMessageType:b}=c(5752),{TransportSMFMessage:p}=c(2981),{get:v}=h,{int16ToStr:g,int32ToStr:w}=_,{lazyValue:C}=f;function D(H,G){return H.length-G}function A(H,G,te){let Z=G;if(D(H,Z)<10)return m("TsSmf parse failed: not enough data, expected at least 10B"),!1;const j=new p;j.smfHeader=te;const Q=H.readUInt16BE(Z);Z+=2,j.uh=v(Q,15,1),j.messageType=v(Q,8,7);const V=v(Q,0,8);if(j.tsHeaderLength=V,j.sessionId=H.toString("latin1",Z,Z+8),Z+=8,j.messageType===b.CREATE_RESP){const ie=H.readUInt8(Z);if(Z++,D(H,Z)<ie)return m(`TsSmf parse failed: not enough data for RouterTag, expected ${ie}B`),!1;j.routerTag=H.toString("latin1",Z,Z+ie),Z+=ie}return Z=G+V,j.payloadLength=4294967295===te.payloadLength?te.payloadLength:te.payloadLength-V,j}const I=C(()=>w(51642369)+w(12)),S=C(()=>I.value+w(22)+g(33290)),M=C(()=>I.value+w(22)+g(32778)+w(0)+w(0)),F=C(()=>w(60030977)+w(12)+w(22)+g(34058)),N=C(()=>w(60030977)+w(12)+w(24)+g(34316));E.exports.Transport={genTsCreateHeader:function(){return M.value},genTsDestroyHeader:function(H){return S.value+H},genTsDataTokenMsg:function(H){return F.value+H},genTsDataStreamTokenMsg:function(H,G){return N.value+H+g(G&&G>0?G:0)},genTsDataMsgHeaderParts:function(H){return[w(60030977)+w(12),g(33802)+H]},parseTsSmfHdrAt:A,parseTsSmfMsgAt:function(H,G,te){const Z=A(H,G,te);if(!Z)return null;const j=G+Z.tsHeaderLength;return D(H,j)<Z.payloadLength?(m(`Couldn't read full encapsulated TsSmf payload, expected ${Z.payloadLength}B`),null):(Z.payload=H.slice(j,j+Z.payloadLength),Z)}}},7780:(E,B,c)=>{const{BaseMessage:h}=c(3493),{Convert:_,Long:f}=c(840),{DestinationType:m}=c(3170),{OperationError:p}=(c(390),c(3870)),{QueueAccessType:v,QueueDiscardBehavior:g}=c(5754),{QueuePermissions:w,QueueType:C}=c(5754),{ReplayStartType:D}=c(2604),{SMFAdProtocolMessageType:A}=c(948),{SMFAdProtocolParam:I}=c(4786),{SMFHeader:S}=c(6631),{SMFParameter:M}=c(2984),{SMFProtocol:F}=c(8958),{SMFUH:N}=c(3767),{StringUtils:q}=c(7882),H=c(8764).Buffer,{strToInt8:G,strToInt16:te,strToUInt32:Z,strToUInt64:j}=_,Q=H.prototype.readUInt8,V=H.prototype.readUInt16BE,ie=H.prototype.readUInt32BE,z=function(ue){return f.fromBits(this.readUInt32BE(ue+4),this.readUInt32BE(ue),!0)},{nullTerminate:ne,stripNullTerminate:T}=q,$={[m.TOPIC]:I.DTENAME,[m.QUEUE]:I.QUEUENAME},U={[C.TOPIC_ENDPOINT]:I.DTENAME,[C.QUEUE]:I.QUEUENAME},W={[w.NONE]:0,[w.READ_ONLY]:1,[w.CONSUME]:3,[w.MODIFY_TOPIC]:7,[w.DELETE]:15},se={1:v.EXCLUSIVE,2:v.NONEXCLUSIVE},le={[v.EXCLUSIVE]:1,[v.NONEXCLUSIVE]:2},Me={[g.NOTIFY_SENDER_OFF]:1,[g.NOTIFY_SENDER_ON]:2};function Ee(ue,_e,de=!1){if(!_e)return;const{accessType:k,discardBehavior:J,maxMessageRedelivery:fe,maxMessageSize:pe,permissions:Y,quotaMB:Fe,respectsTTL:Be}=_e;Y&&void 0!==W[Y]&&ue.addParameter(new M(N.IGNORE,I.EP_ALLOTHER_PERMISSION,W[Y])),de||void 0===k||void 0===le[k]||ue.addParameter(new M(N.IGNORE,I.ACCESSTYPE,le[k])),null!=Fe&&ue.addParameter(new M(N.IGNORE,I.EP_QUOTA,Fe)),null!=pe&&ue.addParameter(new M(N.IGNORE,I.EP_MAX_MSGSIZE,pe));let Ye=0;null!=J&&(Ye|=Me[J]<<12),Ye&&ue.addParameter(new M(N.IGNORE,I.EP_BEHAVIOUR,Ye)),null!=fe&&ue.addParameter(new M(N.IGNORE,I.MAX_REDELIVERY,fe)),null!=Be&&ue.addParameter(new M(N.IGNORE,I.EP_RESPECTS_TTL,Be?1:0))}class ye extends h{constructor(_e=0,de=3){super(new S(F.ADCTRL,1)),this.msgType=_e,this.version=de}_readParameter(_e,de=null,k=null){const J=this.getParameter(_e);if(void 0===J)return;if(k&&J.getBuffer())return k.call(J.getBuffer(),J.getBegin());const fe=J.getValue();return de?de(fe):fe}getAccessType(){const _e=this._readParameter(I.ACCESSTYPE,G,Q);return se[_e]}getActiveFlow(){return this._readParameter(I.ACTIVE_FLOW_INDICATION,G,Q)}getQueueDiscardBehavior(){const _e=this._readParameter(I.EP_BEHAVIOUR,te,V);if(void 0===_e)return;const de=(12288&_e)>>12;return de===Me[g.NOTIFY_SENDER_OFF]?g.NOTIFY_SENDER_OFF:de===Me[g.NOTIFY_SENDER_ON]?g.NOTIFY_SENDER_ON:void 0}getEndpointDeliveryCountSent(){switch((3072&this._readParameter(I.EP_BEHAVIOUR,te,V))>>10){case 0:default:return;case 1:return!1;case 2:return!0}}getEndpointId(){return this._readParameter(I.ENDPOINT_ID,Z,ie)}getRespectsTTL(){const _e=this._readParameter(I.EP_RESPECTS_TTL,G,Q);if(void 0!==_e)return!!_e}getFlowName(){return this._readParameter(I.FLOWNAME,T)}getFlowId(){return this._readParameter(I.FLOWID,Z,ie)}getQuota(){return this._readParameter(I.EP_QUOTA,Z,ie)}getMaxMsgSize(){return this._readParameter(I.EP_MAX_MSGSIZE,Z,ie)}getTopicEndpointBytes(){return this._readParameter(I.DTENAME)}getGrantedPermissions(){const _e=this._readParameter(I.GRANTED_PERMISSIONS,Z,ie);let de;return Object.keys(W).forEach(k=>{W[k]===_e&&(de=k)}),de}getAllOthersPermissions(){const _e=this._readParameter(I.EP_ALLOTHER_PERMISSION,Z,ie);let de;return Object.keys(W).forEach(k=>{W[k]===_e&&(de=k)}),de}getLastMsgIdAcked(){return this._readParameter(I.LASTMSGIDACKED,j,z)}getLastMsgIdReceived(){return this._readParameter(I.LASTMSGIDRECEIVED,j,z)}getPublisherId(){return this._readParameter(I.PUBLISHER_ID,Z,ie)}getWantFlowChangeNotify(){return!!this._readParameter(I.WANT_FLOW_CHANGE_NOTIFY,G,Q)}getWindow(){return this._readParameter(I.WINDOW,G,Q)}getMaxRedelivery(){return this._readParameter(I.MAX_REDELIVERY,G,Q)}getMaxUnackedMessages(){return this._readParameter(I.MAX_DELIVERED_UNACKED_MESSAGES_PER_FLOW,Z,ie)}getEndpointErrorId(){return this._readParameter(I.ENDPOINT_ERROR_ID,j,z)}getSpoolerUniqueId(){return this._readParameter(I.SPOOLER_UNIQUE_ID,j,z)}static getCloseMessagePublisher(_e,de){const k=new ye(A.CLOSEPUBFLOW);return k.smfHeader.pm_corrtag=de,k.addParameter(new M(N.REJECT,I.FLOWID,_e)),k}static getCreate(_e,de,k){const J=new ye(A.CREATE);J.smfHeader.pm_corrtag=k;const fe=U[_e.type];if(void 0===fe)throw new p("Unknown destination type");return J.addParameter(new M(N.REJECT,fe,ne(_e.name))),J.addParameter(new M(N.IGNORE,I.EP_DURABLE,_e.durable)),Ee(J,de),J}static getOpenMessagePublisher(_e,de,k,J,fe){const pe=new ye(A.OPENPUBFLOW);return pe.smfHeader.pm_corrtag=fe,void 0!==_e&&pe.addParameter(new M(N.REJECT,I.LASTMSGIDACKED,_e)),void 0!==de&&pe.addParameter(new M(N.REJECT,I.LASTMSGIDSENT,de)),pe.addParameter(new M(N.REJECT,I.WINDOW,k)),pe.addParameter(new M(N.IGNORE,I.FLOWNAME,J||"")),pe}static getOpenMessageConsumer(_e,de,k,J,fe,pe,Y,Fe,Be=f.UZERO,Ye=f.UZERO,ae=!1,oe,be){const y=_e.durable,O=k.bytes,x=k.type,ee=new ye(A.BIND);ee.smfHeader.pm_corrtag=fe;const re=$[x];if(void 0===re)throw new p("Unknown destination type");if(ee.addParameter(new M(N.REJECT,re,O)),J&&ee.addParameter(new M(N.REJECT,I.TOPICNAME,J.bytes)),x===m.QUEUE&&(ee.addParameter(new M(N.REJECT,I.LASTMSGIDACKED,Be)),ee.addParameter(new M(N.IGNORE,I.LASTMSGIDRECEIVED,Ye))),ee.addParameter(new M(N.REJECT,I.WINDOW,pe)),ee.addParameter(new M(N.IGNORE,I.EP_DURABLE,y)),Ee(ee,de,!0),Y&&ee.addParameter(new M(N.REJECT,I.NOLOCAL,1)),Fe&&ee.addParameter(new M(N.IGNORE,I.WANT_FLOW_CHANGE_NOTIFY,1)),ae&&ee.addParameter(new M(N.REJECT,I.FLOWTYPE,2)),void 0!==oe){let me=oe._replayStartValue;oe._type===D.DATE&&(me=f.fromNumber(oe._replayStartValue,!0).multiply(1e6)),ee.addParameter(new M(N.REJECT,I.REPLAY_START_LOCATION,{type:oe._type,value:me}))}return void 0!==be&&ee.addParameter(new M(N.IGNORE,I.ENDPOINT_ERROR_ID,be)),ee}static getCloseMessageConsumer(_e,de){const k=new ye(A.UNBIND);return k.smfHeader.pm_corrtag=de,k.addParameter(new M(N.REJECT,I.FLOWID,_e)),k}static getDTEUnsubscribeMessage(_e,de){const k=new ye(A.UNSUBSCRIBE);return k.smfHeader.pm_corrtag=_e,k.addParameter(new M(N.REJECT,I.DTENAME,de.getBytes())),k}static getAck(_e,de,k,J){const fe=new ye(A.CLIENTACK);if(fe.addParameter(new M(N.REJECT,I.FLOWID,_e)),de&&fe.addParameter(new M(N.REJECT,I.LASTMSGIDACKED,de)),null!=k&&fe.addParameter(new M(N.REJECT,k<=255?I.WINDOW:I.TRANSPORT_WINDOW,k)),J&&J.length){if(J.length>ye.MAX_CLIENT_ACK_RANGES)throw new p("Application ack range count exceeds limit of 64");fe.addParameter(new M(N.REJECT,I.APPLICATION_ACK,J))}return fe}static getUnbindAck(_e,de,k){const J=new ye(A.UNBIND);return J.addParameter(new M(N.REJECT,I.FLOWID,_e)),de&&J.addParameter(new M(N.IGNORE,I.ENDPOINT_ERROR_ID,de)),J}}ye.MAX_CLIENT_ACK_RANGES=64,E.exports.AdProtocolMessage=ye},2981:(E,B,c)=>{const{AdProtocolMessage:h}=c(7780),{BinaryMetaBlock:_}=c(2578),{ClientCtrlMessage:f}=c(7385),{KeepAliveMessage:m}=c(2347),{SMFHeader:b}=c(6631),{SMFParameter:p}=c(2984),{SMFUH:v}=c(3767),{SMPMessage:g}=c(807),{TransportSMFMessage:w}=c(3902);E.exports.AdProtocolMessage=h,E.exports.BinaryMetaBlock=_,E.exports.ClientCtrlMessage=f,E.exports.KeepAliveMessage=m,E.exports.SMFHeader=b,E.exports.SMFParameter=p,E.exports.SMFUH=v,E.exports.SMPMessage=g,E.exports.TransportSMFMessage=w},3493:E=>{E.exports.BaseMessage=class{constructor(B=null,c=[]){this._smfHeader=B,this._parameters=c}addParameter(B){this._parameters[B.getType()]=B}getParameter(B){return this._parameters[B]}getParameterArray(){return this._parameters}get smfHeader(){return this._smfHeader}set smfHeader(B){this._smfHeader=B}getResponse(){const B=this.smfHeader;return B&&B.pm_respcode&&B.pm_respstr?{responseCode:B.pm_respcode,responseString:B.pm_respstr}:null}}},2578:(E,B,c)=>{const{Bits:h,Convert:_}=c(840),{get:f}=h,{int8ToStr:m,int24ToStr:b}=_;class p{constructor(g,w){this.type=g,this.payload=w}asEncodedSmf(){const g=[];return g.push(m(1)),g.push(m(this.type)),g.push(b(this.payload.length)),g.push(this.payload.toString("latin1")),g.join("")}static fromEncodedSmf(g,w=0){if(g.length-w<6)return null;const C=g.readUInt8(w),D=g.readInt32BE(w+1),A=f(D,24,8),I=f(D,0,24),S=4*C+1,M=g.slice(w+S,w+S+I);return new p(A,M)}}E.exports.BinaryMetaBlock=p},7385:(E,B,c)=>{const{AuthenticationScheme:h,CapabilityType:_,ClientCapabilityType:f,MutableSessionProperty:m,SessionProperties:b}=c(5594),{BaseMessage:p}=c(3493),{Bits:v,Convert:g}=c(840),{DestinationType:w,DestinationUtil:C}=c(3170),{ErrorSubcode:D,OperationError:A}=c(3870),{Process:I,StringUtils:S,Version:M}=c(7882),{SMFClientCtrlMessageType:F}=c(9947),{SMFClientCtrlParam:N,SMFClientCtrlAuthType:q}=c(1200),{SMFHeader:H}=c(6631),{SMFParameter:G}=c(2984),{SMFProtocol:te}=c(8958),{get:j,set:Q}=(c(390),v),{int8ToStr:V,strToInt8:ie,int16ToStr:z,int32ToStr:ne,strToInt16:T,strToInt32:$}=g,{nullTerminate:U,stripNullTerminate:W}=S,{validateAndEncode:se}=C,le=[_.JNDI,_.COMPRESSION,_.GUARANTEED_MESSAGE_CONSUME,_.TEMPORARY_ENDPOINT,_.GUARANTEED_MESSAGE_PUBLISH,_.GUARANTEED_MESSAGE_BROWSE,_.ENDPOINT_MGMT,_.SELECTOR,_.ENDPOINT_MESSAGE_TTL,_.QUEUE_SUBSCRIPTIONS,null,_.SUBSCRIPTION_MANAGER,_.MESSAGE_ELIDING,_.TRANSACTED_SESSION,_.NO_LOCAL,_.ACTIVE_CONSUMER_INDICATION,_.PER_TOPIC_SEQUENCE_NUMBERING,_.ENDPOINT_DISCARD_BEHAVIOR,_.CUT_THROUGH,null,_.MESSAGE_REPLAY,_.COMPRESSED_SSL,null,_.SHARED_SUBSCRIPTIONS,_.BR_REPLAY_ERRORID],Me=new Map([[f.UNBIND_ACK,128],[f.BR_ERRORID,64]]);class Ee extends p{constructor(ue=0){super(new H(te.CLIENTCTRL,1)),this.msgType=ue,this.version=1}getP2PTopicValue(){const ue=this.getParameter(N.P2PTOPIC);return ue?W(ue.getValue()):null}getVpnNameInUseValue(){const ue=this.getParameter(N.MSGVPNNAME);return ue?W(ue.getValue()):null}getVridInUseValue(){const ue=this.getParameter(N.VRIDNAME);return ue?W(ue.getValue()):null}getUserIdValue(){const ue=this.getParameter(N.USERID);return ue?W(ue.getValue()):null}getRouterCapabilities(){let ue=[],_e=this.getParameter(N.ROUTER_CAPABILITIES);return _e&&(ue=Ee.prmParseCapabilitiesValue(_e.getValue(),ue)),_e=this.getParameter(N.SOFTWAREVERSION),_e&&(ue[_.PEER_SOFTWARE_VERSION]=W(_e.getValue())),_e=this.getParameter(N.SOFTWAREDATE),_e&&(ue[_.PEER_SOFTWARE_DATE]=W(_e.getValue())),_e=this.getParameter(N.PLATFORM),_e&&(ue[_.PEER_PLATFORM]=W(_e.getValue())),_e=this.getParameter(N.PHYSICALROUTERNAME),_e&&(ue[_.PEER_ROUTER_NAME]=W(_e.getValue())),ue}static prmGetDtoPriorityValue(ue){if(void 0===ue.local||void 0===ue.network)return!1;let _e=0;return _e=Q(_e,ue.local,8,8),_e=Q(_e,ue.network,0,8),z(_e)}static prmParseDtoPriorityValue(ue){const _e={},de=T(ue.substr(0,2));return _e.local=j(de,8,8),_e.network=j(de,0,8),_e}static prmParseCapabilitiesValue(ue,_e){const de=_e;if(!ue||!de)return!1;const k=_;let J=0;const fe=ie(ue[J]);let pe;++J;for(let Y=0;Y<fe;++Y){const Fe=7&Y;0===Fe&&(pe=ie(ue[J]),++J);const Be=le[Y];Be&&(de[Be]=!!j(pe,7-Fe,1))}for(let Y=0;J<ue.length&&Y<500;++Y){const Fe=ie(ue[J]);J++;const Be=$(ue.substr(J,4))-5;J+=4;const Ye=ue.substr(J,Be);switch(J+=Be,Fe){case 0:de[k.PEER_PORT_SPEED]=4===Ye.length?$(Ye):0;break;case 1:de[k.PEER_PORT_TYPE]=1===Ye.length?ie(Ye):0;break;case 2:de[k.MAX_GUARANTEED_MSG_SIZE]=4===Ye.length?$(Ye):0;break;case 3:de[k.MAX_DIRECT_MSG_SIZE]=4===Ye.length?$(Ye):0}}return de}static getLogin(ue,_e,de,k){if(!(ue instanceof b))return!1;const J=new Ee(F.LOGIN),fe=J._smfHeader,pe=ue.authenticationScheme===h.CLIENT_CERTIFICATE;fe.pm_corrtag=k,ue.password&&!pe&&(fe.pm_password=ue.password),ue.userName&&(fe.pm_username=ue.userName),ue.subscriberLocalPriority&&ue.subscriberNetworkPriority&&J.addParameter(new G(0,N.DELIVERTOONEPRIORITY,Ee.prmGetDtoPriorityValue({local:ue.subscriberLocalPriority,network:ue.subscriberNetworkPriority}))),ue.vpnName&&ue.vpnName.length>0&&J.addParameter(new G(1,N.MSGVPNNAME,U(ue.vpnName))),ue.applicationDescription&&ue.applicationDescription.length>0&&J.addParameter(new G(0,N.CLIENTDESC,U(ue.applicationDescription))),ue.userIdentification&&ue.userIdentification.length>0&&J.addParameter(new G(0,N.USERID,U(ue.userIdentification))),ue.authenticationScheme===h.OAUTH2&&(J.addParameter(new G(1,N.AUTHENTICATION_SCHEME,q.OAUTH2)),ue.idToken&&(fe.pm_oidc_id_token=U(ue.idToken)),ue.accessToken&&(fe.pm_oauth2_access_token=U(ue.accessToken)),ue.issuerIdentifier&&(fe.pm_oauth2_issuer_identifier=U(ue.issuerIdentifier))),J.addParameter(new G(0,N.CLIENTNAME,U(ue.clientName))),J.addParameter(new G(0,N.PLATFORM,U(`${I.platform} - JS API (${M.mode})`))),ue.noLocal&&J.addParameter(new G(0,N.NO_LOCAL,"\x01")),pe&&J.addParameter(new G(1,N.AUTHENTICATION_SCHEME,q.CLIENT_CERTIFICATE)),J.addParameter(new G(0,N.SOFTWAREDATE,U(M.formattedDate))),J.addParameter(new G(0,N.SOFTWAREVERSION,U(M.version))),_e&&de?J.addParameter(new G(1,N.SSL_DOWNGRADE,"\x01")):_e?J.addParameter(new G(1,N.SSL_DOWNGRADE,"\x02")):de&&J.addParameter(new G(1,N.SSL_DOWNGRADE,"\0"));const Y=function(Be){const Ye=Math.max.apply(null,Be)+1;let ae=0;return Be.forEach(oe=>{ae+=Me.get(oe)}),V(Ye)+V(ae)}([f.UNBIND_ACK,f.BR_ERRORID]);J.addParameter(new G(0,N.CLIENT_CAPABILITIES,Y));const Fe=ne(ue.keepAliveIntervalInMsecs/1e3);return J.addParameter(new G(0,N.KEEP_ALIVE_INTERVAL,Fe)),J}static getUpdate(ue,_e,de){const k=new Ee(F.UPDATE);if(k.smfHeader.pm_corrtag=de,ue===m.CLIENT_DESCRIPTION){const J=(_e||"").toString().substr(0,250);k.addParameter(new G(0,N.CLIENTDESC,U(J)))}else if(ue===m.CLIENT_NAME){const J=Ee.validateClientName(_e,fe=>new A(`Invalid clientName: ${fe}`,D.PARAMETER_OUT_OF_RANGE));if(J)throw J;k.addParameter(new G(0,N.CLIENTNAME,U(_e)))}return k}static validateClientName(ue,_e){const de=se(w.TOPIC,ue,_e);return de.error?de.error:de.bytes.length>161?_e("Client Name too long (max length: 160)."):null}}E.exports.ClientCtrlMessage=Ee},2347:(E,B,c)=>{const{BaseMessage:h}=c(3493),{SMFHeader:_}=c(6631),{SMFProtocol:f}=c(8958);E.exports.KeepAliveMessage=class extends h{constructor(){super(new _(f.KEEPALIVEV2,2)),this._smfHeader.smf_uh=2}}},6631:E=>{E.exports.SMFHeader=class{constructor(B=0,c=0){this._parameters=[],this.smf_version=3,this.smf_uh=0,this.smf_protocol=B,this.smf_priority=0,this.smf_ttl=c,this.smf_msgLen=0,this.smf_di=0,this.smf_tqd=0,this.smf_elidingEligible=0,this.smf_dto=0,this.smf_adf=0,this.smf_deadMessageQueueEligible=0,this.pm_userdata=null,this.pm_respcode=0,this.pm_respstr=null,this.pm_username=null,this.pm_password=null,this.pm_tr_topicname_bytes=null,this.pm_deliverymode=null,this.pm_ad_msgid=void 0,this.pm_ad_prevmsgid=void 0,this.pm_ad_redelflag=0,this.pm_ad_flowredelflag=0,this.pm_ad_ttl=void 0,this.pm_ad_ackimm=void 0,this.pm_ad_flowid=0,this.pm_ad_publisherid=0,this.pm_ad_publishermsgid=0,this.pm_content_summary=null,this.pm_corrtag=null,this.pm_topic_offset=0,this.pm_topic_len=0,this.pm_queue_offset=0,this.pm_queue_len=0,this.pm_msg_priority=null,this.pm_oauth2_access_token=null,this.pm_oidc_id_token=null,this.pm_oauth2_issuer_identifier=null,this.unknownProtoFlag=!1,this.messageLength=0,this.payloadLength=0,this.headerLength=0,this.payload=null,this.discardMessage=!1}setMessageSizes(B,c){this.headerLength=B,this.payloadLength=c,this.messageLength=B+c}setPayloadSize(B){this.payloadLength=B}}},2984:E=>{E.exports.SMFParameter=class{constructor(B,c,h,_,f,m){this._type=c,this._value=h,this._uh=B,this._buffer=_,this._begin=f,this._end=m}getType(){return this._type}getValue(){return this._buffer&&!this._value?this._buffer.toString("latin1",this._begin,this._end):this._value}getUh(){return this._uh}getBuffer(){return this._buffer}getBegin(){return this._begin}getEnd(){return this._end}toString(){return`${this._uh}:0x${this._type.toString(16)} = ${this.getValue()}`}}},3767:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SMFUH=h.new({IGNORE:0,REJECT:2})},807:(E,B,c)=>{const{assert:h}=c(9359),{BaseMessage:_}=c(3493),{Destination:f,DestinationUtil:m}=c(3170),{SMFHeader:b}=c(6631),{SMFProtocol:p}=c(8958),{SMFSMPMessageType:v}=c(6874),{SMFSMPMessageTypeFlags:g}=c(8488);class w extends _{constructor(){super(new b(p.SMP,1)),this.msgType=0,this.encodedUtf8Subscription=null,this.encodedUtf8QueueName=null,this.smpFlags=0|g.SMF_SMP_FLAG_TOPIC,this._encodedQueueName=null,this._encodedClientName=null}isFlag(D){return this.smpFlags&D}setFlag(D,A){A?this.smpFlags|=D:this.smpFlags&=~D}static getSubscriptionMessage(D,A,I,S){h(A instanceof f,"Topics are not UCS-2 strings. Pass a Topic object.");const M=new w;return M.msgType=I?v.ADDSUBSCRIPTION:v.REMSUBSCRIPTION,M.encodedUtf8Subscription=A.getBytes(),h(M.encodedUtf8Subscription,"Topic had no encoding"),M.setFlag(g.SMF_SMP_FLAG_TOPIC,!0),S&&M.setFlag(g.SMF_SMP_FLAG_RESPREQUIRED,!0),M._smfHeader.pm_corrtag=D,M}static getQueueSubscriptionMessage(D,A,I,S){h(A instanceof f,"Topics are not UCS-2 strings. Pass a Topic object.");const M=new w;return M.msgType=S?v.ADDQUEUESUBSCRIPTION:v.REMQUEUESUBSCRIPTION,M.encodedUtf8QueueName=m.encodeBytes(I.getName()),M.encodedUtf8Subscription=A.getBytes(),h(M.encodedUtf8Subscription,"Topic had no encoding"),h(M.encodedUtf8QueueName,"Queue had no encoding"),M.setFlag(g.SMF_SMP_FLAG_TOPIC,!0),M.setFlag(g.SMF_SMP_FLAG_RESPREQUIRED,!0),M.setFlag(g.SMF_SMP_FLAG_PERSIST,!0),M._smfHeader.pm_corrtag=D,M}}E.exports.SMPMessage=w},3902:(E,B,c)=>{const{BaseMessage:h}=c(3493);E.exports.TransportSMFMessage=class extends h{constructor(){super(null,null),this.uh=0,this.messageType=null,this.sessionId=null,this.routerTag=null,this.payload=null,this.payloadLength=0,this.tsHeaderLength=0}}},948:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SMFAdProtocolMessageType=h.new({OPENPUBFLOW:0,CLIENTACK:3,BIND:4,UNBIND:5,UNSUBSCRIBE:6,CLOSEPUBFLOW:7,CREATE:8,DELETE:9,TRANSACTIONCTRL:11,FLOWCHANGEUPDATE:12,XACTRL:14,CLIENTNACK:15})},4786:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SMFAdProtocolParam=h.new({LASTMSGIDSENT:1,LASTMSGIDACKED:2,WINDOW:3,TRANSPORT_PRIORITY:4,APPLICATION_ACK:5,FLOWID:6,QUEUENAME:7,DTENAME:8,TOPICNAME:9,FLOWNAME:10,EP_DURABLE:11,ACCESSTYPE:12,SELECTOR:13,TRANSPORT_WINDOW:14,LINGER_OPTION:15,LASTMSGIDRECEIVED:16,EP_ALLOTHER_PERMISSION:17,FLOWTYPE:18,EP_QUOTA:19,EP_MAX_MSGSIZE:20,GRANTED_PERMISSIONS:21,EP_RESPECTS_TTL:22,TRANSACTION_CTRL_MESSAGE_TYPE:23,TRANSACTED_SESSION_ID:24,TRANSACTED_SESSION_NAME:25,TRANSACTION_ID:26,TRANSACTED_SESSION_STATE:27,TRANSACTION_FLOW_DESCRIPTOR_PUB_NOTIFY:28,TRANSACTION_FLOW_DESCRIPTOR_PUB_ACK:29,TRANSACTION_FLOW_DESCRIPTOR_SUB_ACK:30,NOLOCAL:31,ACTIVE_FLOW_INDICATION:32,WANT_FLOW_CHANGE_NOTIFY:33,EP_BEHAVIOUR:34,PUBLISHER_ID:35,APPLICATION_PUB_ACK:36,NUM_MESSAGES_SPOOLED:37,CUT_THROUGH:38,PUBLISHER_FLAGS:39,APP_MSG_ID_TYPE:40,QUEUE_ENDPOINT_HASH:41,MAX_REDELIVERY:42,PAYLOAD:43,ENDPOINT_ID:44,ACK_SEQUENCE_NUMBER:45,ACK_RECONCILE_REQUEST:46,START_OF_ACK_RECONCILE:47,TIMESTAMP:48,MAX_DELIVERED_UNACKED_MESSAGES_PER_FLOW:49,REPLAY_START_LOCATION:51,ENDPOINT_ERROR_ID:52,SPOOLER_UNIQUE_ID:54})},9947:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SMFClientCtrlMessageType=h.new({LOGIN:0,UPDATE:1})},1200:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SMFClientCtrlAuthType=h.new({CLIENT_CERTIFICATE:"\x01",OAUTH2:"\n"}),E.exports.SMFClientCtrlParam=h.new({SOFTWAREVERSION:0,SOFTWAREDATE:1,PLATFORM:2,USERID:3,CLIENTDESC:4,CLIENTNAME:5,MSGVPNNAME:6,DELIVERTOONEPRIORITY:7,P2PTOPIC:8,ROUTER_CAPABILITIES:9,VRIDNAME:10,PHYSICALROUTERNAME:12,BRIDGE_MSG_VPN_NAME:13,BRIDGE_ROUTER_NAME:14,NO_LOCAL:15,BRIDGE_VERSION:16,AUTHENTICATION_SCHEME:17,CONNECTION_TYPE:18,ROUTER_CAPABILITIES_EXTENDED:19,REQUIRES_RELEASE_7:20,SSL_DOWNGRADE:21,CLIENT_CAPABILITIES:23,KEEP_ALIVE_INTERVAL:24})},2095:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SMFParameterType=h.new({PADDING:0,PUBLISHER_ID:1,PUBLISHER_MSGID:2,MESSAGEPRIORITY:3,USERDATA:4,USERNAME:6,PASSWORD:7,RESPONSE:8,SUB_ID_LIST:10,GENERIC_ATTACHMENT:11,BINARY_ATTACHMENT:12,DELIVERY_MODE:16,ASSURED_MESSAGE_ID:17,ASSURED_PREVMESSAGE_ID:18,ASSURED_REDELIVERED_FLAG:19,MESSAGE_CONTENT_SUMMARY:22,ASSURED_FLOWID:23,TR_TOPICNAME:24,AD_FLOWREDELIVERED_FLAG:25,AD_TIMETOLIVE:28,AD_TOPICSEQUENCE_NUMBER:30,EXTENDED_TYPE_STREAM:31,AD_ACK_MESSAGE_ID:41,AD_SPOOLER_UNIQUE_ID:44,AD_REPL_MATE_ACK_MSGID:45,AD_REDELIVERY_COUNT:46,LIGHT_CORRELATION:0,LIGHT_TOPIC_NAME_OFFSET:1,LIGHT_QUEUE_NAME_OFFSET:2,LIGHT_ACK_IMMEDIATELY:3}),E.exports.SMFExtendedParameterType=h.new({OAUTH2_ISSUER_IDENTIFIER:47,OIDC_ID_TOKEN:48,OAUTH2_ACCESS_TOKEN:49})},8958:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SMFProtocol=h.new({CSPF:1,CSMP:2,PUBMSG:3,XMLLINK:4,WSE:5,SEMP:6,SUBCTRL:7,PUBCTRL:8,ADCTRL:9,KEEPALIVE:10,KEEPALIVEV2:11,CLIENTCTRL:12,TRMSG:13,JNDI:14,SMP:15,SMRP:16,SMF_IN_SMF:17,SMF_IN_RV:18,ADCTRL_PASSTHROUGH:19,TSESSION:20})},8488:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SMFSMPMessageTypeFlags=h.new({FLAG_FILTER:1,FLAG_PERSIST:2,SMF_SMP_FLAG_TOPIC:4,SMF_SMP_FLAG_RESPREQUIRED:8,SMF_SMP_FLAG_DELIVERALWAYS:16})},6874:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SMFSMPMessageType=h.new({ADDSUBSCRIPTION:0,REMSUBSCRIPTION:1,ADDQUEUESUBSCRIPTION:2,REMQUEUESUBSCRIPTION:3,ADDSUBSCRIPTIONFORCLIENTNAME:4,REMSUBSCRIPTIONFORCLIENTNAME:5})},5752:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.SMFTransportSessionMessageType=h.new({CREATE:0,CREATE_RESP:1,DESTROY:2,DESTROY_RESP:3,DATA:4,DATA_TOKEN:5,DATA_STREAM_TOKEN:6})},1843:(E,B,c)=>{const{CacheCBInfo:h}=c(5417),{CacheContext:_}=c(748),{CacheLiveDataAction:f}=c(5563),{CacheRequest:m}=c(4802),{CacheRequestResult:b}=c(4449),{CacheReturnCode:p}=c(372),{CacheReturnSubcode:v}=c(2698),{CacheSession:g}=c(1460),{CacheSessionProperties:w}=c(1166);E.exports.CacheCBInfo=h,E.exports.CACHE_REQUEST_PREFIX=_.CACHE_REQUEST_PREFIX,E.exports.CacheLiveDataAction=f,E.exports.CacheRequestResult=b,E.exports.CacheReturnCode=p,E.exports.CacheReturnSubcode=v,E.exports.CacheRequest=m,E.exports.CacheSession=g,E.exports.CacheSessionProperties=w},5417:E=>{E.exports.CacheCBInfo=class{constructor(B,c){this.cacheCBFunction=B,this.userObject=c}getCallback(){return this.cacheCBFunction}getUserObject(){return this.userObject}}},748:E=>{E.exports.CacheContext={CACHE_REQUEST_PREFIX:"#CRQ",cacheRequestCorrelationId:0}},7263:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.CacheGetResultCode=h.new({INVALID:0,OK:1})},1981:(E,B,c)=>{const{CacheGetResultCode:h}=c(7263),_={messageID:null,version:0,responseCode:h.INVALID,responseString:"",matchTopic:"",sessionID:null,isSuspect:null,hasMore:null,hasTimestamps:null,replyTo:null,messageStream:null,clusterNameStream:null};E.exports.CacheGetResult=class{constructor(f=_){Object.assign(this,f)}readFromStream(f){this.messageID=f.getNext().getValue(),this.version=f.getNext().getValue(),this.responseCode=f.getNext().getValue(),this.responseString=f.getNext().getValue(),this.matchTopic=f.getNext().getValue(),this.sessionID=f.getNext().getValue(),this.isSuspect=f.getNext().getValue(),this.hasMore=f.getNext().getValue(),this.hasTimestamps=f.getNext().getValue(),f.hasNext()&&(this.messageStream=f.getNext().getValue()),f.hasNext()&&(this.clusterNameStream=this.messageStream,this.messageStream=f.getNext().getValue())}}},5563:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.CacheLiveDataAction=h.new({FULFILL:1,QUEUE:2,FLOW_THRU:3})},4449:E=>{E.exports.CacheRequestResult=class{constructor(B,c,h,_){this._returnCode=B,this._subcode=c,this._topic=h,this._error=_}getReturnCode(){return this._returnCode}getReturnSubcode(){return this._subcode}getTopic(){return this._topic}getError(){return this._error}}},5507:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.CacheRequestType=h.new({INVALID:0,BULK_MSG:1,REGISTER_REQUEST:2,REGISTER_RESPONSE:3,HEARTBEAT_REQUEST:4,HEARTBEAT_RESPONSE:5,EVENT_NOTIFY:6,EVENT_ACK:7,ACTION_REQUEST:8,ACTION_RESPONSE:9,GET_REQUEST:10,GET_RESPONSE:11,GET_NEXT_REQUEST:12,GET_NEXT_RESPONSE:13,SET_REQUEST:14,SET_RESPONSE:15,GET_MSG_REQUEST:16,GET_MSG_RESPONSE:17,GET_NEXT_MSG_REQUEST:18,GET_NEXT_MSG_RESPONSE:19,UNREGISTER_IND:20,BULK_SET_REQUEST:21,BULK_SET_RESPONSE:22,PURGE_MSG_SEQUENCE_REQUEST:23,PURGE_MSG_SEQUENCE_RESPONSE:24,GET_MSG_SEQUENCE_REQUEST:25,GET_NEXT_MSG_SEQUENCE_REQUEST:26,GET_TOPIC_INFO_REQUEST:27,GET_TOPIC_INFO_RESPONSE:28,READY_MARKER:29,GET_TOPIC_INFO_REQUEST_RANGE:30,SYNC_READY_MARKER:31,VACUUM_REQUEST:32,VACUUM_RESPONSE:33})},4802:(E,B,c)=>{const{CacheContext:h}=c(748),{CACHE_REQUEST_PREFIX:f}=(c(390),h);class m{constructor(p,v,g,w,C,D,A){this.cacheSession=p,this.cacheMessageType=v,this.requestID=g,this.cbInfo=w,this.liveDataAction=C,this.topic=D,this.cacheName=A,this.subscriptionWaiting=null,this.replyReceived=!1,this.dataReceived=!1,this.isSuspect=!1,this.correlationID=`${f}${h.cacheRequestCorrelationId++}`,this.childRequests=[],this.parentRequest=null,this.queuedLiveData=[],this.liveDataFulfilled=!1,this.timeoutHandle=null}getRootRequest(){return this.parentRequest?this.parentRequest.getRootRequest():this}addChild(p){if(!(p instanceof m))throw new Error(`Invalid child ${p}`);if(p===this)throw new Error("Constructing circular child reference");const v=p;v.parentRequest=this,this.childRequests.push(v)}removeChild(p){if(p===this)throw new Error("Attempting to deconstruct invalid circular child reference");const v=p,g=this.childRequests.indexOf(v);this.childRequests.splice(g,1),v.parentRequest=null}collapse(){const p=this.parentRequest;p.isSuspect=p.isSuspect||this.isSuspect,p.dataReceived=p.dataReceived||this.dataReceived,p.removeChild(this)}cancel(){for(this.parentRequest&&this.collapse();this.childRequests.length;){const p=this.childRequests.shift();p.childRequests&&p.cancel(),this.removeChild(p)}this.clearRequestTimeout()}getRequestID(){return this.requestID}getCBInfo(){return this.cbInfo}getTopic(){return this.topic}getLiveDataAction(){return this.liveDataAction}startRequestTimeout(p,v){this.timeoutHandle=setTimeout(()=>{p(this)},v)}clearRequestTimeout(){null!=this.timeoutHandle&&(clearTimeout(this.timeoutHandle),this.timeoutHandle=null)}toString(){return`CacheRequest[correlationID=${this.correlationID},requestID=${this.requestID},cacheName=${this.cacheName},topic=${this.topic.getName()}]`}}m.VERSION=1,m.DEFAULT_REPLY_SIZE_LIMIT=1e6,m.REPLY_SIZE_LIMIT=m.DEFAULT_REPLY_SIZE_LIMIT,E.exports.CacheRequest=m},372:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.CacheReturnCode=h.new({OK:1,FAIL:2,INCOMPLETE:3})},2698:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.CacheReturnSubcode=h.new({REQUEST_COMPLETE:0,LIVE_DATA_FULFILL:1,ERROR_RESPONSE:2,INVALID_SESSION:3,REQUEST_TIMEOUT:4,REQUEST_ALREADY_IN_PROGRESS:5,NO_DATA:6,SUSPECT_DATA:7,CACHE_SESSION_DISPOSED:8,SUBSCRIPTION_ERROR:9})},1166:E=>{E.exports.CacheSessionProperties=class{constructor(B,c,h,_){this.cacheName=B,this.maxAgeSec=c||0,this.maxMessages=null==h?1:h,this.timeoutMsec=_||1e4,this.includeOtherClusters=!0,this.cachePrefix="#P2P/CACHEINST/"}getCacheName(){return this.cacheName}setCacheName(B){this.cacheName=B}getMaxMessageAgeSec(){return this.maxAgeSec}setMaxMessageAgeSec(B){this.maxAgeSec=B}getMaxMessages(){return this.maxMessages}setMaxMessages(B){this.maxMessages=B}getTimeoutMsec(){return this.timeoutMsec}setTimeoutMsec(B){this.timeoutMsec=B}}},6303:E=>{E.exports.CacheSessionSubscribeInfo=class{constructor(B,c,h){Object.assign(this,{correlationID:B,topic:c,cacheSession:h})}}},1460:(E,B,c)=>{const h=c(4789),_=c(5594),f=c(7291),m=c(6818),{ErrorSubcode:b,OperationError:p}=c(3870),{LOG_INFO:w,LOG_WARN:C}=c(390),{SDTField:D,SDTFieldType:A,SDTStreamContainer:I}=c(7252),{CacheCBInfo:S}=c(5417),{CacheContext:M}=c(748),{CacheGetResult:F}=c(1981),{CacheLiveDataAction:N}=c(5563),{CacheRequest:q}=c(4802),{CacheRequestResult:H}=c(4449),{CacheRequestType:G}=c(5507),{CacheReturnCode:te}=c(372),{CacheReturnSubcode:Z}=c(2698),{CacheSessionProperties:j}=c(1166),{CacheSessionSubscribeInfo:Q}=c(6303),{Destination:V,Topic:ie}=c(3170),{CACHE_REQUEST_PREFIX:z}=M,ne=()=>{};class T{constructor(U,W,se){T._validateProps(U);const le=new j(U.cacheName,U.maxAgeSec,U.maxMessages,U.timeoutMsec);Object.assign(this,{_outstandingRequests:{},_outstandingIDs:{},_disposed:!1,_nextMessageCallbackInfo:null,_nextSessionEventCallbackInfo:null,_properties:le,_session:W,_sessionIF:se}),this._connectToSession(W)}_connectToSession(U){this._nextSessionEventCallbackInfo=U.getEventCBInfo(),this._nextMessageCallbackInfo=U.getMessageCBInfo(),U.setMessageCBInfo(new _.MessageRxCBInfo((W,se)=>{this._handleMessage(se)},this)),U.setEventCBInfo(this._createCompoundEventCB(this._nextSessionEventCallbackInfo))}_createCompoundEventCB(U){return new _.SessionEventCBInfo((W,se,le,Me)=>{this._handleSessionEvent(U,W,se,le,Me)},null)}_handleSessionEvent(U,W,se){if(!this._processSessionEvent(W,se))return;const le=U.userObject;le?U.sessionEventCBFunction(W,se,le):U.sessionEventCBFunction(W,se)}_sendToNextDelegate(U){const W=this._nextMessageCallbackInfo.userObject;W?this._nextMessageCallbackInfo.messageRxCBFunction(this._session,U,W):this._nextMessageCallbackInfo.messageRxCBFunction(this._session,U)}_processSessionEvent(U,W){switch(W.sessionEventCode){case _.SessionEventCode.SUBSCRIPTION_ERROR:case _.SessionEventCode.SUBSCRIPTION_OK:return this._checkSubscriptionStatus(W);case _.SessionEventCode.DOWN_ERROR:return this.dispose(),!0;default:return!0}}_checkSubscriptionStatus(U){if(null==U.correlationKey||!(U.correlationKey instanceof Q)||U.correlationKey.cacheSession!==this)return!0;const W=this._getOutstandingRequest(U.correlationKey.correlationID);return W?U.sessionEventCode===_.SessionEventCode.SUBSCRIPTION_OK?(this._handleSubscriptionSuccess(W,U.correlationKey.topic),!1):(this._handleSubscriptionError(W,U),!1):(C(`No request found for subscription success on ${U.correlationKey.topic}`),!0)}_handleSubscriptionSuccess(U){const W=U;W.subscriptionWaiting=null,this._startCacheRequest(W)}_handleSubscriptionError(U){this._terminateRequest(U,te.FAIL,Z.SUBSCRIPTION_ERROR)}_checkRequestCompletion(U){if(U.childRequests.length)return;if(U.subscriptionWaiting||null!==U.timeoutHandle&&!U.replyReceived)return;if(U.parentRequest){const le=U.parentRequest;return U.cancel(),this._unregisterRequest(U),void this._checkRequestCompletion(le)}let W,se;if(U.isSuspect)W=te.INCOMPLETE,se=Z.SUSPECT_DATA;else if(U.dataReceived)W=te.OK,se=U.liveDataFulfilled?Z.LIVE_DATA_FULFILL:Z.REQUEST_COMPLETE;else{if(!U.replyReceived)throw new Error("Sanity: should never happen");W=te.INCOMPLETE,se=Z.NO_DATA}this._terminateRequest(U,W,se)}_sendSeeOther(U,W){const se=W.clusterNameStream.getNext().getValue(),le=new q(this,G.GET_MSG_REQUEST,U.requestID,new S(ne,null),U.liveDataAction,U.topic,se);U.addChild(le),this._registerRequest(le),le.startRequestTimeout(T._handleCacheRequestTimeout,this._properties.timeoutMsec),this._startCacheRequest(le,null,null,!0)}_sendGetNext(U,W){const se=new q(this,G.GET_NEXT_MSG_REQUEST,U.requestID,new S(ne,null),U.liveDataAction,U.topic,U.cacheName);U.addChild(se),this._registerRequest(se),se.startRequestTimeout(T._handleCacheRequestTimeout,this._properties.timeoutMsec),this._startCacheRequest(se,W.sessionID,W.replyTo)}_handleMessage(U){const W=U.getCorrelationId(),se=null==W?null:this._outstandingRequests[W];if(!se)return void(this._relevantLiveData(U)&&this._sendToNextDelegate(U));se.clearRequestTimeout();const le=U.getSdtContainer(),Me=le&&le.getValue();if(Me||(w(`Invalid message format for cache response: no SDT container (${le}) or stream (${Me})`),this._terminateRequest(se,te.FAIL,Z.ERROR_RESPONSE)),this._incStat(m.RX_REPLY_MSG_RECVED),se.replyReceived=!0,se.getRootRequest().liveDataFulfilled)return this._incStat(m.CACHE_REQUEST_FULFILL_DISCARD_RESPONSE),void this._checkRequestCompletion(se);if(Me)try{const Ee=new F;Ee.readFromStream(Me),Ee.replyTo=U.getReplyTo(),7!==Ee.responseCode&&"Invalid Session"!=Ee.responseString||(w(`Cluster response indicates invalid session: ${Ee.responseString} code: ${Ee.responseCode}`),this._terminateRequest(se,te.FAIL,Z.INVALID_SESSION)),se.isSuspect=se.isSuspect||Ee.isSuspect;const ye=T._decodeMessageStream(se,Ee);if(this._incStat(m.RX_CACHE_MSG,ye.length),Ee.hasMore&&this._sendGetNext(se,Ee),Ee.clusterNameStream)for(;Ee.clusterNameStream.hasNext();)this._sendSeeOther(se,Ee);ye&&ye.forEach(ue=>{this._sendToNextDelegate(ue)}),this._checkRequestCompletion(se)}catch(Ee){w(`Invalid message format for cache response: ${Ee.stack}`),this._terminateRequest(se,te.FAIL,Z.ERROR_RESPONSE)}else w("Invalid cache response did not fulfill request. Skipping response processing")}_relevantLiveData(U){return!U.getCorrelationId()||!U.getCorrelationId().startsWith(z)||this._nextMessageCallbackInfo.userObject instanceof T?Object.keys(this._outstandingRequests).every(W=>this._performLiveDataAction(this._outstandingRequests[W],U)):(C("DROP: Dropping CRQ reply due to no remaining Cache Session processors on message callback chain"),this._incStat(m.RX_REPLY_MSG_DISCARD),!1)}_performLiveDataAction(U,W){const se=U;switch(se.dataReceived=!0,se.liveDataAction){case N.QUEUE:return se.queuedLiveData.push(W),!1;case N.FULFILL:return se.liveDataFulfilled||this._fulfillRequest(se),!0;default:return!0}}_fulfillRequest(U){const W=U;W.liveDataFulfilled=!0,this._trackCompletionStats(te.OK,Z.LIVE_DATA_FULFILL),setTimeout(()=>{T._notifyCallback(W,te.OK,Z.LIVE_DATA_FULFILL,W.getTopic(),null)},0)}dispose(){Object.keys(this._outstandingRequests).map(U=>this._outstandingRequests[U]).filter(U=>U instanceof q).forEach(U=>{this._terminateRequest(U,te.INCOMPLETE,Z.CACHE_SESSION_DISPOSED)}),this._outstandingRequests=[],this._session.setEventCBInfo(this._nextSessionEventCallbackInfo),this._session.setMessageCBInfo(this._nextMessageCallbackInfo),this._disposed=!0}getProperties(){return this._properties}sendCacheRequest(U,W,se,le,Me){if(5!==arguments.length)throw new p(`sendCacheRequest() invoked with an illegal argument count of ${arguments.length}`);if("boolean"!=typeof se)throw new p("Invalid subscribe flag argument, should be a boolean but was "+typeof se);if("number"!=typeof U||Number.isNaN(U))throw new p("Invalid requestID",b.PARAMETER_INVALID_TYPE,null);if(this._outstandingIDs[U])throw new p("Request already in progress with this requestID");if(!(W instanceof V))throw new p("Invalid topic",b.PARAMETER_INVALID_TYPE,typeof W);if(W.validate(),le!==N.FLOW_THRU&&le!==N.FULFILL&&le!==N.QUEUE)throw new p("Invalid live data action",b.PARAMETER_OUT_OF_RANGE);if(W.isWildcarded()&&le!==N.FLOW_THRU)throw new p("Wildcarded topic not supported for this live data action",b.PARAMETER_CONFLICT);if(!(Me instanceof S))throw new p("Callback info was not an instance of CacheCBInfo");if(this._disposed)return void T._notifyCallbackError(Me,U,te.FAIL,Z.CACHE_SESSION_DISPOSED,W,"Cache request failed: the cache session is disposed.");if(this._session._disposed)return void T._notifyCallbackError(Me,U,te.FAIL,Z.INVALID_SESSION,W,"Cache request failed: the session is disposed.");const Ee=new q(this,G.GET_MSG_REQUEST,U,Me,le,W,this._properties.cacheName),ye=Object.keys(this._outstandingRequests).filter(ue=>this._outstandingRequests[ue].topic.getName()===W.getName());if(ye.length){const ue=le!==N.FLOW_THRU?ye:ye.filter(_e=>this._outstandingRequests[_e].liveDataAction!==N.FLOW_THRU);if(ue.length)return C(`Existing request ${this._outstandingRequests[ue[0]]} conflicts. Rejecting request ${Ee}`),this._registerRequest(Ee),void this._terminateRequest(Ee,te.FAIL,Z.REQUEST_ALREADY_IN_PROGRESS)}if(this._registerRequest(Ee),Ee.startRequestTimeout(T._handleCacheRequestTimeout,this._properties.timeoutMsec),se){const ue=new Q(Ee.correlationID,W,this);return Ee._subscriptionWaiting=ue,void this._session.subscribe(W,!0,ue)}this._startCacheRequest(Ee)}_handleCacheRequestFailed(U,W,se){this._terminateRequest(se.getRequestID(),te.FAIL,Z.ERROR_RESPONSE)}_registerRequest(U){this._outstandingRequests[U.correlationID]=U,U.parentRequest||(this._outstandingIDs[U.requestID]=U)}_getOutstandingRequest(U){return this._outstandingRequests[U]}_startCacheRequest(U,W,se,le){const Me=new h.Message;Me.setCorrelationId(U.correlationID),Me.setDestination(se||ie.createFromName(this._properties.cachePrefix+U.cacheName)),Me.setReplyTo(ie.createFromName(this._session.getSessionProperties().p2pInboxInUse)),Me.setDeliverToOne(U.cacheMessageType===G.GET_MSG_REQUEST);const Ee=new I;Ee.addField(A.UINT32,U.cacheMessageType),Ee.addField(A.UINT32,q.VERSION),Ee.addField(A.STRING,U.topic.getName()),Ee.addField(A.UINT32,q.REPLY_SIZE_LIMIT),"number"==typeof W&&Ee.addField(A.UINT32,W),Ee.addField(A.UINT32,this._properties.maxMessages),Ee.addField(A.UINT32,this._properties.maxAgeSec),U.cacheMessageType===G.GET_MSG_REQUEST&&Ee.addField(A.BOOL,this._properties.includeOtherClusters&&!le),Ee.addField(A.BOOL,!1),U.cacheMessageType===G.GET_MSG_REQUEST&&Ee.addField(A.UINT32,Math.round(this._properties.timeoutMsec/1e3)),Me.setSdtContainer(D.create(A.STREAM,Ee));try{this._session.send(Me),U.parentRequest||this._incStat(m.CACHE_REQUEST_SENT)}catch(ye){w(`Failed to send request: ${ye.message}`),this._terminateRequest(U,te.FAIL,Z.ERROR_RESPONSE,ye)}}_incStat(U,W){this._session&&(this._sessionIF?this._sessionIF.incStat(U,W):w("Can't log stat: session statistics not available"))}_unregisterRequest(U){delete this._outstandingRequests[U.correlationID],delete this._outstandingIDs[U.requestID]}_trackCompletionStats(U,W){switch(U){case te.OK:this._incStat(m.CACHE_REQUEST_OK_RESPONSE),W===Z.LIVE_DATA_FULFILL&&this._incStat(m.CACHE_REQUEST_LIVE_DATA_FULFILL);break;case te.INCOMPLETE:this._incStat(m.CACHE_REQUEST_INCOMPLETE_RESPONSE);break;case te.FAIL:this._incStat(m.CACHE_REQUEST_FAIL_RESPONSE);break;default:throw new Error("Sanity: no return code supplied")}}_terminateRequest(U,W,se,le){const Me=U.getRootRequest();if(!this._outstandingRequests[Me.correlationID])return;const Ee=Me.cbInfo;if(!Ee)return void C(`No callback info provided for ${Me}. Cannot notify`);if(!Ee.getCallback())return void C(`No callback provided for ${Me}. Cannot notify`);const ye=Me.getTopic();ye||C(`No topic provided for ${Me}`),Me.queuedLiveData.forEach(ue=>this._sendToNextDelegate(ue)),Me.cancel(),this._unregisterRequest(Me),Me.liveDataFulfilled||(this._trackCompletionStats(W,se),T._notifyCallback(Me,W,se,ye,le))}static _decodeMessageStream(U,W){if(!W.messageStream)return[];const se=[],le=U;for(;W.messageStream.hasNext();){le.dataReceived=!0;const Me=W.messageStream.getNext().getValue(),Ee=f.Codec.Decode.decodeCompoundMessage(Me,0);Ee&&(Ee._setCacheStatus(W.isSuspect?h.MessageCacheStatus.SUSPECT:h.MessageCacheStatus.CACHED),Ee._setCacheRequestID(le.requestID),se.push(Ee))}return se}static _handleCacheRequestTimeout(U){const W=U.cacheSession;W._getOutstandingRequest(U.correlationID)?(w(`Request ${U} timed out`),W._terminateRequest(U.getRootRequest(),te.INCOMPLETE,Z.REQUEST_TIMEOUT)):w(`Timeout for ${U} was not unregistered. Ignoring`)}static _notifyCallback(U,W,se,le,Me){const Ee=U.cbInfo;Ee.getCallback()(U.requestID,new H(W,se,le,Me),Ee.getUserObject())}static _notifyCallbackError(U,W,se,le,Me,Ee){U.getCallback()(W,new H(se,le,Me,Ee),U.getUserObject())}static _validateProps(U){if("string"!=typeof U.cacheName)throw new p("Invalid parameter type for cacheName",b.PARAMETER_INVALID_TYPE);if(ie.createFromName(U.cacheName).isWildcarded())throw new p(`Invalid cacheName '${U.cacheName}'. The cacheName cannot be wildcarded`,b.PARAMETER_OUT_OF_RANGE);if("number"!=typeof U.maxAgeSec)throw new p("Invalid parameter type for maxAgeSec",b.PARAMETER_INVALID_TYPE);if(U.maxAgeSec<0)throw new p("Invalid value for maxAgeSec; must be >= 0",b.PARAMETER_OUT_OF_RANGE);if("number"!=typeof U.maxMessages)throw new p("Invalid parameter type for maxMessages",b.PARAMETER_INVALID_TYPE);if(U.maxMessages<0)throw new p("Invalid value for maxMessages; must be >= 0",b.PARAMETER_OUT_OF_RANGE);if("number"!=typeof U.timeoutMsec)throw new p("Invalid parameter type for timeoutMsec",b.PARAMETER_INVALID_TYPE);if(U.timeoutMsec<3e3)throw new p("Invalid value for timeoutMsec; must be >= 3000",b.PARAMETER_OUT_OF_RANGE)}}E.exports.CacheSession=T},6818:(E,B,c)=>{const{Stats:h}=c(7533),{StatsByMode:_}=c(7466),{StatType:f}=c(4266);E.exports={Stats:h,StatType:f,StatsByMode:_}},7466:(E,B,c)=>{const{StatType:h}=c(4266);E.exports={StatsByMode:{STAT_TX_BYMODE_MSGS:[h.TX_DIRECT_MSGS,h.TX_PERSISTENT_MSGS,h.TX_NONPERSISTENT_MSGS],STAT_TX_BYMODE_BYTES:[h.TX_DIRECT_BYTES,h.TX_PERSISTENT_BYTES,h.TX_NONPERSISTENT_BYTES],STAT_TX_BYMODE_REDELIVERED:[h.TX_DIRECT_MSGS,h.TX_PERSISTENT_REDELIVERED,h.TX_NONPERSISTENT_REDELIVERED],STAT_TX_BYMODE_BYTES_REDELIVERED:[h.TX_DIRECT_BYTES,h.TX_PERSISTENT_BYTES_REDELIVERED,h.TX_NONPERSISTENT_BYTES_REDELIVERED],STAT_RX_BYMODE_MSGS:[h.RX_DIRECT_MSGS,h.RX_PERSISTENT_MSGS,h.RX_NONPERSISTENT_MSGS],STAT_RX_BYMODE_BYTES:[h.RX_DIRECT_BYTES,h.RX_PERSISTENT_BYTES,h.RX_NONPERSISTENT_BYTES]}}},4266:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.StatType=h.new({TX_TOTAL_DATA_BYTES:0,TX_TOTAL_DATA_MSGS:1,TX_DIRECT_BYTES:2,TX_DIRECT_MSGS:3,TX_CONTROL_BYTES:4,TX_CONTROL_MSGS:5,TX_REQUEST_SENT:6,TX_REQUEST_TIMEOUT:7,RX_TOTAL_DATA_BYTES:8,RX_TOTAL_DATA_MSGS:9,RX_DIRECT_BYTES:10,RX_DIRECT_MSGS:11,RX_CONTROL_BYTES:12,RX_CONTROL_MSGS:13,RX_DISCARD_MSG_INDICATION:14,RX_REPLY_MSG_RECVED:15,RX_REPLY_MSG_DISCARD:16,RX_DISCARD_SMF_UNKNOWN_ELEMENT:17,CACHE_REQUEST_SENT:18,CACHE_REQUEST_OK_RESPONSE:19,CACHE_REQUEST_FAIL_RESPONSE:20,CACHE_REQUEST_FULFILL_DISCARD_RESPONSE:21,RX_CACHE_MSG:22,CACHE_REQUEST_INCOMPLETE_RESPONSE:23,CACHE_REQUEST_LIVE_DATA_FULFILL:24,TX_PERSISTENT_BYTES:25,TX_PERSISTENT_MSGS:26,TX_NONPERSISTENT_BYTES:27,TX_NONPERSISTENT_MSGS:28,TX_PERSISTENT_BYTES_REDELIVERED:29,TX_PERSISTENT_REDELIVERED:30,TX_NONPERSISTENT_BYTES_REDELIVERED:31,TX_NONPERSISTENT_REDELIVERED:32,TX_ACKS_RXED:33,TX_WINDOW_CLOSE:34,TX_ACK_TIMEOUT:35,RX_PERSISTENT_BYTES:36,RX_PERSISTENT_MSGS:37,RX_NONPERSISTENT_BYTES:38,RX_NONPERSISTENT_MSGS:39,RX_ACKED:40,RX_DISCARD_DUPLICATE:41,RX_DISCARD_NO_MATCHING_CONSUMER:42,RX_DISCARD_OUT_OF_ORDER:43})},7533:(E,B,c)=>{const{EventEmitter:h}=c(7758),{StatType:_}=c(4266);E.exports.Stats=class extends h{constructor(f){super(),this._parent=f,this._statsMap=[],_.values.forEach(m=>{this._statsMap[m]=0})}resetStats(){this.emit("reset"),this._statsMap=this._statsMap.map(()=>0)}incStat(f,m=1){this._statsMap[f]+=m,this._parent&&this._parent.incStat(f,m)}getStat(f){return this._statsMap[f]}}},3147:(E,B,c)=>{const{SMFClient:h}=c(3742),{TransportCapabilities:_}=c(3670),{TransportError:f}=c(1663),{TransportFactory:m}=c(6436),{TransportProtocol:b}=c(4080),{TransportReturnCode:p}=c(4882),{TransportSessionEventCode:v}=c(9045),{TransportSessionStates:g}=c(9385);E.exports.SMFClient=h,E.exports.TransportCapabilities=_,E.exports.TransportError=f,E.exports.TransportFactory=m,E.exports.TransportProtocol=b,E.exports.TransportReturnCode=p,E.exports.TransportSessionEventCode=v,E.exports.TransportSessionStates=g},864:E=>{class B{constructor(h,_,f){this.reset(),this._rxSmfCB=h,this._rxMessageErrorCB=_,this._session=f}reset(){this._correlationCounter=0}nextCorrelationTag(){return++this._correlationCounter>=B.SMF_MAX_CORRELATION&&(this._correlationCounter=1),this._correlationCounter}}B.SMF_MAX_CORRELATION=16777215,E.exports.BaseSMFClient=B},6700:(E,B,c)=>{const h=c(8764).Buffer;function _(b,p,v){const g=h.allocUnsafe(v);let w,C=0;const D=b[0];for(C+=D.copy(g,0,p,D.length),w=1;w<b.length&&C<v;w++){const A=b[w];C+=A.copy(g,C,0,A.length)}return g}function f(b,p,v){let g=p,w=v;const C=[];let D=0;for(D=0;D<4;D++){for(;b[g].length<=w;)if(w-=b[g].length,g++,g>=b.length)return null;C[D]=b[g].readUInt8(w),w++}return(C[0]<<24)+(C[1]<<16)+(C[2]<<8)+C[3]}class m{constructor(p){let v=[];const g=p;let w=0,C=0;this.peekView=function(D){const A=[];return v.length<1||D>w?null:(v[0].length>=D+C?(A[0]=v[0],A[1]=C):(A[0]=_(v,C,D),A[1]=0),A)},this.readUInt8=function(D){if(D>=w)return null;const A=D+C;if(A<v[0].length)return v[0].readUInt8(A);let I=v[0].length,S=1;for(;I+v[S].length<=A;)I+=v[S].length,S++;return v[S].readUInt8(A-I)},this.readUInt32BE=function(D){if(D+3>=w)return null;const A=D+C;if(A+3<v[0].length)return v[0].readUInt32BE(A);if(A<v[0].length)return f(v,0,A);let I=v[0].length,S=1;for(;I+v[S].length<=A;)I+=v[S].length,S++;return A-I+3<v[S].length?v[S].readUInt32BE(A-I):f(v,S,A-I)},this.put=function(D){const A=m.adaptData(D),I=A.length;return 0===I||!(w+I>=g)&&(v.push(A),w+=I,!0)},this.advance=function(D){if(D<1)return;if(D>=w)return void this.reset();let A=0;for(;A<D;){if(!(v[0].length-C<=D-A)){C+=D-A,w-=D-A;break}{const I=v[0].length-C;v.shift(),A+=I,w-=I,C=0}}},this.reset=function(){v=[],w=0,C=0},this.remaining=function(){return w},this.isEmpty=function(){return 0===w}}static adaptData(p){return p instanceof h?p:h.from(p)}}E.exports.BufferQueue=m,E.exports.concatFrom=_},8281:(E,B,c)=>{const h=c(1880),_=c(7291),{BaseSMFClient:f}=c(864),{BufferQueue:m}=c(6700),{Convert:b,Hex:p}=c(840),{LogFormatter:v}=c(390),g=c(8764).Buffer,{stringToUint8Array:w}=b,{formatHexString:C}=p,{LOG_ERROR:D}=new v("[buffer-smf-client]");function A(I){const S=I.peekView(Math.min(I.remaining(),64));D(`First 64 bytes (or fewer) of incoming buffer: \n${h.Debug.formatDumpBytes(S[0].toString("latin1",S[1]),!0,0)}`)}E.exports.M=class extends f{constructor(I,S,M){super(I,S,M),this._incomingBuffer=new m(8e7)}reset(){super.reset(),this._incomingBuffer&&this._incomingBuffer.reset()}rxDataString(I){this._rxDataCB(g.from(w(I)))}rxDataArrayBuffer(I){this._rxDataCB(g.from(I))}rxDataBuffer(I){this._rxDataCB(I)}_rxDataCB(I){this._session&&this._session.resetKeepAliveCounter();const S=this._incomingBuffer,M=S.put(I);let F=S.remaining();for(M||(A(S),this._rxMessageErrorCB(`Buffer overflow (length: ${F})`),this._incomingBuffer.reset());F>12;){const N=7&S.readUInt8(0);if(3!==N)return D(`Invalid smf version in smf header, version=${N}`),D("BufferSMFClient._rxDataCB(): couldn't decode message due to invalid smf header"),A(S),this._incomingBuffer.reset(),void this._rxMessageErrorCB("Error parsing incoming SMF - invalid SMF header detected");const q=S.readUInt32BE(8);if(q>S.remaining())break;const H=S.peekView(q),G=_.Codec.Decode.decodeCompoundMessage(H[0],H[1]);if(!G||!G.smfHeader){const te=this._session?this._session._sessionId:null,Z=te?C(te):"N/A";return D(`BufferSMFClient._rxDataCB(): couldn't decode message (sessionId=${Z})`),A(S),this._incomingBuffer.reset(),void this._rxMessageErrorCB("Error parsing incoming SMF")}S.advance(G.smfHeader.messageLength),this._rxSmfCB(G),F=S.remaining()}F||this._incomingBuffer.reset()}}},3742:(E,B,c)=>{const{BaseSMFClient:h}=c(864),_=("undefined"==typeof navigator||-1===navigator.appVersion.indexOf("MSIE 9.")&&navigator.appVersion.indexOf("Trident/"),c(8281).M);_.SMF_CLIENTCTRL_LOGIN_FAKE_CORRELATIONTAG=h.SMF_MAX_CORRELATION,E.exports.SMFClient=_},2422:(E,B,c)=>{const{ErrorSubcode:h,OperationError:_}=c(3870),{TransportReturnCode:f}=c(4882);class m{constructor(p,v,g,w,C=null){this._url=p,this._ssl=m.useSsl(p),this._client=g,this._eventCB=v,this._props=w,this.setInterceptor(C)}connect(){return f.OK}destroy(p,v,g){return f.OK}flush(p){return p(),f.OK}send(p,v=!1){return f.OK}getTransportProtocol(){return this._props.transportProtocol}getInfoStr(){return null}getClientStats(){return null}beginDowngrade(p,v){return!1}setInterceptor(p){this._interceptor&&this._interceptor.removed&&this._interceptor.removed(this),this._interceptor=p,p&&p.installed&&p.installed(this)}toString(){return`${this.getTransportProtocol()}${this._ssl?" (SSL)":""}`}static useSsl(p){const v=(p||"").split("://");if(0===v.length||m.validSchemes.indexOf(v[0])<0)throw new _(`Invalid url "${p}": Only [${m.validSchemes.join(", ")}] URL schemes are supported`,h.PARAMETER_OUT_OF_RANGE);return"https"===v[0]||"wss"===v[0]||"tcps"===v[0]}}m.validSchemes=["http","https","ws","wss","tcp","tcps"],E.exports.TransportBase=m},3670:(E,B,c)=>{const{WebTransportCapabilities:h}=c(2395);E.exports.TransportCapabilities={web:h}},4581:E=>{E.exports.TransportClientStats=class{constructor(){this.bytesWritten=0,this.msgWritten=0}}},1663:(E,B,c)=>{const{SolaceError:h}=c(3870);E.exports.TransportError=class extends h{constructor(_,f){super("TransportError",_),this.subcode=f}toString(){return`${super.toString()}, subcode=${this.subcode}`}}},6436:(E,B,c)=>{c(390);const{TcpRawTransport:_,CompressedTransport:f,TlsOnlyTransport:m,TcpTlsTransport:b}={},{WebTransport:p}=c(2395);E.exports.TransportFactory={createTransport(g,w,C,D,A){const I=g;if(Object.assign(D,{connectTimeoutInMsecs:1e5}),_&&I.trim().startsWith("tcp")){if(!I.trim().startsWith("tcps")){if(0===D.compressionLevel)return new _(I,w,C,D);const F=new f(w,C,D),N=new _(I,F.eventCB.bind(F),F,D);return F.setClientStats(N.getClientStats()),N.setClientStats(null),F.setUnderlyingTransport(N),F}if("PLAIN_TEXT"!==D.sslConnectionDowngradeTo)return new b(I,w,C,D);const S=new m(I,w,C,D),M=new _(I,S.eventCB.bind(S),S,D);return S.setClientStats(M.getClientStats()),M.setClientStats(null),S.setUnderlyingTransport(M),S}return new p(I,w,C,D,A)},startCompression(g){const A=new f(g._eventCB,g._client,g._props);return g.rehome(A.eventCB.bind(A),A),A.setClientStats(g.getClientStats()),g.setClientStats(null),A.setUnderlyingTransport(g),A.connect(),A},severTls(g,w,C){g.tlsShutdown(w?A=>C(this.startCompression(A)):C)}}},1175:(E,B,c)=>{const h=c(2395),{Lazy:_}=c(9359),{TransportBase:m}=(c(390),c(2422)),{TransportProtocol:b}=c(4080),{lazyValue:p}=_,v=p(()=>({[b.HTTP_BASE64]:h.StateBase64,[b.HTTP_BINARY]:h.StateBinary,[b.HTTP_BINARY_STREAMING]:h.StateStreamingAndBinary,[b.WS_BINARY]:h.StateWebSocketBinary}));E.exports.TransportProtocolHandler=class{constructor(g,w){const C=m.useSsl(g);let D=null,A=null;w.slice().reverse().forEach(I=>{D=new(0,v.value[I])(C,this.switchState.bind(this),A),A=D}),this._transport=D,this._transport.onEnter()}getTransportProtocol(){return this._transport.getTransportProtocol()}completeDowngrade(g){return this._transport.completeDowngrade(g)}canCompleteDowngrade(){return null!==this._transport.getNextState()}toString(){return this._transport.toString()}switchState(g,w){this._transport=g,g.onEnter()}}},4080:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.TransportProtocol=h.new({HTTP_BASE64:"HTTP_BASE64",HTTP_BINARY:"HTTP_BINARY",HTTP_BINARY_STREAMING:"HTTP_BINARY_STREAMING",WS_BINARY:"WS_BINARY"})},4882:(E,B,c)=>{const{Enum:h}=c(9359),_={OK:0,FAIL:1,NO_SPACE:2,DATA_DECODE_ERROR:3,INVALID_STATE_FOR_OPERATION:4,CONNECTION_ERROR:5};E.exports.TransportReturnCode=h.new(_),E.exports.TransportReturnCode._setCanonical({OK:_.OK,FAIL:_.FAIL,NO_SPACE:_.NO_SPACE,DATA_DECODE_ERROR:_.DATA_DECODE_ERROR,INVALID_STATE_FOR_OPERATION:_.INVALID_STATE_FOR_OPERATION,CONNECTION_ERROR:_.CONNECTION_ERROR})},9045:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.TransportSessionEventCode=h.new({UP_NOTICE:1,DESTROYED_NOTICE:2,CAN_ACCEPT_DATA:4,DATA_DECODE_ERROR:5,PARSE_FAILURE:6,CONNECT_TIMEOUT:7,SEND_ERROR:8,DOWNGRADE_FAILED:10,DOWNGRADE_SUCCEEDED:11})},414:(E,B,c)=>{var h=c(9489);const{ErrorSubcode:_}=c(3870),{Hex:f}=c(840),{TransportSessionEventCode:m}=c(9045),{formatHexString:b}=f;E.exports.TransportSessionEvent=class{constructor(p,v,g,w,C){this._transportEventCode=p,this._infoStr=v,this._responseCode=g,this._errorSubcode=w,this._sid=C}getTransportEventCode(){return this._transportEventCode}get transportEventCode(){return this._transportEventCode}getInfoStr(){return this.infoStr}get infoStr(){return this._infoStr}getResponseCode(){return this.responseCode}get responseCode(){return this._responseCode}getSubcode(){return this.errorSubcode}get errorSubcode(){return this._errorSubcode}getSessionId(){return this.sessionId}get sessionId(){return this._sid}inspect(){return{transportEventCode:m.describe(this.transportEventCode),infoStr:this.infoStr,responseCode:this.responseCode,errorSubcode:_.describe(this.errorSubcode),sid:this.sid&&b(this.sid)||"N/A"}}toString(){return h(this)}}},9385:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.TransportSessionState=h.new({DOWN:0,WAITING_FOR_CREATE:1,SESSION_UP:2,WAITING_FOR_DESTROY:4,CONNECTION_FAILED:5})},4295:(E,B,c)=>{const{LOG_INFO:h,LOG_WARN:_}=c(390),{Process:f}=c(7882);E.exports.TSHState=class{constructor(m,b,p,v){this._ssl=!!m,this._transportProtocol=b,this._exitCallback=p,this._nextState=v,this._unsupportedRuntimeMessage=`${this._transportProtocol} not supported by this runtime: ${f.userAgent}`}getNextState(){return this._nextState}setNextState(m){this._nextState=m}getTransportProtocol(){return this._transportProtocol}getUseSsl(){return this._ssl}validateLegal(){return!0}onEnter(){this.validateLegal()||(this._nextState&&this._exitCallback?this._exitCallback(this._nextState,this._unsupportedRuntimeMessage):_(`${this._unsupportedRuntimeMessage}, no next state.`))}completeDowngrade(m){return this._nextState&&this._exitCallback?(h(`Connect failed (${m}), try next state.`),this._exitCallback(this._nextState,"Connect failed"),!0):(_(`Connect failed (${m}), no next state.`),!1)}toString(){return this._transportProtocol+(this._ssl?" (SSL)":"")}}},2395:(E,B,c)=>{const h=c(3124),{StateBase64:_}=c(7538),{StateBinary:f}=c(6959),{StateStreamingAndBinary:m}=c(9929),{StateWebSocketBinary:b}=c(1022),{WebTransport:p}=c(5372),{WebTransportCapabilities:v}=c(7483),{HTTPConnection:g,HTTPTransportSession:w}=h;E.exports.HTTPConnection=g,E.exports.HTTPTransportSession=w,E.exports.StateBase64=_,E.exports.StateBinary=f,E.exports.StateStreamingAndBinary=m,E.exports.StateWebSocketBinary=b,E.exports.WebTransport=p,E.exports.WebTransportCapabilities=v},3124:(E,B,c)=>{const{HTTPConnection:h}=c(2949),{HTTPTransportSession:_}=c(3240);E.exports.HTTPConnection=h,E.exports.HTTPTransportSession=_},2949:(E,B,c)=>{const h=c(1880),{Convert:_,Base64:f}=c(840),{LOG_INFO:b,LOG_ERROR:v}=c(390),{sendXhrBinary:g,sendXhrText:w}=c(8186),{StringBuffer:C,TimingBucket:D}=c(7882),{TransportReturnCode:A}=c(4882),{XHRFactory:I}=c(6145),{arrayBufferToString:S}=_;class F{constructor(){this.WaitedToken=new D("WaitedToken",100),this.HadToken=new D("HadToken",100),this.ReturnedToken=new D("ReturnedToken",100)}toString(){let H="";return[this.WaitedToken,this.HadToken,this.ReturnedToken].forEach(G=>{G&&G.bucketCount()>0&&(H+=`${G.name} >> ${G}\n`)}),H}}class N{constructor(H,G,te,Z,j,Q,V){var q;this.Options={url:(q=H,!q.match(/^(http|ws)(s?):/i)&&window.location&&window.location.origin?window.location.origin+("/"!==q.charAt(0)?"/":"")+q:q),contentType:Q,base64Enc:G,streamProgressEvents:te,connectionClose:V},this._streamProgressBytes=0,this._xhr=null,this._rxDataCb=Z,this._connErrorCb=j,this._reqActive=!1,this._REQCOUNTER=0,this._REQBASE=Math.floor(1e3*Math.random()),this._xhr=I.create(),this._handleAbortedReq=!N.browserSupportsXhrBinary(),this.stats=new F}recStat(H){}send(H,G=0,te=1){G>0&&(this._xhr.abort(),this._xhr=I.create()),this._xhr.open("POST",this.Options.url,!0),this._streamProgressBytes=0,this._xhr.onreadystatechange=()=>this.xhrStateChange(H,G,te),this._reqActive=!0,this.Options.base64Enc?w(this._xhr,H,this.Options.contentType,this.Options.connectionClose):g(this._xhr,H,this.Options.contentType,this.Options.connectionClose),this.recStat("SendMsg")}xhrStateChange(H,G,te){const Z=this._xhr.readyState,j=this._xhr.LOADING,Q=this._xhr.DONE;if(!(this.Options.streamProgressEvents&&Z===j||Z===Q)||!this._reqActive)return;let V=null;if(this._handleAbortedReq)try{V=this._xhr.status}catch(se){return void b(`Error trying to access status in XHR due to request aborted: ${se.message}`)}else V=this._xhr.status;if(200===V||304===V){let se=null;if(se=this._xhr.responseType&&"arraybuffer"===this._xhr.responseType?S(this._xhr.response):this._xhr.responseText,se=se.substring(this._streamProgressBytes,se.length),this._streamProgressBytes+=se.length,0===se.length&&Z===j)return;if(this.Options.base64Enc)try{se=f.decode(se)}catch(le){return v(`Data decode error on: ${se}`),v(`Data decode error is: ${le.message}`),void this._rxDataCb(A.DATA_DECODE_ERROR,se)}else{const le=[],Me=se.length;for(let Ee=0;Ee<Me;Ee++)le.push(String.fromCharCode(255&se.charCodeAt(Ee)));se=le.join("")}return Z===Q&&(this._reqActive=!1),this._rxDataCb(A.OK,se),void(Z===Q&&se.length>0&&this._rxDataCb(A.OK,""))}const ie=this._xhr.statusText;let z="";z=this._xhr.responseType&&"arraybuffer"===this._xhr.responseType?S(this._xhr.response):this._xhr.responseText||"";const ne=z.length,T=H?H.length:0,{formatDumpBytes:$}=h.Debug,U=$(z.substr(0,Math.min(ne,64)),!0,0);$((H||"").substr(0,Math.min(T,256)),!0,0);const W=te;this._reqActive&&400!==V&&0===z.length&&(0===G||G<W)?(b(`XHR failed while request active, will retry send, retry=${G+1}`),this.send(H,G+1,W)):(this._reqActive=!1,this._connErrorCb(V,new C(`HTTP request failed(status=${V} statusText=${ie}, `,`responseText length=${ne}, responseText[0..64]=\n`,U,`XHR errorCode=${this._xhr._error?this._xhr._error.code:""})`).toString()))}isUsingBase64(){return this.Options.base64Enc}abort(){this._reqActive=!1,this._xhr&&this._xhr.abort&&this._xhr.abort()}static browserSupportsXhrBinary(){return g!==w}static browserSupportsStreamingResponse(){const H=I.create(),G=H&&null===H.onprogress;return b(`http browserStreamingCheck - if XMLHTTPRequest supported and XMLHTTPRequest support onprogress: ${G}`),G}}E.exports.HTTPConnection=N},3240:(E,B,c)=>{const h=c(1880),_=c(7291),{Check:f}=c(2201),{Convert:m,Hex:b}=c(840),{ErrorSubcode:p,OperationError:v}=c(3870),{HTTPConnection:g}=c(2949),{LogFormatter:w}=c(390),{SMFClient:C}=c(3742),{TransportError:D}=c(1663),{TransportProtocol:A}=c(4080),{TransportReturnCode:I}=c(4882),{TransportSessionEvent:S}=c(414),{TransportSessionEventCode:M}=c(9045),{TransportSessionState:F}=c(9385),{WebTransportSessionBase:N}=c(5677),{int32ToStr:q,strToByteArray:H,strToHexArray:G}=m,{formatHexString:te}=b,{LOG_ERROR:Q,LOG_INFO:V}=new w("[http-transport-session]"),ie=c(8764).Buffer;E.exports.HTTPTransportSession=class extends N{constructor(z,ne,T,$){if(super(z,ne,T,$),this._haveToken=!0,this._confMaxWebPayload=$.maxWebPayload,this._maxPayloadBytes=0,this._destroyTimer=null,this._destroyTimeout=$.connectTimeoutInMsecs,this._createUrl=`http${z.match(/(ws|http)(s?:\/\/.+)/)[2]}`,this._routerUrl=this._createUrl,this._rxChannelClient=null,this._httpSendConn=null,this._httpReceiveConn=null,this._smfDataTokenTSHeader=null,this._routerTag="",this._sid=null,null==$.transportProtocol)throw new v("transportProtocol is not set",p.PARAMETER_OUT_OF_RANGE);this._transportProtocol=$.transportProtocol,this._useBinaryTransport=!1,this._useStreamingTransport=!1,this._streamingTransportPadding=0,this._useBinaryTransport=$.transportProtocol!==A.HTTP_BASE64,this._useStreamingTransport=$.transportProtocol===A.HTTP_BINARY_STREAMING,this._incomingBuffer="",this._packetReadState=0;const U=navigator.userAgent||"";if((U.match(/trident/i)||U.match(/msie/i))&&(this._streamingTransportPadding=257),null==$.transportContentType)throw new v("transportContentType is not set",p.PARAMETER_OUT_OF_RANGE);this._contentType=$.transportContentType}connectTimerExpiry(){V("HTTP transport connect timeout"),this.destroyCleanup("HTTP transport connect timeout",p.TIMEOUT)}get sessionIdHex(){return this._sid?te(this._sid):""}updateMaxWebPayload(){const z=this._confMaxWebPayload-22;this._maxPayloadBytes=this._useBinaryTransport?z:Math.floor(.75*z)}connect(){return this._state!==F.DOWN?I.INVALID_STATE_FOR_OPERATION:this.connectInternal()}connectInternal(){this._connError=null;try{this._createConn=new g(this._createUrl,!this._useBinaryTransport,!1,(ne,T)=>this.handleCreateResponse(ne,T),(ne,T)=>this.handleCreateConnFailure(ne,T),this._contentType)}catch(ne){return V(`Failed to create connection to router: ${ne.message}`),this._connError=ne,I.CONNECTION_ERROR}if(f.nothing(this._createConn))return V("Failed to create connection to router"),I.CONNECTION_ERROR;const z=_.Codec.Transport.genTsCreateHeader();this._state===F.WAITING_FOR_CREATE||(this.createConnectTimeout(),this._state=F.WAITING_FOR_CREATE);try{this._createConn.send(z)}catch(ne){return V(`Error connecting: ${ne.message}`),this._state=F.CONNECTION_FAILED,this.cancelConnectTimeout(),this._connError=ne instanceof D?ne:new D(`Could not create HTTP transport session: ${ne.message}`,ne.subcode||p.CONNECTION_ERROR),I.CONNECTION_ERROR}return I.OK}destroy(z,ne){if(this._state===F.WAITING_FOR_DESTROY||this._state===F.DOWN)return I.OK;if(this._state===F.CONNECTION_FAILED||this._state===F.WAITING_FOR_CREATE)return V("The connection is in unreliable state, close transport"),this.destroyCleanup(z,ne,!0),I.OK;V("Destroy transport session immediately"),this._state=F.WAITING_FOR_DESTROY,null!==this._httpSendConn&&(V("Destroy transport session: abort sendConn"),this._httpSendConn.abort()),null!==this._httpReceiveConn&&(V("Destroy transport session: abort receiveConn"),this._httpReceiveConn.abort()),this._destroyTimer=setTimeout(()=>{this.destroyTimerExpiry()},this._destroyTimeout),this._httpSendConn=new g(this._routerUrl,!this._useBinaryTransport,!1,($,U)=>this.handleRxDataToken($,U),($,U)=>this.handleSendFailure($,U),this._contentType,!0);const T=_.Codec.Transport.genTsDestroyHeader(this._sid);return G(T),this._httpSendConn.send(T),I.OK}send(z,ne=!1){let T=z;if(this._state!==F.SESSION_UP)return I.INVALID_STATE_FOR_OPERATION;if(this._queuedData.length>0||!this._haveToken)return this.enqueueData(T,ne);let $=null;return T.length>this._maxPayloadBytes&&($=T.substr(this._maxPayloadBytes),T=T.substr(0,this._maxPayloadBytes),!this.allowEnqueue($.length))?this.enqueueFailNoSpace():(this._haveToken=!1,this._httpSendConn.send(this._smfDataTSHeaderParts[0]+q(this._smfDataTSHeaderParts[0].length+4+this._smfDataTSHeaderParts[1].length+T.length)+this._smfDataTSHeaderParts[1]+T),this._clientstats.bytesWritten+=T.length,$?this.enqueueData($,null):(this._clientstats.msgWritten++,I.OK))}enqueueData(z,ne=!1){const T=z.length;return ne||this.allowEnqueue(T)?(this._queuedDataSize+=T,this._queuedData.push(z),I.OK):this.enqueueFailNoSpace()}initPreformattedHeaders(z){this._smfDataTSHeaderParts=_.Codec.Transport.genTsDataMsgHeaderParts(z),this._smfDataTokenTSHeader=this._useStreamingTransport?_.Codec.Transport.genTsDataStreamTokenMsg(z,this._streamingTransportPadding):_.Codec.Transport.genTsDataTokenMsg(z)}flush(z){this._queuedDataSize?this._flushCallback=z:z()}sendQueuedData(){if(0===this._queuedDataSize)return;this._haveToken=!1;const z=this.getQueuedDataToSend();if(this._httpSendConn.send(this._smfDataTSHeaderParts[0]+q(this._smfDataTSHeaderParts[0].length+4+this._smfDataTSHeaderParts[1].length+z.length)+this._smfDataTSHeaderParts[1]+z),this._clientstats.bytesWritten+=z.length,this._canSendNeeded&&(this._canSendNeeded=!1,this._eventCB(new S(M.CAN_ACCEPT_DATA,"",null,0,this._sid))),this._flushCallback){const T=this._flushCallback;this._flushCallback=null,T()}}handleCreateResponse(z,ne){if(this._state===F.WAITING_FOR_DESTROY||this._state===F.DOWN)return;if(this.updateMaxWebPayload(),z!==I.OK)return V(`Received create response with return code ${I.describe(z)}`),void(z===I.DATA_DECODE_ERROR?this.destroyCleanup("Received data decode error on create session response",p.DATA_DECODE_ERROR):this.destroyCleanup("Failed to handle create session response",p.CONNECTION_ERROR));if(0===ne.length)return;const T=_.Codec.Decode.decodeCompoundMessage(ie.from(ne,"latin1"),0);if(!T)return Q("Could not parse create response as SMF. Destroying transport"),void this.destroyCleanup("Failed to parse create response message",p.CONNECTION_ERROR);const $=T.getResponse();if(200!==$.responseCode)return void this.destroyCleanup(`Transport create request failed (${$.responseCode}, ${$.responseString})`,p.CONNECTION_ERROR);this.cancelConnectTimeout(),this._createConn.abort(),this._createConn=null,this._state=F.SESSION_UP,this._sid=T.sessionId,this._routerTag=T.routerTag,this._routerUrl=this._createUrl.replace(/\?.*/,""),""!==this._routerTag&&(this._routerUrl=this._routerUrl+this._routerTag),this.initPreformattedHeaders(this._sid);const U=!this._useBinaryTransport,W=this._useStreamingTransport;this._httpSendConn=new g(this._routerUrl,U,!1,(se,le)=>this.handleRxDataToken(se,le),(se,le)=>this.handleSendFailure(se,le),this._contentType),this._useStreamingTransport?this._httpReceiveConn=new g(this._routerUrl,U,W,(se,le)=>this.handleRxStreaming(se,le),(se,le)=>this.handleSendFailure(se,le),this._contentType,!0):(this._rxChannelClient=new C(se=>this.handleSmfMessage(se),se=>this.handleSmfParseError(se),null),this._httpReceiveConn=new g(this._routerUrl,U,W,(se,le)=>this.handleRxData(se,le),(se,le)=>this.handleSendFailure(se,le),this._contentType)),this._httpReceiveConn.send(this._smfDataTokenTSHeader),this._eventCB(new S(M.UP_NOTICE,$.responseString,$.responseCode,0,T.sessionId))}handleDestroyResponse(z){this.cancelDestroyTimeout();const ne=z.getResponse();this.destroyCleanup(`${ne?ne.responseString:""} handled Destroy Response addressed to session ${te(z.sessionId)}, on session ${te(this._sid)}`,0)}handleSmfMessage(z){const ne=z.smfHeader;if(ne.smf_protocol!==_.SMFProtocol.TSESSION)return void this.handleSmfParseError(`Unexpected Message Prototcol (${ne.smf_protocol}) on ReceiveData connection`);const T=z.payload,$=z.payloadLength;switch(z.messageType){case _.SMFTransportSessionMessageType.DESTROY_RESP:return void this.handleDestroyResponse(z);case _.SMFTransportSessionMessageType.DATA:if(z.sessionId!==this._sid){const U=z.getResponse(),W=U?` (${U.responseCode} ${U.responseString})`:"",se=U?U.responseCode:null;return H(this._sid),H(z.sessionId),this._state=F.CONNECTION_FAILED,void this._eventCB(new S(M.PARSE_FAILURE,`Session ID mismatch in data message, expected: ${te(this._sid)}, got: ${te(z.sessionId)}, ${W}`,se,p.PROTOCOL_ERROR,this._sid))}$>0&&this._client.rxDataBuffer(T);break;default:this.handleSmfParseError(`Unexpected message type (${z.messageType}) on ReceiveData connection`)}}handleSmfParseError(){this._eventCB(new S(M.DATA_DECODE_ERROR,"Received data decode error",null,p.DATA_DECODE_ERROR,this._sid))}handleRxData(z,ne){null!==this._httpReceiveConn&&null!==this._rxChannelClient?this._state!==F.WAITING_FOR_DESTROY?(this._httpReceiveConn.recStat("GotData"),z===I.OK?0===ne.length?this._httpReceiveConn.send(this._smfDataTokenTSHeader):this._rxChannelClient.rxDataString(ne):this.handleRxError(z,ne)):h.Debug.formatDumpBytes(ne.substring(0,64),!0,0):this._state===F.DOWN?V("Transport session is down, ignore data from receive connection"):Q(`Transport session is not in working state, state: ${this._state}`)}handleRxStreaming(z,ne){if(null===this._httpReceiveConn)return void(this._state===F.DOWN||Q(`Transport session is not in working state, state: ${this._state}`));if(this._state===F.WAITING_FOR_DESTROY)return void h.Debug.formatDumpBytes(ne.substring(0,64),!0,0);if(this._httpReceiveConn.recStat("GotData"),z!==I.OK)return void this.handleRxError(z,ne);if(0===ne.length)return this._packetReadState=0,void this._httpReceiveConn.send(this._smfDataTokenTSHeader);if(1===this._packetReadState)return void this._client.rxDataString(ne);this._incomingBuffer+=ne;const T=_.Codec.ParseSMF.parseSMFAt(ie.from(this._incomingBuffer,"latin1"),0,!0);if(T){const $=_.Codec.Transport.parseTsSmfHdrAt(ie.from(this._incomingBuffer,"latin1"),T.headerLength,T);if(!$)return;switch($.messageType){case _.SMFTransportSessionMessageType.DESTROY_RESP:return void this.handleDestroyResponse($);case _.SMFTransportSessionMessageType.DATA:if($.sessionId!==this._sid){const U=$.getResponse(),W=U?` (${U.responseCode} ${U.responseString})`:"",se=U?U.responseCode:null;return H(this._sid),H($.sessionId),H(ne.substr(0,64)),this._state=F.CONNECTION_FAILED,void this._eventCB(new S(M.PARSE_FAILURE,`Session ID mismatch in data message, expected: ${te(this._sid)}, got: ${te($.sessionId)}, ${W}`,se,p.PROTOCOL_ERROR,this._sid))}return this._packetReadState=1,this._incomingBuffer.length>T.headerLength+$.tsHeaderLength&&this._client.rxDataString(this._incomingBuffer.substr(T.headerLength+$.tsHeaderLength)),void(this._incomingBuffer="");default:throw new D(`Unexpected message type (${$.messageType}) on ReceiveData connection`,0)}}else if(_.Codec.ParseSMF.isSMFHeaderAvailable(ie.from(this._incomingBuffer,"latin1"),0)&&!_.Codec.ParseSMF.isSMFHeaderValid(ie.from(this._incomingBuffer,"latin1"),0)){Q(`Couldn't decode message due to invalid smf header, dump first 64 bytes (or fewer) of buffer content:\n${h.Debug.formatDumpBytes(this._incomingBuffer.substring(0,64),!0,0)}`);const $="Error parsing incoming message - invalid SMF header detected";this._state=F.CONNECTION_FAILED,this._eventCB(new S(M.PARSE_FAILURE,$,null,p.PROTOCOL_ERROR,null))}}handleRxDataToken(z,ne){if(z!==I.OK)return void this.handleRxError(z,ne);if(0===ne.length)return;const T=_.Codec.Decode.decodeCompoundMessage(ie.from(ne,"latin1"),0);if(T)if(T.messageType!==_.SMFTransportSessionMessageType.DESTROY_RESP){if(T.sessionId!==this._sid){const $=T.getResponse(),U=$?` (${$.responseCode} ${$.responseString})`:"",W=$?$.responseCode:null;return H(this._sid),H(T.sessionId),H(ne.substr(0,64)),void(this._state!==F.WAITING_FOR_DESTROY?(this._state=F.CONNECTION_FAILED,this._eventCB(new S(M.PARSE_FAILURE,`Session ID mismatch in response message, expected: ${te(this._sid)}, got: ${te(T.sessionId)}, ${U}`,W,p.PROTOCOL_ERROR,this._sid))):this.destroyCleanup("Session ID mismatch in response message",p.PROTOCOL_ERROR))}if(T.messageType!==_.SMFTransportSessionMessageType.DATA_TOKEN&&T.messageType!==_.SMFTransportSessionMessageType.DATA_STREAM_TOKEN)throw new D(`Unexpected message type (${T.messageType}) on SendData connection`,0);this._haveToken=!0,this._httpSendConn.recStat("GotToken"),this.sendQueuedData()}else this.handleDestroyResponse(T);else this._state!==F.WAITING_FOR_DESTROY?(this._state=F.CONNECTION_FAILED,this._eventCB(new S(M.PARSE_FAILURE,"Failed to parse received data message",null,p.PROTOCOL_ERROR,this._sid))):this.destroyCleanup("Failed to parse received data message",p.PROTOCOL_ERROR)}handleRxError(z){V(`handleRxError, transport return code ${I.name(z)}`),this._state=F.CONNECTION_FAILED,this._eventCB(z===I.DATA_DECODE_ERROR?new S(M.DATA_DECODE_ERROR,"Received data decode error",null,p.DATA_DECODE_ERROR,this._sid):new S(M.SEND_ERROR,"Connection error",p.CONNECTION_ERROR,this._sid))}handleSendFailure(z,ne){this._state===F.WAITING_FOR_DESTROY?(V(`Connection destroy failure (${ne}) while in state ${this._state}`),this.destroyCleanup(`Connection destroy failure: ${ne}`,p.CONNECTION_ERROR)):(V(`Connection failure (${ne}) while in state ${this._state}`),this._eventCB(new S(M.SEND_ERROR,`Connection error: ${ne}`,z,p.CONNECTION_ERROR,this._sid)))}handleCreateConnFailure(z,ne){this._state!==F.DOWN&&(V(`Connection create failure (${ne}) while in state ${this._state}`),this.destroyCleanup(`Connection create failure: ${ne}`,p.CONNECTION_ERROR))}destroyTimerExpiry(){this.destroyCleanup("Destroy request timeout",p.CONNECTION_ERROR)}cancelDestroyTimeout(){this._destroyTimer&&(clearTimeout(this._destroyTimer),this._destroyTimer=null)}destroyCleanup(z,ne,T){this._createConn&&this._createConn.abort(),this._httpSendConn&&this._httpSendConn.abort(),this._httpReceiveConn&&this._httpReceiveConn.abort(),this._createUrl=null,this._routerUrl=null,this._createConn=null,this._httpSendConn=null,this._httpReceiveConn=null,this._smfDataTokenTSHeader=null,this._rxChannelClient=null,this._routerTag="",this._queuedData=[],this._queuedDataSize=0,this._canSendNeeded=!1,this.cancelDestroyTimeout(),this.cancelConnectTimeout(),this._state=F.DOWN;const $=()=>{this._eventCB&&this._eventCB(new S(M.DESTROYED_NOTICE,z||"Session is destroyed",null,ne||0,this._sid)),this._client=null,this._eventCB=null};T?setTimeout($,0):$()}getInfoStr(){return`HTTPTransportSession; sid=${te(this._sid)}; routerTag=${this._routerTag}`}}},8186:(E,B,c)=>{const{Base64:h,Convert:_}=c(840),{XHRFactory:f}=c(6145),{encode:m}=h,{stringToUint8Array:b}=_;function g(C,D,A,I){C.setRequestHeader("Content-Type",`${A}; charset=x-user-defined`),C.send(null==D?D:m(D),I)}const w="undefined"!=typeof window&&window.Uint8Array&&window.Blob?f.create(!0).responseType?function p(C,D,A){C.responseType="arraybuffer",C.overrideMimeType(`${A}; charset=x-user-defined`),C.setRequestHeader("Content-Type",`${A}; charset=x-user-defined`),C.send(b(D))}:function v(C,D,A){C.overrideMimeType(`${A}; charset=x-user-defined`),C.setRequestHeader("Content-Type",`${A}; charset=x-user-defined`),C.send(b(D).buffer)}:g;E.exports.sendXhrBinary=w,E.exports.sendXhrText=g},6145:(E,B,c)=>{const{ErrorSubcode:h}=c(3870),{TransportError:_}=c(1663);E.exports.XHRFactory={create(m=!1){const b="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:null;if(!m&&!b)throw new _("Failed to create an XMLHTTPRequest",h.CREATE_XHR_FAILED);return b}}},7538:(E,B,c)=>{const{TransportProtocol:h}=c(4080),{TSHState:_}=c(4295);E.exports.StateBase64=class extends _{constructor(f,m,b){super(f,h.HTTP_BASE64,m,b)}}},6959:(E,B,c)=>{const{TransportProtocol:h}=c(4080),{TSHState:_}=c(4295),{WebTransportCapabilities:f}=c(7483);E.exports.StateBinary=class extends _{constructor(m,b,p){super(m,h.HTTP_BINARY,b,p)}validateLegal(){return f.xhrBinary()}}},9929:(E,B,c)=>{const{TransportProtocol:h}=c(4080),{TSHState:_}=c(4295),{WebTransportCapabilities:f}=c(7483);E.exports.StateStreamingAndBinary=class extends _{constructor(m,b,p){super(m,h.HTTP_BINARY_STREAMING,b,p)}validateLegal(){return f.streaming()&&f.xhrBinary()}}},1022:(E,B,c)=>{const{TransportProtocol:h}=c(4080),{TSHState:_}=c(4295),{WebTransportCapabilities:f}=c(7483);E.exports.StateWebSocketBinary=class extends _{constructor(m,b,p){super(m,h.WS_BINARY,b,p)}validateLegal(){return f.webSocket()}}},7483:(E,B,c)=>{const h=c(3124),{WebSocketTransportSession:_}=c(2519),{HTTPConnection:f}=h;E.exports.WebTransportCapabilities={webSocket:()=>_.browserSupportsBinaryWebSockets(),xhrBinary:()=>f.browserSupportsXhrBinary(),streaming:()=>f.browserSupportsStreamingResponse()}},6671:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.WebTransportEvent=h.new({CONNECT:"Connect",DESTROY:"Destroy",DOWNGRADE:"Downgrade",DESTROYED_NOTICE:"DestroyedNotice",CONNECT_TIMEOUT:"ConnectTimeout",UP_NOTICE:"UpNotice",SEND_ERROR:"SendError"})},4035:(E,B,c)=>{const{ErrorSubcode:h}=c(3870),{FsmEvent:_,State:f,StateMachine:m}=c(8535),{LogFormatter:b}=c(390),{TransportReturnCode:p}=c(4882),{TransportSessionEvent:v}=c(414),{TransportSessionEventCode:g}=c(9045),{WebTransportEvent:w}=c(6671),{WebTransportState:C}=c(7317),{LOG_INFO:A}=new b;E.exports.WebTransportFSM=class extends m{constructor(I,S){super({name:"WebTransportFSM"});const M=I,F=this,N=new b;N.formatter=function(...q){return[`[web-transport-fsm=${S()}]`,...q]},this.log=N.wrap(this.log,this),this.transport=M,this.initial(function(){return this.transitionTo(this.WebTransportDown,q=>{q.getStateMachine().getName()})}),this.unhandledEventReaction(function(q){return q.getName(),this.getCurrentState().getName(),this}),this.WebTransportDown=new f({name:C.DOWN,parentContext:this}).reaction(w.CONNECT,function(){return this.transitionTo(F.WebTransportConnecting)}).reaction(w.DESTROY,function(q){return M.destroyInternal(q._destroyMsg,q._subcode),this.transitionTo(F.WebTransportDestroying)}),this.WebTransportConnecting=new f({name:C.CONNECTING,parentContext:this}).entry(()=>{try{if(M.connectInternal()!==p.OK){const q=M.getConnError(),H=new _({name:w.DESTROY});return H._destroyMsg=q?q.message:"Error occurred while establishing transport",H._subcode=q?q.subcode:null,H._eventReason=q,this.processEvent(H)}}catch(q){A(`transport.connectInternal threw: ${q.message}`);const H=new _({name:w.DESTROY});return H._destroyMsg=q.message,H._subcode=q.subcode?q.subcode:h.CONNECTION_ERROR,H._eventReason=q,this.processEvent(H)}}).reaction(w.SEND_ERROR,q=>(M.notifyEvent(q._transportEvent),F.attemptDowngrade(q._transportEvent))).reaction(w.CONNECT_TIMEOUT,q=>F.attemptDowngrade(q._transportEvent)).reaction(w.DESTROYED_NOTICE,q=>(M.notifyEvent(q._transportEvent),this.transitionTo(F.WebTransportDown))).reaction(w.UP_NOTICE,function(q){return M.notifyEvent(q._transportEvent),this.transitionTo(F.WebTransportUp)}).reaction(w.DESTROY,function(q){return M.destroyInternal(q._destroyMsg,q._subcode),this.transitionTo(F.WebTransportDestroying)}),this.WebTransportDowngrading=new f({name:C.DOWNGRADING,parentContext:this}).reaction(w.DESTROYED_NOTICE,function(q){return A("Web transport: request downgrade"),M.completeDowngrade()?this.transitionTo(F.WebTransportConnecting):(A("Web transport: connection error, no downgrade"),M.notifyEvent(q._transportEvent),F.notifyDowngradeFailed(),this.transitionTo(F.WebTransportDown))}).reaction(w.DESTROY,function(q){return M.destroyInternal(q._destroyMsg,q._subcode),this.transitionTo(F.WebTransportDestroying)}),this.WebTransportUp=new f({name:C.UP,parentContext:this}).reaction(w.DOWNGRADE,q=>F.attemptDowngrade(new v(q._downgradeMsg,q._subcode))).reaction(w.DESTROYED_NOTICE,function(q){return M.notifyEvent(q._transportEvent),this.transitionTo(F.WebTransportDown)}).reaction(w.DESTROY,function(q){return M.destroyInternal(q._destroyMsg,q._subcode),this.transitionTo(F.WebTransportDestroying)}).reaction(w.SEND_ERROR,function(q){return M.notifyEvent(q._transportEvent),M.destroyInternal(q._destroyMsg,q._subcode),this.transitionTo(F.WebTransportDestroying)}),this.WebTransportDestroying=new f({name:C.DESTROYING,parentContext:this}).reaction(w.DESTROYED_NOTICE,function(q){return M.notifyEvent(q._transportEvent),this.transitionTo(F.WebTransportDown)})}attemptDowngrade(I){const{infoStr:S,errorSubcode:M}=I;return this.transport.beginDowngrade(S,M)?this.transitionTo(this.WebTransportDowngrading):(this.transport.destroyInternal(S,M),this.transport.notifyEvent(I),this.transitionTo(this.WebTransportDestroying))}notifyDowngradeFailed(){this.transport.notifyEvent(new v(g.DOWNGRADE_FAILED,"Downgrade failed"))}}},5677:(E,B,c)=>{c(390);const{TransportBase:f}=c(2422),{TransportClientStats:m}=c(4581),{TransportReturnCode:b}=c(4882),{TransportSessionState:p}=c(9385);E.exports.WebTransportSessionBase=class extends f{constructor(v,g,w,C){super(v,g,w,C),this._connectTimeout=C.transportDowngradeTimeoutInMsecs,this._connectTimer=null,this._clientstats=new m,this._sendBufferMaxSize=C.sendBufferMaxSize,this._maxPayloadBytes=C.maxWebPayload,this._queuedData=[],this._queuedDataSize=0,this._canSendNeeded=!1,this._state=p.DOWN,this._connError=null}getClientStats(){return this._clientstats}createConnectTimeout(){this._connectTimeout>0&&(this._connectTimer=setTimeout(()=>{this.connectTimerExpiry()},this._connectTimeout))}cancelConnectTimeout(){this._connectTimer&&(clearTimeout(this._connectTimer),this._connectTimer=null)}connectTimerExpiry(){}allowEnqueue(v){return 0===this._queuedDataSize||v+this._queuedDataSize<=this._sendBufferMaxSize}enqueueFailNoSpace(){return this._canSendNeeded=!0,b.NO_SPACE}flush(v){v()}getQueuedDataToSend(){let v="",g=this._maxPayloadBytes;if(this.getBufferedAmount&&this.getBufferedAmount(),this.getBufferedAmount){if(g=this._maxPayloadBytes-this.getBufferedAmount(),g<=0)return this.getBufferedAmount(),this._bufferedAmountQueryIntervalInMsecs*this._bufferedAmountQueryIntervalDelayMultiplier<=4e3&&(this._bufferedAmountQueryIntervalDelayMultiplier*=2),v;this._bufferedAmountQueryIntervalDelayMultiplier=1}if(this._queuedDataSize>g){let w=g;for(;w&&this._queuedDataSize;){const C=this._queuedData[0],D=C.length;D>w?(v+=C.substr(0,w),this._queuedData[0]=C.substr(w),this._queuedDataSize-=w,w=0):(v+=this._queuedData.shift(),w-=D,this._queuedDataSize-=D,this._clientstats.msgWritten++)}}else v=this._queuedData.join(""),this._clientstats.msgWritten+=this._queuedData.length,this._queuedData=[],this._queuedDataSize=0;return v}}},7317:(E,B,c)=>{const{Enum:h}=c(9359);E.exports.WebTransportState=h.new({DOWN:"WebTransportDown",CONNECTING:"WebTransportConnecting",DOWNGRADING:"WebTransportDowngrading",DESTROYING:"WebTransportDestroying",UP:"WebTransportUp"})},5372:(E,B,c)=>{const{ErrorSubcode:h,OperationError:_}=c(3870),{HTTPTransportSession:f}=c(3124),{LOG_INFO:b,LOG_ERROR:p}=c(390),{FsmEvent:v}=c(8535),{TransportBase:g}=c(2422),{TransportProtocol:w}=c(4080),{TransportProtocolHandler:C}=c(1175),{TransportReturnCode:D}=c(4882),{TransportSessionEventCode:A}=c(9045),{WebSocketTransportSession:I}=c(2519),{WebTransportEvent:S}=c(6671),{WebTransportFSM:M}=c(4035);E.exports.WebTransport=class extends g{constructor(F,N,q,H,G){super(F,N,q,H),this._transportHandler=new C(F,H.webTransportProtocolList),this._webTransportFsm=new M(this,G),this._webTransportFsm.start()}notifyEvent(F){this._eventCB(F)}handleDestroyed(){this._transportSession=null}handleTransportEvent(F){let N;switch(b(`Web transport receive transport event: ${F}`),F.getTransportEventCode()){case A.UP_NOTICE:N=new v({name:S.UP_NOTICE}),N._transportEvent=F,this._webTransportFsm.processEvent(N);break;case A.DESTROYED_NOTICE:this.handleDestroyed(),N=new v({name:S.DESTROYED_NOTICE}),N._transportEvent=F,this._webTransportFsm.processEvent(N);break;case A.SEND_ERROR:N=new v({name:S.SEND_ERROR}),N._transportEvent=F,this._webTransportFsm.processEvent(N);break;case A.CONNECT_TIMEOUT:N=new v({name:S.CONNECT_TIMEOUT}),N._transportEvent=F,this._webTransportFsm.processEvent(N);break;case A.DOWNGRADE_FAILED:this._lastDowngradeSucceeded=!1;break;case A.DOWNGRADE_SUCCEEDED:this._lastDowngradeSucceeded=!0;break;default:this._eventCB(F)}}connect(){const F=new v({name:S.CONNECT});return this._webTransportFsm.processEvent(F),D.OK}connectInternal(){this._transportSession=null;const F=this._transportHandler.getTransportProtocol();switch(this._props.transportProtocol=F,F){case w.HTTP_BASE64:case w.HTTP_BINARY:case w.HTTP_BINARY_STREAMING:this._transportSession=new f(this._url,N=>this.handleTransportEvent(N),this._client,this._props);break;case w.WS_BINARY:this._transportSession=new I(this._url,N=>this.handleTransportEvent(N),this._client,this._props);break;default:throw p(`Web transport unrecognized TransportProtocol: ${F}`),new _(`No transport session provider for scheme: ${F}`,h.CONNECTION_ERROR,F)}return b(`Connect Transport ${F}`),this._transportSession.connect()}destroy(F,N){const q=new v({name:S.DESTROY});return q._destroyMsg=F,q._subcode=N,this._webTransportFsm.processEvent(q),D.OK}beginDowngrade(F,N){return!!this._transportHandler.canCompleteDowngrade()&&(this.destroyInternal(F,N),!0)}completeDowngrade(){return!!this._transportHandler.canCompleteDowngrade()&&this._transportHandler.completeDowngrade()}destroyInternal(F,N){this._transportSession&&this._transportSession.destroy(F,N)}flush(F){return this._transportSession.flush(F)}getConnError(){return this._transportSession?this._transportSession._connError:null}getInfoStr(){return this._transportSession?this._transportSession.getInfoStr():"Not connected."}getTransportProtocol(){return this._transportHandler.getTransportProtocol()}getClientStats(){return this._transportSession?this._transportSession.getClientStats():null}requestDowngrade(F,N){this._lastDowngradeSucceeded=void 0;const q=new v({name:S.DOWNGRADE});return q._downgradeMsg=F,q._subcode=N,this._webTransportFsm.processEvent(q),this._lastDowngradeSucceeded}send(F,N){return this._transportSession.send(F,N)}}},8645:E=>{E.exports.WebSocketCloseCodes={0:{name:"Unknown code",description:"No status code was returned by the operation"},1e3:{name:"Normal Closure",description:"The connection closed normally"},1001:{name:"Going Away",description:"The endpoint is going away due to a server failure or client navigation"},1002:{name:"Protocol Error",description:"A WebSocket protocol error occurred"},1003:{name:"Unsupported Data",description:"The endpoint cannot handle the specified data type"},1004:{name:"Reserved",description:""},1005:{name:"No Status Recvd",description:"Expected a status code but none was provided"},1006:{name:"Abnormal Closure",description:"No close frame was received before remote hangup"},1007:{name:"Invalid Frame Payload Data",description:"A message contained data inconsistent with its encoding"},1008:{name:"Policy Violation",description:"A message violated endpoint policy"},1009:{name:"Message Too Big",description:"A data frame was too large"},1010:{name:"Missing Extension",description:"The endpoint did not negotiate an expected extension"},1011:{name:"Internal Error",description:"The server encountered an unexpected condition that prevented it from fulfilling the request"},1012:{name:"Service Restart",description:"The server is restarting"},1013:{name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition"},1014:{name:"Bad Gateway",description:"A gateway or proxy received an invalid response from the upstream server"},1015:{name:"TLS Handshake",description:"The connection was closed due to a failure to perform a TLS handshake"}}},2519:(E,B,c)=>{const{LOG_INFO:f,LOG_WARN:m,LOG_ERROR:b}=c(390),{ArrayUtils:p}=c(7882),{Convert:v,Hex:g}=c(840),{ErrorSubcode:w}=c(3870),{mixin:C}=c(9359),{TransportError:D}=c(1663),{TransportReturnCode:A}=c(4882),{TransportSessionEvent:I}=c(414),{TransportSessionEventCode:S}=c(9045),{TransportSessionState:M}=c(9385),{WebSocketCloseCodes:F}=c(8645),{WebTransportSessionBase:N}=c(5677),{stringToArrayBuffer:q}=(c(8293),c(1209),v),{formatHexString:H}=g,{includes:G}=p;let te=("undefined"==typeof window?c.g:window).WebSocket;class Z extends N{constructor(Q,V,ie,z){super(Q,V,ie,z),this._url=`ws${Q.match(/(ws|http)(s?:\/\/.+)/)[2]}`,this._socket=null,this._sessionId=(new Date).getTime(),this._bufferedAmountQueryIntervalInMsecs=z.bufferedAmountQueryIntervalInMsecs,this._bufferedAmountQueryTimer=null,this._bufferedAmountQueryIntervalDelayMultiplier=1}onOpen(){this.cancelConnectTimeout(),this._state=M.SESSION_UP,this._eventCB(new I(S.UP_NOTICE,"Connected",0,null,this._sessionId))}onClose(Q,V){if(Q!==this._socket||this._state===M.WAITING_FOR_DESTROY)return;const ie=[],z=F[V.code]||F[0];ie.push(`${V.code} ${z.name} (${z.description})`),void 0!==V.wasClean&&ie.push(`clean closure: ${V.wasClean}`),V.reason&&ie.push(`reason: ${V.reason}`);const ne=ie.join(", ");this._state=M.CONNECTION_FAILED,this.destroy(`Connection closed: ${ne}`,w.COMMUNICATION_ERROR)}onDrain(){this.maybeEmitCanSend(),this.maybeEmitFlush()}onBufferedAmountPoll(){0===this.getBufferedAmount()?this.onDrain():this.scheduleQuery&&this.scheduleQuery()}onError(Q,V){if(f(`Websocket Transport Session onError for socket ${Q} while socket is ${this._socket}`),Q!==this._socket)return void f("Websocket Transport Session stray onError for previous socket, ignoring.");if(this._state===M.WAITING_FOR_DESTROY)return void f("WebSocket transport is being destroyed, ignore error");const ie=V.message?`: ${V.message}`:"";f(`WebSocket transport connection error ${ie} while in state ${this._state}`),this._state===M.WAITING_FOR_CONNECT?(this.cancelConnectTimeout(),this._state=M.CONNECTION_FAILED,this.destroy(`Connection failed: ${ie}`,w.CONNECTION_ERROR)):this._eventCB(new I(S.SEND_ERROR,`Connection error${ie}`,null,w.CONNECTION_ERROR,null))}onMessage(Q){this._client&&this._client.rxDataArrayBuffer(Q.data)}connectTimerExpiry(){f("WebSocket transport connect timeout"),this.state=M.CONNECTION_FAILED,this._eventCB(new I(S.CONNECT_TIMEOUT,"Connection timed out",null,w.TIMEOUT))}connect(){if(this._state!==M.DOWN)return b(`Invalid state for operation: ${M.nameOf(this._state)}`),A.INVALID_STATE_FOR_OPERATION;if(!this._url)return m("Cannot connect to null URL"),A.CONNECTION_ERROR;this._socket&&this.onError("Socket already connected"),f("Establishing WebSocket transport session");try{this.createConnectTimeout(),this._state=M.WAITING_FOR_CREATE,f("Constructing socket"),this._socket=new te(this._url,"smf.solacesystems.com"),this._socket.binaryType="arraybuffer",this._socket.onopen=this.onOpen.bind(this),this._socket.onmessage=this.onMessage.bind(this),this._socket.onclose=this.onClose.bind(this,this._socket),this._socket.onerror=this.onError.bind(this,this._socket)}catch(Q){if(f(`Error connecting: ${Q.message}`),this._state=M.CONNECTION_FAILED,this.cancelConnectTimeout(),!(Q instanceof D))throw new D(`Could not create WebSocket: ${Q.message}`,Q.subcode||w.CONNECTION_ERROR);return this._connError=Q,A.CONNECTION_ERROR}return f("WebSocket is connecting"),A.OK}send(Q,V=!1){if(this._state!==M.SESSION_UP)return A.INVALID_STATE_FOR_OPERATION;const ie=Q.length,z=this._sendBufferMaxSize-this.getBufferedAmount()>=0;if(!V&&!z)return this._canSendNeeded=!0,this.scheduleQuery&&this.scheduleQuery(),A.NO_SPACE;const ne=this._maxPayloadBytes,T=q(Q);if(ie>ne)for(let $=0;$<ie;$+=ne)this._socket.send(T.slice($,$+ne));else this._socket.send(T);return this._clientstats.bytesWritten+=ie,++this._clientstats.msgWritten,A.OK}getBufferedAmount(){return this._socket?this._socket.bufferedAmount:0}flush(Q){this._flushCallback=Q,this.maybeEmitFlush()}maybeEmitCanSend(){this._canSendNeeded&&this.getBufferedAmount()<this._sendBufferMaxSize&&(this._canSendNeeded=!1,this._eventCB(new I(S.CAN_ACCEPT_DATA,"",null,0,this._sessionId)))}maybeEmitFlush(){if(!this._flushCallback)return;if(this.getBufferedAmount()>0)return void(this._bufferedAmountQueryTimer||this.scheduleQuery());const Q=this._flushCallback;this._flushCallback=null,Q()}destroy(Q,V){return this._state!==M.DOWN&&(f(`Destroy WebSocket transport: ${Q}`),this._state=M.WAITING_FOR_DESTROY,this._socket&&(this._socket.close(),this._socket.onopen=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket.onerror=function(){},this._socket=null),this._connectTimer&&(clearTimeout(this._connectTimer),this._connectTimer=void 0),this.cancelQuery(),this._bufferedAmountQueryIntervalDelayMultiplier=1,this._canSendNeeded=!1,this._state=M.DOWN,this._client=null),this._eventCB&&(this._eventCB(new I(S.DESTROYED_NOTICE,Q||"Session is destroyed",null,V||0,this._sessionId)),this._eventCB=null),A.OK}getInfoStr(){return`WebSocketTransportSession; sid=${H(this._sessionId)}`}static browserSupportsBinaryWebSockets(){const Q=["function","object"];return G(Q,typeof te)&&G(Q,typeof ArrayBuffer)&&G(Q,typeof Uint8Array)?"binaryType"in te.prototype?(f("websocket browserSupportBinaryCheck: true - WebSocket supports binaryType"),!0):(f("websocket browserSupportBinaryCheck: false - WebSocket does not support binaryType"),!1):(f("websocket browserSupportBinaryCheck: false - some required classes not supported"),!1)}}C(Z,class{scheduleQuery(){this.getBufferedAmount()>0&&this._bufferedAmountQueryIntervalInMsecs>0&&(this.cancelQuery(),this._bufferedAmountQueryTimer=setTimeout(()=>{this.cancelQuery();try{this.onBufferedAmountPoll()}catch(Q){b(`Error occurred in onBufferedAmountPoll: ${Q.message}`)}},this._bufferedAmountQueryIntervalInMsecs*this._bufferedAmountQueryIntervalDelayMultiplier))}cancelQuery(){this._bufferedAmountQueryTimer&&(clearTimeout(this._bufferedAmountQueryTimer),this._bufferedAmountQueryTimer=null)}}),E.exports.WebSocketTransportSession=Z},7882:(E,B,c)=>{const{APIProperties:h}=c(3845),{APIPropertiesValidators:_}=c(9396),{ArrayUtils:f}=c(2273),{parseURL:m}=c(7567),{Process:b}=c(4672),{StringBuffer:p}=c(2901),{StringUtils:v}=c(3517),{TimingBucket:g}=c(9495),{UUID:w}=c(8632),{Version:C}=c(5686);E.exports={parseURL:m,APIProperties:h,APIPropertiesValidators:_,ArrayUtils:f,Process:b,StringBuffer:p,StringUtils:v,TimingBucket:g,UUID:w,Version:C}},9396:(E,B,c)=>{const{Check:h}=c(2201),{ErrorSubcode:_,OperationError:f}=c(3870),m={validateInstance(b,p,v,...g){g.forEach(w=>{w.shift()(b,p,v,...w)})},valInstance(b,p,v,g,w){if(!h.instanceOf(p[v],g))throw new f(`${b} validation: Property '${v}' must be instance of ${w}`)},valNotEmpty(b,p,v){if(h.none(p[v])||""===p[v])throw new f(`${b} validation: Property '${v}' cannot be empty.`,_.PARAMETER_OUT_OF_RANGE)},valLength(b,p,v,g){if(h.string(p[v])&&p[v].length>g)throw new f(`${b} validation: Property '${v}' exceeded max length ${g}`,_.PARAMETER_OUT_OF_RANGE)},valRange(b,p,v,g,w){if(h.number(p[v])&&(p[v]<g||p[v]>w))throw new f(`${b} validation: Property '${v}' out of range [${g}; ${w}].`,_.PARAMETER_OUT_OF_RANGE)},valString(b,p,v){if(!h.string(p[v]))throw new f(`${b} validation: Property '${v}' must be type string; was ${typeof p[v]}`,_.PARAMETER_INVALID_TYPE)},valNumber(b,p,v){if(!h.number(p[v]))throw new f(`${b} validation: Property '${v}' must be type number; was ${typeof p[v]}`,_.PARAMETER_INVALID_TYPE)},valBoolean(b,p,v){const g=p[v];if(!h.boolean(g))throw new f(`${b} validation: Property '${v}' must be type boolean; was ${typeof g}`,_.PARAMETER_INVALID_TYPE)},valIsMember(b,p,v,g,w,C=!1){const D=p[v];if(!(C&&null==D||g.values.indexOf(D)>=0))throw new f(`${b} validation: Property '${v}'=${D} must be a member of ${w}`,_.PARAMETER_INVALID_TYPE)},valStringOrArray(b,p,v){const g=p[v];if("string"!=typeof g&&!Array.isArray(g))throw new f(`${b} validation: Property '${v}' must be a string or array`,_.PARAMETER_INVALID_TYPE)},valArrayIsMember(b,p,v,g,w,C,D,A){if(null==p[v]){if(C)return;throw new f(`${b} validation: Property '${v}' must be type Array`,_.PARAMETER_INVALID_TYPE)}if(!Array.isArray(p[v]))throw new f(`${b} validation: Property '${v}' must be type Array`,_.PARAMETER_INVALID_TYPE);if(!D&&0===p[v].length)throw new f(`${b} validation: Property '${v}' cannot be empty`,_.PARAMETER_INVALID_TYPE);p[v].forEach((I,S)=>{if(!g.values.includes(I))throw new f(`${b} validation: Property '${v}' must be an array of ${w}`,_.PARAMETER_INVALID_TYPE);if(!A&&p[v].indexOf(I,S+1)>=0)throw new f(`${b} validation: Property '${v}' cannot have duplicate element value`,_.PARAMETER_OUT_OF_RANGE)})},valArrayOfString(b,p,v){const g=p[v];if(h.something(g)){if(!Array.isArray(g))throw new f(`${b} validation: Property '${v}' must be type Array`,_.PARAMETER_INVALID_TYPE);g.forEach(w=>{if("string"!=typeof w)throw new f(`${b} validation: Property '${v}' must be an array of string`,_.PARAMETER_INVALID_TYPE)})}},valTopicString(b,p,v){const{DestinationUtil:g,DestinationType:w}=c(3170);E.exports.APIPropertiesValidators.valString(b,p,v);const D=g.validateAndEncode(w.TOPIC,p[v]);if(D.error)throw new f(`${b} validation: Property '${v}' must be a valid topic string: ${D.error}`,_.PARAMETER_OUT_OF_RANGE)},valTopicStringOrEmpty(b,p,v){const g=p[v];g&&g.length&&E.exports.APIPropertiesValidators.valTopicString(b,p,v)}};E.exports.APIPropertiesValidators=m},3845:(E,B,c)=>{var h=c(9489);const _=c(6313);E.exports.APIProperties=class{constructor(...f){Object.assign(this,...f)}toString(){return h(this)}clone(){return _(this,!1,1)}}},2273:E=>{E.exports.ArrayUtils={flatten:function B(c){return c.reduce((h,_)=>h.concat(Array.isArray(_)?B(_):_),[])},includes:function(B,c){return B.some(h=>h===c)}}},3196:E=>{E.exports=function(B){let c=!1;if(!B.forceJURL)try{const M=new URL("b","http://a");M.pathname="c%20d",c="http://a/c%20d"===M.href}catch(M){}if(c)return;const h=Object.create(null);h.ftp=21,h.file=0,h.gopher=70,h.http=80,h.https=443,h.ws=80,h.wss=443;const _=Object.create(null);function f(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function m(M){return void 0!==h[M]}function b(){f.call(this),this._isInvalid=!0}function p(M){return""===M&&b.call(this),M.toLowerCase()}function v(M){const F=M.charCodeAt(0);return F>32&&F<127&&-1===[34,35,60,62,63,96].indexOf(F)?M:encodeURIComponent(M)}function g(M){const F=M.charCodeAt(0);return F>32&&F<127&&-1===[34,35,60,62,96].indexOf(F)?M:encodeURIComponent(M)}let w;_["%2e"]=".",_[".%2e"]="..",_["%2e."]="..",_["%2e%2e"]="..";const C=/[a-zA-Z]/,D=/[a-zA-Z0-9+\-.]/;function A(M,F,N){const q=[];function H(V){q.push(V)}let G=F||"scheme start",te=0,Z="",j=!1,Q=!1;e:for(;(M[te-1]!==w||0===te)&&!this._isInvalid;){const V=M[te];switch(G){case"scheme start":if(!V||!C.test(V)){if(F){H("Invalid scheme.");break e}Z="",G="no scheme";continue}Z+=V.toLowerCase(),G="scheme";break;case"scheme":if(V&&D.test(V))Z+=V.toLowerCase();else{if(":"!==V){if(F){if(w===V)break e;H(`Code point not allowed in scheme: ${V}`);break e}Z="",te=0,G="no scheme";continue}if(this._scheme=Z,Z="",F)break e;m(this._scheme)&&(this._isRelative=!0),G="file"===this._scheme?"relative":this._isRelative&&N&&N._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"===V?(this._query="?",G="query"):"#"===V?(this._fragment="#",G="fragment"):w!==V&&"\t"!==V&&"\n"!==V&&"\r"!==V&&(this._schemeData+=v(V));break;case"no scheme":if(N&&m(N._scheme)){G="relative";continue}H("Missing scheme."),b.call(this);break;case"relative or authority":if("/"!==V||"/"!==M[te+1]){H(`Expected /, got: ${V}`),G="relative";continue}G="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!==this._scheme&&(this._scheme=N._scheme),w===V){this._host=N._host,this._port=N._port,this._path=N._path.slice(),this._query=N._query,this._username=N._username,this._password=N._password;break e}if("/"===V||"\\"===V)"\\"===V&&H("\\ is an invalid code point."),G="relative slash";else if("?"===V)this._host=N._host,this._port=N._port,this._path=N._path.slice(),this._query="?",this._username=N._username,this._password=N._password,G="query";else{if("#"!==V){const ie=M[te+1],z=M[te+2];("file"!==this._scheme||!C.test(V)||":"!==ie&&"|"!==ie||w!==z&&"/"!==z&&"\\"!==z&&"?"!==z&&"#"!==z)&&(this._host=N._host,this._port=N._port,this._username=N._username,this._password=N._password,this._path=N._path.slice(),this._path.pop()),G="relative path";continue}this._host=N._host,this._port=N._port,this._path=N._path.slice(),this._query=N._query,this._fragment="#",this._username=N._username,this._password=N._password,G="fragment"}break;case"relative slash":if("/"!==V&&"\\"!==V){"file"!==this._scheme&&(this._host=N._host,this._port=N._port,this._username=N._username,this._password=N._password),G="relative path";continue}"\\"===V&&H("\\ is an invalid code point."),G="file"===this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!==V){H(`Expected '/', got: ${V}`),G="authority ignore slashes";continue}G="authority second slash";break;case"authority second slash":if(G="authority ignore slashes","/"!==V){H(`Expected '/', got: ${V}`);continue}break;case"authority ignore slashes":if("/"!==V&&"\\"!==V){G="authority";continue}H(`Expected authority, got: ${V}`);break;case"authority":if("@"===V){j&&(H("@ already seen."),Z+="%40"),j=!0;for(let ie=0;ie<Z.length;ie++){const z=Z[ie];if("\t"===z||"\n"===z||"\r"===z){H("Invalid whitespace in authority.");continue}if(":"===z&&null===this._password){this._password="";continue}const ne=v(z);null!==this._password?this._password+=ne:this._username+=ne}Z=""}else{if(w===V||"/"===V||"\\"===V||"?"===V||"#"===V){te-=Z.length,Z="",G="host";continue}Z+=V}break;case"file host":if(w===V||"/"===V||"\\"===V||"?"===V||"#"===V){2!==Z.length||!C.test(Z[0])||":"!==Z[1]&&"|"!==Z[1]?(0===Z.length||(this._host=p.call(this,Z),Z=""),G="relative path start"):G="relative path";continue}"\t"===V||"\n"===V||"\r"===V?H("Invalid whitespace in file host."):Z+=V;break;case"host":case"hostname":if(":"!==V||Q){if(w===V||"/"===V||"\\"===V||"?"===V||"#"===V){if(this._host=p.call(this,Z),Z="",G="relative path start",F)break e;continue}"\t"!==V&&"\n"!==V&&"\r"!==V?("["===V?Q=!0:"]"===V&&(Q=!1),Z+=V):H(`Invalid code point in host/hostname: ${V}`)}else if(this._host=p.call(this,Z),Z="",G="port","hostname"===F)break e;break;case"port":if(/[0-9]/.test(V))Z+=V;else{if(w===V||"/"===V||"\\"===V||"?"===V||"#"===V||F){if(""!==Z){const ie=parseInt(Z,10);ie!==h[this._scheme]&&(this._port=`${ie}`),Z=""}if(F)break e;G="relative path start";continue}"\t"===V||"\n"===V||"\r"===V?H(`Invalid code point in port: ${V}`):b.call(this)}break;case"relative path start":if("\\"===V&&H("'\\' not allowed in path."),G="relative path","/"!==V&&"\\"!==V)continue;break;case"relative path":if(w!==V&&"/"!==V&&"\\"!==V&&(F||"?"!==V&&"#"!==V))"\t"!==V&&"\n"!==V&&"\r"!==V&&(Z+=v(V));else{"\\"===V&&H("\\ not allowed in relative path.");const ie=_[Z.toLowerCase()];ie&&(Z=ie),".."===Z?(this._path.pop(),"/"!==V&&"\\"!==V&&this._path.push("")):"."===Z&&"/"!==V&&"\\"!==V?this._path.push(""):"."!==Z&&("file"===this._scheme&&0===this._path.length&&2===Z.length&&C.test(Z[0])&&"|"===Z[1]&&(Z=`${Z[0]}:`),this._path.push(Z)),Z="","?"===V?(this._query="?",G="query"):"#"===V&&(this._fragment="#",G="fragment")}break;case"query":F||"#"!==V?w!==V&&"\t"!==V&&"\n"!==V&&"\r"!==V&&(this._query+=g(V)):(this._fragment="#",G="fragment");break;case"fragment":w!==V&&"\t"!==V&&"\n"!==V&&"\r"!==V&&(this._fragment+=V)}te++}}function I(M,F){void 0===F||F instanceof I||(F=new I(String(F))),M=String(M),this._url=M,f.call(this);const N=M.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");A.call(this,N,null,F)}I.prototype={toString(){return this.href},get href(){if(this._isInvalid)return this._url;let M="";return""===this._username&&null===this._password||(M=this._username+(null!==this._password?`:${this._password}`:"")+"@"),this.protocol+(this._isRelative?`//${M}${this.host}`:"")+this.pathname+this._query+this._fragment},set href(M){f.call(this),A.call(this,M)},get protocol(){return`${this._scheme}:`},set protocol(M){this._isInvalid||A.call(this,`${M}:`,"scheme start")},get host(){return this._isInvalid?"":this._port?`${this._host}:${this._port}`:this._host},set host(M){!this._isInvalid&&this._isRelative&&A.call(this,M,"host")},get hostname(){return this._host},set hostname(M){!this._isInvalid&&this._isRelative&&A.call(this,M,"hostname")},get port(){return this._port},set port(M){!this._isInvalid&&this._isRelative&&A.call(this,M,"port")},get pathname(){return this._isInvalid?"":this._isRelative?`/${this._path.join("/")}`:this._schemeData},set pathname(M){!this._isInvalid&&this._isRelative&&(this._path=[],A.call(this,M,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(M){!this._isInvalid&&this._isRelative&&(this._query="?","?"===M[0]&&(M=M.slice(1)),A.call(this,M,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(M){this._isInvalid||(this._fragment="#","#"===M[0]&&(M=M.slice(1)),A.call(this,M,"fragment"))},get origin(){if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}const M=this.host;return M?`${this._scheme}://${M}`:""}};const S=B.URL;S&&(I.createObjectURL=function(...M){return S.createObjectURL(...M)},I.revokeObjectURL=function(M){S.revokeObjectURL(M)}),B.URL=I}},4672:(E,B,c)=>{const h={6.4:"10.0",6.3:"8.1",6.2:"8",6.1:"7","6.0":"Vista",5.2:"Server 2003",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"4.0"},_="undefined"!=typeof window?window:c.g,f={product:"solclientjs",platform:"unknown",agent:"Gecko"};try{if(_.navigator){const b=v=>v.replace(/[^a-zA-Z0-9_/.]/g,"-");Object.assign(f,{platform:_.navigator.platform,agent:_.navigator.product,description:b(_.navigator.userAgent),navigator:_.navigator});const p=function(){if("undefined"==typeof navigator||!navigator)return null;const v=navigator.userAgent,g={browser:{name:"unknown",version:"0.0.0"},platform:{os:"unknown",arch:"unknown",version:"unknown"}},w=(...I)=>I.some(S=>v.indexOf(S)>=0),C=(...I)=>I.filter(Boolean).shift();Object.assign(g,[["edge",/Edge\/([0-9._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9.]+)(?:\s|$)/],["opera",/Opera\/([0-9.]+)(?:\s|$)/],["opera",/OPR\/([0-9.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv:([0-9.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9.]+);.*Trident\/[4-8].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9.]+)/],["android",/Android\s([0-9.]+)/],["ios",/Version\/([0-9._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9._]+).*Safari/]].map(([I,S])=>{if(!S.test(v))return!1;const M=S.exec(v),F=(M&&M[1].split(/[._]/).slice(0,3)).map(N=>parseInt(N,10));for(;F.length<3;)F.push(0);return{browser:{name:I,version:F.join(".")}}}).filter(Boolean).shift());const D=C(w("Windows Phone")&&"WindowsPhone",w("Windows")&&"Windows",w("Linux")&&"Linux",w("like Mac OS X")&&"iOS",w("OS X")&&"OSX",w("Android","Adr")&&"Android",w("BB10","RIM Tablet OS","BlackBerry")&&"BlackBerry"),A={Windows:()=>C(w("Win16")&&"3.1.1",w("Windows CE")&&"CE",w("Windows 95")&&"4.00.950",w("Windows 98; Win 9x 4.90")&&"4.90",w("Windows 98")&&"4.10",(()=>{const I=v.match(/\(.+?\)/)[0];return!!I&&C(...Object.keys(h).map(S=>I.indexOf(S)>=0&&h[S]))})()),OSX:()=>v.match(/OS X ((\d+[._])+\d+)\b/)[1],Linux:()=>"",iOS:()=>v.match(/OS ((\d+[._])+\d+) like Mac OS X/)[1],Android:()=>v.match(/(?:Android|Adr) ((\d+[._])+\d_)/)[1],BlackBerry:()=>v.match(/(?:Version\/|RIM Tablet OS )((\d+\.)+\d+)/)[1]}[D];return g.platform.os=D||"Unknown",g.platform.version=(A&&A()||"0.0.0").replace(/_/g,"."),g}();p&&(f.agent=b(`${p.browser.name}-${p.browser.version}`),f.platform=`${f.agent}-${b(`${p.platform.os}-${p.platform.version}`)}`)}}catch(b){}const m=Object.assign({},{},f,{});E.exports.Process=m},2901:E=>{E.exports.StringBuffer=class{constructor(...B){this.clear(),this.append(...B)}append(...B){return[...B].forEach(c=>{this.buffer[this.index++]=String(c)}),this}clear(){this.buffer=[],this.index=0}toString(){return this.buffer.join("")}}},3517:(E,B,c)=>{const{StringBuffer:h}=c(2901),_=(()=>{const g=[];for(let w=0;w<256;++w)g[w]=w<33||w>126?".":String.fromCharCode(w);return g})();function f(g,w,C,D=" "){if("string"!=typeof g||g.length>=w)return g;const A=new h;for(let I=0;I<w-g.length;I++)A.append(D.charAt(0));switch(C){case 0:return`${A}${g}`;case 1:return`${g}${A}`;default:return g}}function m(g,w){if(!w.length)return g;const C=w.match(/^\s*/)[0].length;return C<g?C:g}function b(g){return`${g.charAt(0).toUpperCase()}${g.substr(1)}`}function p(g){return null==g||0===g.length}const v={capitalize:function(g){return g&&g.length?g.split(" ").map(b).join(" "):g}};v.isEmpty=p,v.notEmpty=function(g){return!p(g)},v.toSafeChars=function(g){return g.replace(/[^a-zA-Z0-9_/.]/g,"")},v.padLeft=function(g,w,C){return f(g,w,0,C)},v.padRight=function(g,w,C){return f(g,w,1,C)},v.nullTerminate=function(g){if(null==g)throw new Error("non str in nullTerminate");return 0===g.charCodeAt(g.length-1)?g:g+String.fromCharCode(0)},v.stripNullTerminate=function(g){if(null==g)throw new Error("null str in stripNullTerminate");return 0===g.charCodeAt(g.length-1)?g.substr(0,g.length-1):g},v.hexdump=function(g){const w=new h,C=new h,D=I=>8===I||16===I?"  ":" ";let A=0;for(let I=0,S=g.length;I<S;I++){const M=g.charCodeAt(I);if(w.append(f(M.toString(16),2,0)),C.append(_[M]||"."),w.append(D(++A)),I===g.length-1)for(;A<16;)w.append(`  ${D(++A)}`);16===A&&(w.append(C.join("")),w.append("\n"),A=0,C.clear())}return w.toString()},v.heredoc=function(g,...w){const C=[...w,""],D=g.map(I=>I+C.shift()).join("").split(/\r?\n/),A=1===D.length?0:D.reduce(m,1/0);for(;""===D[0];)D.shift();return D.map(I=>I.substring(A)).join("\n")},E.exports.StringUtils=v},9495:E=>{E.exports.TimingBucket=class{constructor(B,c){this.name=B,this.interval=c,this.buckets=[]}get bucketCount(){let B=0;for(let c=0,h=this.buckets.length;c<h;++c)B+=this.buckets[c]||0;return B}log(B){if(void 0===B||isNaN(B))return;const c=Math.floor(B/this.interval)*this.interval;this.buckets[c]=this.buckets[c]||0,this.buckets[c]++}toString(){const B=[];return this.buckets.forEach(c=>{B.push(`${c}: ${this.buckets[c]}`)}),`{${B.join(", ")}}`}}},7567:function(E,B,c){let h;{const _="undefined"!=typeof window?window:this;c(3196)(_),h=function(...f){return new URL(...f)}}E.exports.parseURL=h},8632:E=>{E.exports.UUID={generateUUID:function(){let B=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,c=>{const h=(B+16*Math.random())%16|0;return B=Math.floor(B/16),("x"===c?h:3&h|8).toString(16)})}}},5686:E=>{const B=new Date(Date.parse("Wed Mar 30 2022 17:25:09 GMT-0400 (Eastern Daylight Time)")),c="RELEASE",h=(()=>{const m=p=>p<10?`0${p}`:p,b=B;return`${b.getFullYear()}/${m(b.getMonth()+1)}/${m(b.getDate())} ${m(b.getHours())}:${m(b.getMinutes())}`})(),_=["SolclientJS","10.10.0",c,h].join(", ");E.exports.Version={version:"10.10.0",date:B,formattedDate:h,target:{name:"browser",node:!1,browser:!0},mode:c,debug:!1,release:!0,summary:_,toString:()=>_}},2201:(E,B,c)=>{const{Check:h}=c(2595),{Parameter:_}=c(6362);E.exports.Check=h,E.exports.Parameter=_},9070:E=>{function B(h){return h.reduce((_,f)=>_.concat(Array.isArray(f)?B(f):f),[])}const c=(()=>{const h={nothing:_=>null==_,anything:_=>!c.nothing(_),undefined:_=>void 0===_,defined:_=>!c.undefined(_),array:_=>c.anything(_)&&Array.isArray(_),object:_=>!c.array(_)&&null!==_&&("object"==typeof _||_ instanceof Object),instanceOf:(_,f)=>c.object(_)&&_ instanceof f,type:(_,f)=>typeof _===f,instanceOfAny:(_,...f)=>c.array(f)&&B(f).some(m=>c.instanceOf(_,m)),empty:_=>!!c.nothing(_)||!(!c.object(_)||0!==Object.keys(_).length)||0===_.length,truthy:(_,f)=>!!f(_),rangeGe:(_,f)=>_>=f,rangeGt:(_,f)=>_>f,rangeLe:(_,f)=>_<=f,rangeLt:(_,f)=>_<f,rangeCompare(_,f,m,...b){switch(f){case"=":case"==":case"===":return _===m;case"~=":case"=~":{const p=b[0]||1e6;return Math.abs(_-m)<p}case"<":return _<m;case"<=":return _<=m;case">":return _>m;case">=":return _>=m;default:throw new Error(`Illegal operator for rangeCompare: ${f}`)}},NaN:_=>Number.isNaN(_),included(_,f){if(c.nothing(f))return!1;if(f.includes)return f.includes(_);if(Array.isArray(f))return f.indexOf(_)>=0;if(c.object(f)){const m=Object.keys(f);return c.included(_,m)}return!1},equal:(_,f)=>_===f,member:(_,f)=>c.anything(f)&&(c.array(f)?c.included(_,f):Object.keys(f).some(m=>f[m]===_)),boolean:_=>c.type(_,"boolean"),number:_=>c.type(_,"number"),string:_=>c.type(_,"string"),function:_=>c.type(_,"function")};return h.none=h.nothing,h.something=h.anything,Object.keys(h).forEach(_=>{h[_].orNull=function(f,...m){return null===f||h[_](f,...m)},h[_].orUndefined=function(f,...m){return void 0===f||h[_](f,...m)},h[_].orNothing=function(f,...m){return h.nothing(f)||h[_](f,...m)}}),h})();E.exports.BaseChecks=c},2595:(E,B,c)=>{const{BaseChecks:h}=c(9070);function _(m){return{then:m?b=>b():(b,p)=>p()}}const f=(()=>{const m=Object.assign({},h);return m.when=b=>_(b),m.unless=b=>_(!b),m})();E.exports.Check=f},6362:(E,B,c)=>{const{Check:h}=c(2595),{ErrorSubcode:_,OperationError:f}=c(3870),m={};function b(w,C=null,D=m){const A=C?`; expected: ${C}`:"";return w===_.PARAMETER_INVALID_TYPE?`Parameter type was invalid${A}${D!==m?`; got: ${D}`:""}`:_.nameOf(w).toLowerCase().replace(/_/," ")+A}function p(w,C,D,A,I,...S){return A(I,...S)?I:function(M,F,N){throw new f(`Parameter ${M} failed validation`,F,N)}(w,C,D)}const v=w=>w&&w.constructor&&w.constructor.name||typeof w;E.exports.Parameter={isArray:function(w,C,D=_.PARAMETER_INVALID_TYPE,A=b(D,"array",C)){return p(w,D,A,h.isArray,C)},isBoolean:function(w,C,D=_.PARAMETER_INVALID_TYPE,A=b(D,"boolean",C)){return p(w,D,A,h.boolean,C)},isBooleanOrNothing:function(w,C,D=_.PARAMETER_INVALID_TYPE,A=b(D,"boolean or nothing",C)){return p(w,D,A,h.boolean.orNothing,C)},isEnumMember:function(w,C,D,A=_.PARAMETER_OUT_OF_RANGE,I=b(A,`one of [${D.names.join(", ")}]`,C)){return p(w,A,I,h.member,C,D)},isEnumMemberOrNothing:function(w,C,D,A=_.PARAMETER_OUT_OF_RANGE,I=b(A,`one of [${D.names.join(", ")}]`,C)){return p(w,A,I,h.member.orNothing,C,D)},isFunction:function(w,C,D=_.PARAMETER_INVALID_TYPE,A=b(D,"function",C)){return p(w,D,A,h.function,C)},isFunctionOrNothing:function(w,C,D=_.PARAMETER_INVALID_TYPE,A=b(D,"function or nothing",C)){return p(w,D,A,h.function.orNothing,C)},isInstanceOf:function(w,C,D,A=_.PARAMETER_INVALID_TYPE,I=b(A,D.name,v(C))){return p(w,A,I,h.instanceOf,C,D)},isInstanceOfOrNothing:function(w,C,D,A=_.PARAMETER_INVALID_TYPE,I=b(A,`${D.name} or nothing`,v(C))){return p(w,A,I,h.instanceOf.orNothing,C,D)},isInstanceOfOrNull:function(w,C,D,A=_.PARAMETER_INVALID_TYPE,I=b(A,`${D.name} or null`,v(C))){return p(w,A,I,h.instanceOf.orNull,C,D)},isInstanceOfOrUndefined:function(w,C,D,A=_.PARAMETER_INVALID_TYPE,I=b(A,`${D.name} or undefined`,v(C))){return p(w,A,I,h.instanceOf.orUndefined,C,D)},isMember:function(w,C,D,A=_.PARAMETER_OUT_OF_RANGE,I=b(A,`one of ${D.name}.[${function(S){return Object.keys(S).map(M=>S[M])}(D).join(", ")}]`,C)){return p(w,A,I,h.member,C,D)},isNumber:function(w,C,D=_.PARAMETER_INVALID_TYPE,A=b(D,"number",C)){return p(w,D,A,h.number,C)},isNumberOrNothing:function(w,C,D=_.PARAMETER_INVALID_TYPE,A=b(D,"number or nothing",C)){return p(w,D,A,h.number.orNothing,C)},isNumberOrNull:function(w,C,D=_.PARAMETER_INVALID_TYPE,A=b(D,"number or null",C)){return p(w,D,A,h.number.orNull,C)},isRangeCompare:function(w,C,D,A,I=_.PARAMETER_OUT_OF_RANGE,S=b(I,`${D} ${A}`,C)){return p(w,I,S,h.rangeCompare,C,D,A)},isRangeCompareOrNothing:function(w,C,D,A,I=_.PARAMETER_OUT_OF_RANGE,S=b(I,`${D} ${A} or nothing`,C)){return p(w,I,S,h.rangeCompare.orNothing,C,D,A)},isStringOrNull:function(w,C,D=_.PARAMETER_INVALID_TYPE,A=b(D,"string or null",C)){return p(w,D,A,h.string.orNull,C)},isString:function(w,C,D=_.PARAMETER_INVALID_TYPE,A=b(D,"string",C)){return p(w,D,A,h.string,C)},isStringOrNothing:function(w,C,D=_.PARAMETER_INVALID_TYPE,A=b(D,"string or nothing",C)){return p(w,D,A,h.string.orNothing,C)},isValue:function(w,C,D,A=_.PARAMETER_OUT_OF_RANGE,I=b(A,`must be ${C}`)){return p(w,A,I,h.equal,C,D)}}},9742:(E,B)=>{"use strict";B.byteLength=function(g){var w=p(g),D=w[1];return 3*(w[0]+D)/4-D},B.toByteArray=function(g){var w,C,H,D=p(g),A=D[0],I=D[1],S=new _(3*(A+(H=I))/4-H),M=0,F=I>0?A-4:A;for(C=0;C<F;C+=4)w=h[g.charCodeAt(C)]<<18|h[g.charCodeAt(C+1)]<<12|h[g.charCodeAt(C+2)]<<6|h[g.charCodeAt(C+3)],S[M++]=w>>16&255,S[M++]=w>>8&255,S[M++]=255&w;return 2===I&&(w=h[g.charCodeAt(C)]<<2|h[g.charCodeAt(C+1)]>>4,S[M++]=255&w),1===I&&(w=h[g.charCodeAt(C)]<<10|h[g.charCodeAt(C+1)]<<4|h[g.charCodeAt(C+2)]>>2,S[M++]=w>>8&255,S[M++]=255&w),S},B.fromByteArray=function(g){for(var w,C=g.length,D=C%3,A=[],I=16383,S=0,M=C-D;S<M;S+=I)A.push(v(g,S,S+I>M?M:S+I));return 1===D?A.push(c[(w=g[C-1])>>2]+c[w<<4&63]+"=="):2===D&&A.push(c[(w=(g[C-2]<<8)+g[C-1])>>10]+c[w>>4&63]+c[w<<2&63]+"="),A.join("")};for(var c=[],h=[],_="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,b=f.length;m<b;++m)c[m]=f[m],h[f.charCodeAt(m)]=m;function p(g){var w=g.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var C=g.indexOf("=");return-1===C&&(C=w),[C,C===w?0:4-C%4]}function v(g,w,C){for(var A,I=[],S=w;S<C;S+=3)I.push(c[(A=(g[S]<<16&16711680)+(g[S+1]<<8&65280)+(255&g[S+2]))>>18&63]+c[A>>12&63]+c[A>>6&63]+c[63&A]);return I.join("")}h["-".charCodeAt(0)]=62,h["_".charCodeAt(0)]=63},9489:E=>{function B(N,q){var H={seen:[],stylize:c};return arguments.length>=3&&(H.depth=arguments[2]),arguments.length>=4&&(H.colors=arguments[3]),h(q)?H.showHidden=q:q&&F(H,q),_(H.showHidden)&&(H.showHidden=!1),_(H.depth)&&(H.depth=2),_(H.colors)&&(H.colors=!1),_(H.customInspect)&&(H.customInspect=!0),H.colors&&(H.stylize=f),S(H,N,H.depth)}function c(N,q){return N}function h(N){return"boolean"==typeof N}function _(N){return void 0===N}function f(N,q){var H=B.styles[q];return H?"\x1b["+B.colors[H][0]+"m"+N+"\x1b["+B.colors[H][1]+"m":N}function m(N){return"function"==typeof N}function b(N){return"string"==typeof N}function p(N){return null===N}function v(N,q){return Object.prototype.hasOwnProperty.call(N,q)}function g(N){return w(N)&&"[object RegExp]"===A(N)}function w(N){return"object"==typeof N&&null!==N}function C(N){return w(N)&&("[object Error]"===A(N)||N instanceof Error)}function D(N){return w(N)&&"[object Date]"===A(N)}function A(N){return Object.prototype.toString.call(N)}function I(N){return"["+Error.prototype.toString.call(N)+"]"}function S(N,q,H){if(N.customInspect&&q&&m(q.inspect)&&q.inspect!==B&&(!q.constructor||q.constructor.prototype!==q)){var G=q.inspect(H,N);return b(G)||(G=S(N,G,H)),G}var te=function(T,$){if(_($))return T.stylize("undefined","undefined");if(b($)){var U="'"+JSON.stringify($).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return T.stylize(U,"string")}return"number"==typeof $?T.stylize(""+$,"number"):h($)?T.stylize(""+$,"boolean"):p($)?T.stylize("null","null"):void 0}(N,q);if(te)return te;var $,Z=Object.keys(q),j=($={},Z.forEach(function(U,W){$[U]=!0}),$);try{N.showHidden&&Object.getOwnPropertyNames&&(Z=Object.getOwnPropertyNames(q))}catch(T){}if(C(q)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return I(q);if(0===Z.length){if(m(q))return N.stylize("[Function"+(q.name?": "+q.name:"")+"]","special");if(g(q))return N.stylize(RegExp.prototype.toString.call(q),"regexp");if(D(q))return N.stylize(Date.prototype.toString.call(q),"date");if(C(q))return I(q)}var V,ie="",z=!1,ne=["{","}"];return Array.isArray(q)&&(z=!0,ne=["[","]"]),m(q)&&(ie=" [Function"+(q.name?": "+q.name:"")+"]"),g(q)&&(ie=" "+RegExp.prototype.toString.call(q)),D(q)&&(ie=" "+Date.prototype.toUTCString.call(q)),C(q)&&(ie=" "+I(q)),0!==Z.length||z&&0!=q.length?H<0?g(q)?N.stylize(RegExp.prototype.toString.call(q),"regexp"):N.stylize("[Object]","special"):(N.seen.push(q),V=z?function(T,$,U,W,se){for(var le=[],Me=0,Ee=$.length;Me<Ee;++Me)v($,String(Me))?le.push(M(T,$,U,W,String(Me),!0)):le.push("");return se.forEach(function(ye){ye.match(/^\d+$/)||le.push(M(T,$,U,W,ye,!0))}),le}(N,q,H,j,Z):Z.map(function(T){return M(N,q,H,j,T,z)}),N.seen.pop(),function(T,$,U){return T.reduce(function(W,se){return se.indexOf("\n"),W+se.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?U[0]+(""===$?"":$+"\n ")+" "+T.join(",\n  ")+" "+U[1]:U[0]+$+" "+T.join(", ")+" "+U[1]}(V,ie,ne)):ne[0]+ie+ne[1]}function M(N,q,H,G,te,Z){var j,Q,V;V={value:void 0};try{V.value=q[te]}catch(ie){}try{Object.getOwnPropertyDescriptor&&(V=Object.getOwnPropertyDescriptor(q,te)||V)}catch(ie){}if(V.get?Q=N.stylize(V.set?"[Getter/Setter]":"[Getter]","special"):V.set&&(Q=N.stylize("[Setter]","special")),v(G,te)||(j="["+te+"]"),Q||(N.seen.indexOf(V.value)<0?(Q=p(H)?S(N,V.value,null):S(N,V.value,H-1)).indexOf("\n")>-1&&(Q=Z?Q.split("\n").map(function(ie){return"  "+ie}).join("\n").substr(2):"\n"+Q.split("\n").map(function(ie){return"   "+ie}).join("\n")):Q=N.stylize("[Circular]","special")),_(j)){if(Z&&te.match(/^\d+$/))return Q;(j=JSON.stringify(""+te)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(j=j.substr(1,j.length-2),j=N.stylize(j,"name")):(j=j.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),j=N.stylize(j,"string"))}return j+": "+Q}function F(N,q){if(!q||!w(q))return N;for(var H=Object.keys(q),G=H.length;G--;)N[H[G]]=q[H[G]];return N}E.exports=B,B.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},B.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"}},8764:(E,B,c)=>{"use strict";const h=c(9742),_=c(645),f="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;B.Buffer=p,B.SlowBuffer=function(y){return+y!=y&&(y=0),p.alloc(+y)},B.INSPECT_MAX_BYTES=50;const m=2147483647;function b(y){if(y>m)throw new RangeError('The value "'+y+'" is invalid for option "size"');const O=new Uint8Array(y);return Object.setPrototypeOf(O,p.prototype),O}function p(y,O,x){if("number"==typeof y){if("string"==typeof O)throw new TypeError('The "string" argument must be of type string. Received type number');return w(y)}return v(y,O,x)}function v(y,O,x){if("string"==typeof y)return function(me,Ae){if("string"==typeof Ae&&""!==Ae||(Ae="utf8"),!p.isEncoding(Ae))throw new TypeError("Unknown encoding: "+Ae);const Ce=0|I(me,Ae);let Ne=b(Ce);const $e=Ne.write(me,Ae);return $e!==Ce&&(Ne=Ne.slice(0,$e)),Ne}(y,O);if(ArrayBuffer.isView(y))return function(me){if(Be(me,Uint8Array)){const Ae=new Uint8Array(me);return D(Ae.buffer,Ae.byteOffset,Ae.byteLength)}return C(me)}(y);if(null==y)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(Be(y,ArrayBuffer)||y&&Be(y.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(Be(y,SharedArrayBuffer)||y&&Be(y.buffer,SharedArrayBuffer)))return D(y,O,x);if("number"==typeof y)throw new TypeError('The "value" argument must not be of type number. Received type number');const ee=y.valueOf&&y.valueOf();if(null!=ee&&ee!==y)return p.from(ee,O,x);const re=function(me){if(p.isBuffer(me)){const Ae=0|A(me.length),Ce=b(Ae);return 0===Ce.length||me.copy(Ce,0,0,Ae),Ce}return void 0!==me.length?"number"!=typeof me.length||Ye(me.length)?b(0):C(me):"Buffer"===me.type&&Array.isArray(me.data)?C(me.data):void 0}(y);if(re)return re;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof y[Symbol.toPrimitive])return p.from(y[Symbol.toPrimitive]("string"),O,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}function g(y){if("number"!=typeof y)throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function w(y){return g(y),b(y<0?0:0|A(y))}function C(y){const O=y.length<0?0:0|A(y.length),x=b(O);for(let ee=0;ee<O;ee+=1)x[ee]=255&y[ee];return x}function D(y,O,x){if(O<0||y.byteLength<O)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<O+(x||0))throw new RangeError('"length" is outside of buffer bounds');let ee;return ee=void 0===O&&void 0===x?new Uint8Array(y):void 0===x?new Uint8Array(y,O):new Uint8Array(y,O,x),Object.setPrototypeOf(ee,p.prototype),ee}function A(y){if(y>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|y}function I(y,O){if(p.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||Be(y,ArrayBuffer))return y.byteLength;if("string"!=typeof y)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);const x=y.length,ee=arguments.length>2&&!0===arguments[2];if(!ee&&0===x)return 0;let re=!1;for(;;)switch(O){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return pe(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*x;case"hex":return x>>>1;case"base64":return Y(y).length;default:if(re)return ee?-1:pe(y).length;O=(""+O).toLowerCase(),re=!0}}function S(y,O,x){let ee=!1;if((void 0===O||O<0)&&(O=0),O>this.length||((void 0===x||x>this.length)&&(x=this.length),x<=0)||(x>>>=0)<=(O>>>=0))return"";for(y||(y="utf8");;)switch(y){case"hex":return ne(this,O,x);case"utf8":case"utf-8":return Q(this,O,x);case"ascii":return ie(this,O,x);case"latin1":case"binary":return z(this,O,x);case"base64":return j(this,O,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,O,x);default:if(ee)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),ee=!0}}function M(y,O,x){const ee=y[O];y[O]=y[x],y[x]=ee}function F(y,O,x,ee,re){if(0===y.length)return-1;if("string"==typeof x?(ee=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),Ye(x=+x)&&(x=re?0:y.length-1),x<0&&(x=y.length+x),x>=y.length){if(re)return-1;x=y.length-1}else if(x<0){if(!re)return-1;x=0}if("string"==typeof O&&(O=p.from(O,ee)),p.isBuffer(O))return 0===O.length?-1:N(y,O,x,ee,re);if("number"==typeof O)return O&=255,"function"==typeof Uint8Array.prototype.indexOf?re?Uint8Array.prototype.indexOf.call(y,O,x):Uint8Array.prototype.lastIndexOf.call(y,O,x):N(y,[O],x,ee,re);throw new TypeError("val must be string, number or Buffer")}function N(y,O,x,ee,re){let me,Ae=1,Ce=y.length,Ne=O.length;if(void 0!==ee&&("ucs2"===(ee=String(ee).toLowerCase())||"ucs-2"===ee||"utf16le"===ee||"utf-16le"===ee)){if(y.length<2||O.length<2)return-1;Ae=2,Ce/=2,Ne/=2,x/=2}function $e(Ze,lt){return 1===Ae?Ze[lt]:Ze.readUInt16BE(lt*Ae)}if(re){let Ze=-1;for(me=x;me<Ce;me++)if($e(y,me)===$e(O,-1===Ze?0:me-Ze)){if(-1===Ze&&(Ze=me),me-Ze+1===Ne)return Ze*Ae}else-1!==Ze&&(me-=me-Ze),Ze=-1}else for(x+Ne>Ce&&(x=Ce-Ne),me=x;me>=0;me--){let Ze=!0;for(let lt=0;lt<Ne;lt++)if($e(y,me+lt)!==$e(O,lt)){Ze=!1;break}if(Ze)return me}return-1}function q(y,O,x,ee){x=Number(x)||0;const re=y.length-x;ee?(ee=Number(ee))>re&&(ee=re):ee=re;const me=O.length;let Ae;for(ee>me/2&&(ee=me/2),Ae=0;Ae<ee;++Ae){const Ce=parseInt(O.substr(2*Ae,2),16);if(Ye(Ce))return Ae;y[x+Ae]=Ce}return Ae}function H(y,O,x,ee){return Fe(pe(O,y.length-x),y,x,ee)}function G(y,O,x,ee){return Fe(function(re){const me=[];for(let Ae=0;Ae<re.length;++Ae)me.push(255&re.charCodeAt(Ae));return me}(O),y,x,ee)}function te(y,O,x,ee){return Fe(Y(O),y,x,ee)}function Z(y,O,x,ee){return Fe(function(re,me){let Ae,Ce,Ne;const $e=[];for(let Ze=0;Ze<re.length&&!((me-=2)<0);++Ze)Ae=re.charCodeAt(Ze),Ce=Ae>>8,Ne=Ae%256,$e.push(Ne),$e.push(Ce);return $e}(O,y.length-x),y,x,ee)}function j(y,O,x){return h.fromByteArray(0===O&&x===y.length?y:y.slice(O,x))}function Q(y,O,x){x=Math.min(y.length,x);const ee=[];let re=O;for(;re<x;){const me=y[re];let Ae=null,Ce=me>239?4:me>223?3:me>191?2:1;if(re+Ce<=x){let Ne,$e,Ze,lt;switch(Ce){case 1:me<128&&(Ae=me);break;case 2:Ne=y[re+1],128==(192&Ne)&&(lt=(31&me)<<6|63&Ne,lt>127&&(Ae=lt));break;case 3:Ne=y[re+1],$e=y[re+2],128==(192&Ne)&&128==(192&$e)&&(lt=(15&me)<<12|(63&Ne)<<6|63&$e,lt>2047&&(lt<55296||lt>57343)&&(Ae=lt));break;case 4:Ne=y[re+1],$e=y[re+2],Ze=y[re+3],128==(192&Ne)&&128==(192&$e)&&128==(192&Ze)&&(lt=(15&me)<<18|(63&Ne)<<12|(63&$e)<<6|63&Ze,lt>65535&&lt<1114112&&(Ae=lt))}}null===Ae?(Ae=65533,Ce=1):Ae>65535&&(Ae-=65536,ee.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),ee.push(Ae),re+=Ce}return function(me){const Ae=me.length;if(Ae<=V)return String.fromCharCode.apply(String,me);let Ce="",Ne=0;for(;Ne<Ae;)Ce+=String.fromCharCode.apply(String,me.slice(Ne,Ne+=V));return Ce}(ee)}B.kMaxLength=m,(p.TYPED_ARRAY_SUPPORT=function(){try{const y=new Uint8Array(1),O={foo:function(){return 42}};return Object.setPrototypeOf(O,Uint8Array.prototype),Object.setPrototypeOf(y,O),42===y.foo()}catch(y){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}}),p.poolSize=8192,p.from=function(y,O,x){return v(y,O,x)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array),p.alloc=function(y,O,x){return re=O,me=x,g(ee=y),ee<=0?b(ee):void 0!==re?"string"==typeof me?b(ee).fill(re,me):b(ee).fill(re):b(ee);var ee,re,me},p.allocUnsafe=function(y){return w(y)},p.allocUnsafeSlow=function(y){return w(y)},p.isBuffer=function(y){return null!=y&&!0===y._isBuffer&&y!==p.prototype},p.compare=function(y,O){if(Be(y,Uint8Array)&&(y=p.from(y,y.offset,y.byteLength)),Be(O,Uint8Array)&&(O=p.from(O,O.offset,O.byteLength)),!p.isBuffer(y)||!p.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===O)return 0;let x=y.length,ee=O.length;for(let re=0,me=Math.min(x,ee);re<me;++re)if(y[re]!==O[re]){x=y[re],ee=O[re];break}return x<ee?-1:ee<x?1:0},p.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(y,O){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(0===y.length)return p.alloc(0);let x;if(void 0===O)for(O=0,x=0;x<y.length;++x)O+=y[x].length;const ee=p.allocUnsafe(O);let re=0;for(x=0;x<y.length;++x){let me=y[x];if(Be(me,Uint8Array))re+me.length>ee.length?(p.isBuffer(me)||(me=p.from(me)),me.copy(ee,re)):Uint8Array.prototype.set.call(ee,me,re);else{if(!p.isBuffer(me))throw new TypeError('"list" argument must be an Array of Buffers');me.copy(ee,re)}re+=me.length}return ee},p.byteLength=I,p.prototype._isBuffer=!0,p.prototype.swap16=function(){const y=this.length;if(y%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let O=0;O<y;O+=2)M(this,O,O+1);return this},p.prototype.swap32=function(){const y=this.length;if(y%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let O=0;O<y;O+=4)M(this,O,O+3),M(this,O+1,O+2);return this},p.prototype.swap64=function(){const y=this.length;if(y%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let O=0;O<y;O+=8)M(this,O,O+7),M(this,O+1,O+6),M(this,O+2,O+5),M(this,O+3,O+4);return this},p.prototype.toLocaleString=p.prototype.toString=function(){const y=this.length;return 0===y?"":0===arguments.length?Q(this,0,y):S.apply(this,arguments)},p.prototype.equals=function(y){if(!p.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y||0===p.compare(this,y)},p.prototype.inspect=function(){let y="";const O=B.INSPECT_MAX_BYTES;return y=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(y+=" ... "),"<Buffer "+y+">"},f&&(p.prototype[f]=p.prototype.inspect),p.prototype.compare=function(y,O,x,ee,re){if(Be(y,Uint8Array)&&(y=p.from(y,y.offset,y.byteLength)),!p.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(void 0===O&&(O=0),void 0===x&&(x=y?y.length:0),void 0===ee&&(ee=0),void 0===re&&(re=this.length),O<0||x>y.length||ee<0||re>this.length)throw new RangeError("out of range index");if(ee>=re&&O>=x)return 0;if(ee>=re)return-1;if(O>=x)return 1;if(this===y)return 0;let me=(re>>>=0)-(ee>>>=0),Ae=(x>>>=0)-(O>>>=0);const Ce=Math.min(me,Ae),Ne=this.slice(ee,re),$e=y.slice(O,x);for(let Ze=0;Ze<Ce;++Ze)if(Ne[Ze]!==$e[Ze]){me=Ne[Ze],Ae=$e[Ze];break}return me<Ae?-1:Ae<me?1:0},p.prototype.includes=function(y,O,x){return-1!==this.indexOf(y,O,x)},p.prototype.indexOf=function(y,O,x){return F(this,y,O,x,!0)},p.prototype.lastIndexOf=function(y,O,x){return F(this,y,O,x,!1)},p.prototype.write=function(y,O,x,ee){if(void 0===O)ee="utf8",x=this.length,O=0;else if(void 0===x&&"string"==typeof O)ee=O,x=this.length,O=0;else{if(!isFinite(O))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");O>>>=0,isFinite(x)?(x>>>=0,void 0===ee&&(ee="utf8")):(ee=x,x=void 0)}const re=this.length-O;if((void 0===x||x>re)&&(x=re),y.length>0&&(x<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");let me=!1;for(;;)switch(ee){case"hex":return q(this,y,O,x);case"utf8":case"utf-8":return H(this,y,O,x);case"ascii":case"latin1":case"binary":return G(this,y,O,x);case"base64":return te(this,y,O,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,y,O,x);default:if(me)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),me=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const V=4096;function ie(y,O,x){let ee="";x=Math.min(y.length,x);for(let re=O;re<x;++re)ee+=String.fromCharCode(127&y[re]);return ee}function z(y,O,x){let ee="";x=Math.min(y.length,x);for(let re=O;re<x;++re)ee+=String.fromCharCode(y[re]);return ee}function ne(y,O,x){const ee=y.length;(!O||O<0)&&(O=0),(!x||x<0||x>ee)&&(x=ee);let re="";for(let me=O;me<x;++me)re+=ae[y[me]];return re}function T(y,O,x){const ee=y.slice(O,x);let re="";for(let me=0;me<ee.length-1;me+=2)re+=String.fromCharCode(ee[me]+256*ee[me+1]);return re}function $(y,O,x){if(y%1!=0||y<0)throw new RangeError("offset is not uint");if(y+O>x)throw new RangeError("Trying to access beyond buffer length")}function U(y,O,x,ee,re,me){if(!p.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>re||O<me)throw new RangeError('"value" argument is out of bounds');if(x+ee>y.length)throw new RangeError("Index out of range")}function W(y,O,x,ee,re){de(O,ee,re,y,x,7);let me=Number(O&BigInt(4294967295));y[x++]=me,me>>=8,y[x++]=me,me>>=8,y[x++]=me,me>>=8,y[x++]=me;let Ae=Number(O>>BigInt(32)&BigInt(4294967295));return y[x++]=Ae,Ae>>=8,y[x++]=Ae,Ae>>=8,y[x++]=Ae,Ae>>=8,y[x++]=Ae,x}function se(y,O,x,ee,re){de(O,ee,re,y,x,7);let me=Number(O&BigInt(4294967295));y[x+7]=me,me>>=8,y[x+6]=me,me>>=8,y[x+5]=me,me>>=8,y[x+4]=me;let Ae=Number(O>>BigInt(32)&BigInt(4294967295));return y[x+3]=Ae,Ae>>=8,y[x+2]=Ae,Ae>>=8,y[x+1]=Ae,Ae>>=8,y[x]=Ae,x+8}function le(y,O,x,ee,re,me){if(x+ee>y.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function Me(y,O,x,ee,re){return O=+O,x>>>=0,re||le(y,0,x,4),_.write(y,O,x,ee,23,4),x+4}function Ee(y,O,x,ee,re){return O=+O,x>>>=0,re||le(y,0,x,8),_.write(y,O,x,ee,52,8),x+8}p.prototype.slice=function(y,O){const x=this.length;(y=~~y)<0?(y+=x)<0&&(y=0):y>x&&(y=x),(O=void 0===O?x:~~O)<0?(O+=x)<0&&(O=0):O>x&&(O=x),O<y&&(O=y);const ee=this.subarray(y,O);return Object.setPrototypeOf(ee,p.prototype),ee},p.prototype.readUintLE=p.prototype.readUIntLE=function(y,O,x){y>>>=0,O>>>=0,x||$(y,O,this.length);let ee=this[y],re=1,me=0;for(;++me<O&&(re*=256);)ee+=this[y+me]*re;return ee},p.prototype.readUintBE=p.prototype.readUIntBE=function(y,O,x){y>>>=0,O>>>=0,x||$(y,O,this.length);let ee=this[y+--O],re=1;for(;O>0&&(re*=256);)ee+=this[y+--O]*re;return ee},p.prototype.readUint8=p.prototype.readUInt8=function(y,O){return y>>>=0,O||$(y,1,this.length),this[y]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(y,O){return y>>>=0,O||$(y,2,this.length),this[y]|this[y+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(y,O){return y>>>=0,O||$(y,2,this.length),this[y]<<8|this[y+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(y,O){return y>>>=0,O||$(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+16777216*this[y+3]},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(y,O){return y>>>=0,O||$(y,4,this.length),16777216*this[y]+(this[y+1]<<16|this[y+2]<<8|this[y+3])},p.prototype.readBigUInt64LE=oe(function(y){k(y>>>=0,"offset");const O=this[y],x=this[y+7];void 0!==O&&void 0!==x||J(y,this.length-8);const ee=O+256*this[++y]+65536*this[++y]+this[++y]*2**24,re=this[++y]+256*this[++y]+65536*this[++y]+x*2**24;return BigInt(ee)+(BigInt(re)<<BigInt(32))}),p.prototype.readBigUInt64BE=oe(function(y){k(y>>>=0,"offset");const O=this[y],x=this[y+7];void 0!==O&&void 0!==x||J(y,this.length-8);const ee=O*2**24+65536*this[++y]+256*this[++y]+this[++y],re=this[++y]*2**24+65536*this[++y]+256*this[++y]+x;return(BigInt(ee)<<BigInt(32))+BigInt(re)}),p.prototype.readIntLE=function(y,O,x){y>>>=0,O>>>=0,x||$(y,O,this.length);let ee=this[y],re=1,me=0;for(;++me<O&&(re*=256);)ee+=this[y+me]*re;return re*=128,ee>=re&&(ee-=Math.pow(2,8*O)),ee},p.prototype.readIntBE=function(y,O,x){y>>>=0,O>>>=0,x||$(y,O,this.length);let ee=O,re=1,me=this[y+--ee];for(;ee>0&&(re*=256);)me+=this[y+--ee]*re;return re*=128,me>=re&&(me-=Math.pow(2,8*O)),me},p.prototype.readInt8=function(y,O){return y>>>=0,O||$(y,1,this.length),128&this[y]?-1*(255-this[y]+1):this[y]},p.prototype.readInt16LE=function(y,O){y>>>=0,O||$(y,2,this.length);const x=this[y]|this[y+1]<<8;return 32768&x?4294901760|x:x},p.prototype.readInt16BE=function(y,O){y>>>=0,O||$(y,2,this.length);const x=this[y+1]|this[y]<<8;return 32768&x?4294901760|x:x},p.prototype.readInt32LE=function(y,O){return y>>>=0,O||$(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},p.prototype.readInt32BE=function(y,O){return y>>>=0,O||$(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},p.prototype.readBigInt64LE=oe(function(y){k(y>>>=0,"offset");const O=this[y],x=this[y+7];return void 0!==O&&void 0!==x||J(y,this.length-8),(BigInt(this[y+4]+256*this[y+5]+65536*this[y+6]+(x<<24))<<BigInt(32))+BigInt(O+256*this[++y]+65536*this[++y]+16777216*this[++y])}),p.prototype.readBigInt64BE=oe(function(y){k(y>>>=0,"offset");const O=this[y],x=this[y+7];void 0!==O&&void 0!==x||J(y,this.length-8);const ee=(O<<24)+65536*this[++y]+256*this[++y]+this[++y];return(BigInt(ee)<<BigInt(32))+BigInt(16777216*this[++y]+65536*this[++y]+256*this[++y]+x)}),p.prototype.readFloatLE=function(y,O){return y>>>=0,O||$(y,4,this.length),_.read(this,y,!0,23,4)},p.prototype.readFloatBE=function(y,O){return y>>>=0,O||$(y,4,this.length),_.read(this,y,!1,23,4)},p.prototype.readDoubleLE=function(y,O){return y>>>=0,O||$(y,8,this.length),_.read(this,y,!0,52,8)},p.prototype.readDoubleBE=function(y,O){return y>>>=0,O||$(y,8,this.length),_.read(this,y,!1,52,8)},p.prototype.writeUintLE=p.prototype.writeUIntLE=function(y,O,x,ee){y=+y,O>>>=0,x>>>=0,ee||U(this,y,O,x,Math.pow(2,8*x)-1,0);let re=1,me=0;for(this[O]=255&y;++me<x&&(re*=256);)this[O+me]=y/re&255;return O+x},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(y,O,x,ee){y=+y,O>>>=0,x>>>=0,ee||U(this,y,O,x,Math.pow(2,8*x)-1,0);let re=x-1,me=1;for(this[O+re]=255&y;--re>=0&&(me*=256);)this[O+re]=y/me&255;return O+x},p.prototype.writeUint8=p.prototype.writeUInt8=function(y,O,x){return y=+y,O>>>=0,x||U(this,y,O,1,255,0),this[O]=255&y,O+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(y,O,x){return y=+y,O>>>=0,x||U(this,y,O,2,65535,0),this[O]=255&y,this[O+1]=y>>>8,O+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(y,O,x){return y=+y,O>>>=0,x||U(this,y,O,2,65535,0),this[O]=y>>>8,this[O+1]=255&y,O+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(y,O,x){return y=+y,O>>>=0,x||U(this,y,O,4,4294967295,0),this[O+3]=y>>>24,this[O+2]=y>>>16,this[O+1]=y>>>8,this[O]=255&y,O+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(y,O,x){return y=+y,O>>>=0,x||U(this,y,O,4,4294967295,0),this[O]=y>>>24,this[O+1]=y>>>16,this[O+2]=y>>>8,this[O+3]=255&y,O+4},p.prototype.writeBigUInt64LE=oe(function(y,O=0){return W(this,y,O,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=oe(function(y,O=0){return se(this,y,O,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(y,O,x,ee){if(y=+y,O>>>=0,!ee){const Ce=Math.pow(2,8*x-1);U(this,y,O,x,Ce-1,-Ce)}let re=0,me=1,Ae=0;for(this[O]=255&y;++re<x&&(me*=256);)y<0&&0===Ae&&0!==this[O+re-1]&&(Ae=1),this[O+re]=(y/me>>0)-Ae&255;return O+x},p.prototype.writeIntBE=function(y,O,x,ee){if(y=+y,O>>>=0,!ee){const Ce=Math.pow(2,8*x-1);U(this,y,O,x,Ce-1,-Ce)}let re=x-1,me=1,Ae=0;for(this[O+re]=255&y;--re>=0&&(me*=256);)y<0&&0===Ae&&0!==this[O+re+1]&&(Ae=1),this[O+re]=(y/me>>0)-Ae&255;return O+x},p.prototype.writeInt8=function(y,O,x){return y=+y,O>>>=0,x||U(this,y,O,1,127,-128),y<0&&(y=255+y+1),this[O]=255&y,O+1},p.prototype.writeInt16LE=function(y,O,x){return y=+y,O>>>=0,x||U(this,y,O,2,32767,-32768),this[O]=255&y,this[O+1]=y>>>8,O+2},p.prototype.writeInt16BE=function(y,O,x){return y=+y,O>>>=0,x||U(this,y,O,2,32767,-32768),this[O]=y>>>8,this[O+1]=255&y,O+2},p.prototype.writeInt32LE=function(y,O,x){return y=+y,O>>>=0,x||U(this,y,O,4,2147483647,-2147483648),this[O]=255&y,this[O+1]=y>>>8,this[O+2]=y>>>16,this[O+3]=y>>>24,O+4},p.prototype.writeInt32BE=function(y,O,x){return y=+y,O>>>=0,x||U(this,y,O,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[O]=y>>>24,this[O+1]=y>>>16,this[O+2]=y>>>8,this[O+3]=255&y,O+4},p.prototype.writeBigInt64LE=oe(function(y,O=0){return W(this,y,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=oe(function(y,O=0){return se(this,y,O,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeFloatLE=function(y,O,x){return Me(this,y,O,!0,x)},p.prototype.writeFloatBE=function(y,O,x){return Me(this,y,O,!1,x)},p.prototype.writeDoubleLE=function(y,O,x){return Ee(this,y,O,!0,x)},p.prototype.writeDoubleBE=function(y,O,x){return Ee(this,y,O,!1,x)},p.prototype.copy=function(y,O,x,ee){if(!p.isBuffer(y))throw new TypeError("argument should be a Buffer");if(x||(x=0),ee||0===ee||(ee=this.length),O>=y.length&&(O=y.length),O||(O=0),ee>0&&ee<x&&(ee=x),ee===x||0===y.length||0===this.length)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),y.length-O<ee-x&&(ee=y.length-O+x);const re=ee-x;return this===y&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(O,x,ee):Uint8Array.prototype.set.call(y,this.subarray(x,ee),O),re},p.prototype.fill=function(y,O,x,ee){if("string"==typeof y){if("string"==typeof O?(ee=O,O=0,x=this.length):"string"==typeof x&&(ee=x,x=this.length),void 0!==ee&&"string"!=typeof ee)throw new TypeError("encoding must be a string");if("string"==typeof ee&&!p.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(1===y.length){const me=y.charCodeAt(0);("utf8"===ee&&me<128||"latin1"===ee)&&(y=me)}}else"number"==typeof y?y&=255:"boolean"==typeof y&&(y=Number(y));if(O<0||this.length<O||this.length<x)throw new RangeError("Out of range index");if(x<=O)return this;let re;if(O>>>=0,x=void 0===x?this.length:x>>>0,y||(y=0),"number"==typeof y)for(re=O;re<x;++re)this[re]=y;else{const me=p.isBuffer(y)?y:p.from(y,ee),Ae=me.length;if(0===Ae)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(re=0;re<x-O;++re)this[re+O]=me[re%Ae]}return this};const ye={};function ue(y,O,x){ye[y]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:O.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${y}]`,delete this.name}get code(){return y}set code(ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ee,writable:!0})}toString(){return`${this.name} [${y}]: ${this.message}`}}}function _e(y){let O="",x=y.length;const ee="-"===y[0]?1:0;for(;x>=ee+4;x-=3)O=`_${y.slice(x-3,x)}${O}`;return`${y.slice(0,x)}${O}`}function de(y,O,x,ee,re,me){if(y>x||y<O){const Ae="bigint"==typeof O?"n":"";let Ce;throw Ce=me>3?0===O||O===BigInt(0)?`>= 0${Ae} and < 2${Ae} ** ${8*(me+1)}${Ae}`:`>= -(2${Ae} ** ${8*(me+1)-1}${Ae}) and < 2 ** ${8*(me+1)-1}${Ae}`:`>= ${O}${Ae} and <= ${x}${Ae}`,new ye.ERR_OUT_OF_RANGE("value",Ce,y)}var Ae,Ce,Ne;Ae=ee,Ne=me,k(Ce=re,"offset"),void 0!==Ae[Ce]&&void 0!==Ae[Ce+Ne]||J(Ce,Ae.length-(Ne+1))}function k(y,O){if("number"!=typeof y)throw new ye.ERR_INVALID_ARG_TYPE(O,"number",y)}function J(y,O,x){throw Math.floor(y)!==y?(k(y,x),new ye.ERR_OUT_OF_RANGE(x||"offset","an integer",y)):O<0?new ye.ERR_BUFFER_OUT_OF_BOUNDS:new ye.ERR_OUT_OF_RANGE(x||"offset",`>= ${x?1:0} and <= ${O}`,y)}ue("ERR_BUFFER_OUT_OF_BOUNDS",function(y){return y?`${y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ue("ERR_INVALID_ARG_TYPE",function(y,O){return`The "${y}" argument must be of type number. Received type ${typeof O}`},TypeError),ue("ERR_OUT_OF_RANGE",function(y,O,x){let ee=`The value of "${y}" is out of range.`,re=x;return Number.isInteger(x)&&Math.abs(x)>4294967296?re=_e(String(x)):"bigint"==typeof x&&(re=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(re=_e(re)),re+="n"),ee+=` It must be ${O}. Received ${re}`,ee},RangeError);const fe=/[^+/0-9A-Za-z-_]/g;function pe(y,O){let x;O=O||1/0;const ee=y.length;let re=null;const me=[];for(let Ae=0;Ae<ee;++Ae){if(x=y.charCodeAt(Ae),x>55295&&x<57344){if(!re){if(x>56319){(O-=3)>-1&&me.push(239,191,189);continue}if(Ae+1===ee){(O-=3)>-1&&me.push(239,191,189);continue}re=x;continue}if(x<56320){(O-=3)>-1&&me.push(239,191,189),re=x;continue}x=65536+(re-55296<<10|x-56320)}else re&&(O-=3)>-1&&me.push(239,191,189);if(re=null,x<128){if((O-=1)<0)break;me.push(x)}else if(x<2048){if((O-=2)<0)break;me.push(x>>6|192,63&x|128)}else if(x<65536){if((O-=3)<0)break;me.push(x>>12|224,x>>6&63|128,63&x|128)}else{if(!(x<1114112))throw new Error("Invalid code point");if((O-=4)<0)break;me.push(x>>18|240,x>>12&63|128,x>>6&63|128,63&x|128)}}return me}function Y(y){return h.toByteArray(function(O){if((O=(O=O.split("=")[0]).trim().replace(fe,"")).length<2)return"";for(;O.length%4!=0;)O+="=";return O}(y))}function Fe(y,O,x,ee){let re;for(re=0;re<ee&&!(re+x>=O.length||re>=y.length);++re)O[re+x]=y[re];return re}function Be(y,O){return y instanceof O||null!=y&&null!=y.constructor&&null!=y.constructor.name&&y.constructor.name===O.name}function Ye(y){return y!=y}const ae=function(){const y="0123456789abcdef",O=new Array(256);for(let x=0;x<16;++x){const ee=16*x;for(let re=0;re<16;++re)O[ee+re]=y[x]+y[re]}return O}();function oe(y){return"undefined"==typeof BigInt?be:y}function be(){throw new Error("BigInt not supported")}},6313:(E,B,c)=>{var h=c(8764).Buffer,_=function(){"use strict";function f(C,D){return null!=D&&C instanceof D}var m,b,p;try{m=Map}catch(C){m=function(){}}try{b=Set}catch(C){b=function(){}}try{p=Promise}catch(C){p=function(){}}function v(C,D,A,I,S){"object"==typeof D&&(A=D.depth,I=D.prototype,S=D.includeNonEnumerable,D=D.circular);var M=[],F=[],N=void 0!==h;return void 0===D&&(D=!0),void 0===A&&(A=1/0),function q(H,G){if(null===H)return null;if(0===G)return H;var te,Z;if("object"!=typeof H)return H;if(f(H,m))te=new m;else if(f(H,b))te=new b;else if(f(H,p))te=new p(function(U,W){H.then(function(se){U(q(se,G-1))},function(se){W(q(se,G-1))})});else if(v.__isArray(H))te=[];else if(v.__isRegExp(H))te=new RegExp(H.source,w(H)),H.lastIndex&&(te.lastIndex=H.lastIndex);else if(v.__isDate(H))te=new Date(H.getTime());else{if(N&&h.isBuffer(H))return te=h.allocUnsafe?h.allocUnsafe(H.length):new h(H.length),H.copy(te),te;f(H,Error)?te=Object.create(H):void 0===I?(Z=Object.getPrototypeOf(H),te=Object.create(Z)):(te=Object.create(I),Z=I)}if(D){var j=M.indexOf(H);if(-1!=j)return F[j];M.push(H),F.push(te)}for(var Q in f(H,m)&&H.forEach(function(U,W){var se=q(W,G-1),le=q(U,G-1);te.set(se,le)}),f(H,b)&&H.forEach(function(U){var W=q(U,G-1);te.add(W)}),H){var V;Z&&(V=Object.getOwnPropertyDescriptor(Z,Q)),V&&null==V.set||(te[Q]=q(H[Q],G-1))}if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(H);for(Q=0;Q<ie.length;Q++){var z=ie[Q];(!(T=Object.getOwnPropertyDescriptor(H,z))||T.enumerable||S)&&(te[z]=q(H[z],G-1),T.enumerable||Object.defineProperty(te,z,{enumerable:!1}))}}if(S){var ne=Object.getOwnPropertyNames(H);for(Q=0;Q<ne.length;Q++){var T,$=ne[Q];(T=Object.getOwnPropertyDescriptor(H,$))&&T.enumerable||(te[$]=q(H[$],G-1),Object.defineProperty(te,$,{enumerable:!1}))}}return te}(C,A)}function g(C){return Object.prototype.toString.call(C)}function w(C){var D="";return C.global&&(D+="g"),C.ignoreCase&&(D+="i"),C.multiline&&(D+="m"),D}return v.clonePrototype=function(C){if(null===C)return null;var D=function(){};return D.prototype=C,new D},v.__objToStr=g,v.__isDate=function(C){return"object"==typeof C&&"[object Date]"===g(C)},v.__isArray=function(C){return"object"==typeof C&&"[object Array]"===g(C)},v.__isRegExp=function(C){return"object"==typeof C&&"[object RegExp]"===g(C)},v.__getRegExpFlags=w,v}();E.exports&&(E.exports=_)},4370:E=>{"use strict";var B,c="object"==typeof Reflect?Reflect:null,h=c&&"function"==typeof c.apply?c.apply:function(S,M,F){return Function.prototype.apply.call(S,M,F)};B=c&&"function"==typeof c.ownKeys?c.ownKeys:Object.getOwnPropertySymbols?function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:function(S){return Object.getOwnPropertyNames(S)};var _=Number.isNaN||function(S){return S!=S};function f(){f.init.call(this)}E.exports=f,E.exports.once=function(S,M){return new Promise(function(F,N){function q(G){S.removeListener(M,H),N(G)}function H(){"function"==typeof S.removeListener&&S.removeListener("error",q),F([].slice.call(arguments))}var G;I(S,M,H,{once:!0}),"error"!==M&&("function"==typeof(G=S).on&&I(G,"error",q,{once:!0}))})},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var m=10;function b(S){if("function"!=typeof S)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}function p(S){return void 0===S._maxListeners?f.defaultMaxListeners:S._maxListeners}function v(S,M,F,N){var q,H,G;if(b(F),void 0===(H=S._events)?(H=S._events=Object.create(null),S._eventsCount=0):(void 0!==H.newListener&&(S.emit("newListener",M,F.listener?F.listener:F),H=S._events),G=H[M]),void 0===G)G=H[M]=F,++S._eventsCount;else if("function"==typeof G?G=H[M]=N?[F,G]:[G,F]:N?G.unshift(F):G.push(F),(q=p(S))>0&&G.length>q&&!G.warned){G.warned=!0;var Z=new Error("Possible EventEmitter memory leak detected. "+G.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");Z.name="MaxListenersExceededWarning",Z.emitter=S,Z.type=M,Z.count=G.length,console&&console.warn&&console.warn(Z)}return S}function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(S,M,F){var N={fired:!1,wrapFn:void 0,target:S,type:M,listener:F},q=g.bind(N);return q.listener=F,N.wrapFn=q,q}function C(S,M,F){var N=S._events;if(void 0===N)return[];var q=N[M];return void 0===q?[]:"function"==typeof q?F?[q.listener||q]:[q]:F?function(H){for(var G=new Array(H.length),te=0;te<G.length;++te)G[te]=H[te].listener||H[te];return G}(q):A(q,q.length)}function D(S){var M=this._events;if(void 0!==M){var F=M[S];if("function"==typeof F)return 1;if(void 0!==F)return F.length}return 0}function A(S,M){for(var F=new Array(M),N=0;N<M;++N)F[N]=S[N];return F}function I(S,M,F,N){if("function"==typeof S.on)N.once?S.once(M,F):S.on(M,F);else{if("function"!=typeof S.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S);S.addEventListener(M,function q(H){N.once&&S.removeEventListener(M,q),F(H)})}}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(S){if("number"!=typeof S||S<0||_(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");m=S}}),f.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(S){if("number"!=typeof S||S<0||_(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this},f.prototype.getMaxListeners=function(){return p(this)},f.prototype.emit=function(S){for(var M=[],F=1;F<arguments.length;F++)M.push(arguments[F]);var N="error"===S,q=this._events;if(void 0!==q)N=N&&void 0===q.error;else if(!N)return!1;if(N){var H;if(M.length>0&&(H=M[0]),H instanceof Error)throw H;var G=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw G.context=H,G}var te=q[S];if(void 0===te)return!1;if("function"==typeof te)h(te,this,M);else{var Z=te.length,j=A(te,Z);for(F=0;F<Z;++F)h(j[F],this,M)}return!0},f.prototype.on=f.prototype.addListener=function(S,M){return v(this,S,M,!1)},f.prototype.prependListener=function(S,M){return v(this,S,M,!0)},f.prototype.once=function(S,M){return b(M),this.on(S,w(this,S,M)),this},f.prototype.prependOnceListener=function(S,M){return b(M),this.prependListener(S,w(this,S,M)),this},f.prototype.off=f.prototype.removeListener=function(S,M){var F,N,q,H,G;if(b(M),void 0===(N=this._events))return this;if(void 0===(F=N[S]))return this;if(F===M||F.listener===M)0==--this._eventsCount?this._events=Object.create(null):(delete N[S],N.removeListener&&this.emit("removeListener",S,F.listener||M));else if("function"!=typeof F){for(q=-1,H=F.length-1;H>=0;H--)if(F[H]===M||F[H].listener===M){G=F[H].listener,q=H;break}if(q<0)return this;0===q?F.shift():function(te,Z){for(;Z+1<te.length;Z++)te[Z]=te[Z+1];te.pop()}(F,q),1===F.length&&(N[S]=F[0]),void 0!==N.removeListener&&this.emit("removeListener",S,G||M)}return this},f.prototype.removeAllListeners=function(S){var M,F,N;if(void 0===(F=this._events))return this;if(void 0===F.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==F[S]&&(0==--this._eventsCount?this._events=Object.create(null):delete F[S]),this;if(0===arguments.length){var q,H=Object.keys(F);for(N=0;N<H.length;++N)"removeListener"!==(q=H[N])&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(M=F[S]))this.removeListener(S,M);else if(void 0!==M)for(N=M.length-1;N>=0;N--)this.removeListener(S,M[N]);return this},f.prototype.listeners=function(S){return C(this,S,!0)},f.prototype.rawListeners=function(S){return C(this,S,!1)},f.listenerCount=function(S,M){return"function"==typeof S.listenerCount?S.listenerCount(M):D.call(S,M)},f.prototype.listenerCount=D,f.prototype.eventNames=function(){return this._eventsCount>0?B(this._events):[]}},645:(E,B)=>{B.read=function(c,h,_,f,m){var b,p,v=8*m-f-1,g=(1<<v)-1,w=g>>1,C=-7,D=_?m-1:0,A=_?-1:1,I=c[h+D];for(D+=A,b=I&(1<<-C)-1,I>>=-C,C+=v;C>0;b=256*b+c[h+D],D+=A,C-=8);for(p=b&(1<<-C)-1,b>>=-C,C+=f;C>0;p=256*p+c[h+D],D+=A,C-=8);if(0===b)b=1-w;else{if(b===g)return p?NaN:1/0*(I?-1:1);p+=Math.pow(2,f),b-=w}return(I?-1:1)*p*Math.pow(2,b-f)},B.write=function(c,h,_,f,m,b){var p,v,g,w=8*b-m-1,C=(1<<w)-1,D=C>>1,A=23===m?Math.pow(2,-24)-Math.pow(2,-77):0,I=f?0:b-1,S=f?1:-1,M=h<0||0===h&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(v=isNaN(h)?1:0,p=C):(p=Math.floor(Math.log(h)/Math.LN2),h*(g=Math.pow(2,-p))<1&&(p--,g*=2),(h+=p+D>=1?A/g:A*Math.pow(2,1-D))*g>=2&&(p++,g/=2),p+D>=C?(v=0,p=C):p+D>=1?(v=(h*g-1)*Math.pow(2,m),p+=D):(v=h*Math.pow(2,D-1)*Math.pow(2,m),p=0));m>=8;c[_+I]=255&v,I+=S,v/=256,m-=8);for(p=p<<m|v,w+=m;w>0;c[_+I]=255&p,I+=S,p/=256,w-=8);c[_+I-S]|=128*M}},2545:()=>{},8293:()=>{},1209:()=>{},1583:(E,B)=>{var c,h=function(_){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var f=null;try{f=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(T){}function m(T,$,U){this.low=0|T,this.high=0|$,this.unsigned=!!U}function b(T){return!0===(T&&T.__isLong__)}function p(T){var $=Math.clz32(T&-T);return T?31-$:$}Object.defineProperty(m.prototype,"__isLong__",{value:!0}),m.isLong=b;var v={},g={};function w(T,$){var U,W,se;return $?(se=0<=(T>>>=0)&&T<256)&&(W=g[T])?W:(U=D(T,0,!0),se&&(g[T]=U),U):(se=-128<=(T|=0)&&T<128)&&(W=v[T])?W:(U=D(T,T<0?-1:0,!1),se&&(v[T]=U),U)}function C(T,$){if(isNaN(T))return $?G:H;if($){if(T<0)return G;if(T>=F)return V}else{if(T<=-N)return ie;if(T+1>=N)return Q}return T<0?C(-T,$).neg():D(T%M|0,T/M|0,$)}function D(T,$,U){return new m(T,$,U)}m.fromInt=w,m.fromNumber=C,m.fromBits=D;var A=Math.pow;function I(T,$,U){if(0===T.length)throw Error("empty string");if("number"==typeof $?(U=$,$=!1):$=!!$,"NaN"===T||"Infinity"===T||"+Infinity"===T||"-Infinity"===T)return $?G:H;if((U=U||10)<2||36<U)throw RangeError("radix");var W;if((W=T.indexOf("-"))>0)throw Error("interior hyphen");if(0===W)return I(T.substring(1),$,U).neg();for(var se=C(A(U,8)),le=H,Me=0;Me<T.length;Me+=8){var Ee=Math.min(8,T.length-Me),ye=parseInt(T.substring(Me,Me+Ee),U);if(Ee<8){var ue=C(A(U,Ee));le=le.mul(ue).add(C(ye))}else le=(le=le.mul(se)).add(C(ye))}return le.unsigned=$,le}function S(T,$){return"number"==typeof T?C(T,$):"string"==typeof T?I(T,$):D(T.low,T.high,"boolean"==typeof $?$:T.unsigned)}m.fromString=I,m.fromValue=S;var M=4294967296,F=M*M,N=F/2,q=w(1<<24),H=w(0);m.ZERO=H;var G=w(0,!0);m.UZERO=G;var te=w(1);m.ONE=te;var Z=w(1,!0);m.UONE=Z;var j=w(-1);m.NEG_ONE=j;var Q=D(-1,2147483647,!1);m.MAX_VALUE=Q;var V=D(-1,-1,!0);m.MAX_UNSIGNED_VALUE=V;var ie=D(0,-2147483648,!1);m.MIN_VALUE=ie;var z=m.prototype;return z.toInt=function(){return this.unsigned?this.low>>>0:this.low},z.toNumber=function(){return this.unsigned?(this.high>>>0)*M+(this.low>>>0):this.high*M+(this.low>>>0)},z.toString=function(T){if((T=T||10)<2||36<T)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(ie)){var $=C(T),U=this.div($),W=U.mul($).sub(this);return U.toString(T)+W.toInt().toString(T)}return"-"+this.neg().toString(T)}for(var se=C(A(T,6),this.unsigned),le=this,Me="";;){var Ee=le.div(se),ye=(le.sub(Ee.mul(se)).toInt()>>>0).toString(T);if((le=Ee).isZero())return ye+Me;for(;ye.length<6;)ye="0"+ye;Me=""+ye+Me}},z.getHighBits=function(){return this.high},z.getHighBitsUnsigned=function(){return this.high>>>0},z.getLowBits=function(){return this.low},z.getLowBitsUnsigned=function(){return this.low>>>0},z.getNumBitsAbs=function(){if(this.isNegative())return this.eq(ie)?64:this.neg().getNumBitsAbs();for(var T=0!=this.high?this.high:this.low,$=31;$>0&&0==(T&1<<$);$--);return 0!=this.high?$+33:$+1},z.isZero=function(){return 0===this.high&&0===this.low},z.eqz=z.isZero,z.isNegative=function(){return!this.unsigned&&this.high<0},z.isPositive=function(){return this.unsigned||this.high>=0},z.isOdd=function(){return 1==(1&this.low)},z.isEven=function(){return 0==(1&this.low)},z.equals=function(T){return b(T)||(T=S(T)),(this.unsigned===T.unsigned||this.high>>>31!=1||T.high>>>31!=1)&&this.high===T.high&&this.low===T.low},z.eq=z.equals,z.notEquals=function(T){return!this.eq(T)},z.neq=z.notEquals,z.ne=z.notEquals,z.lessThan=function(T){return this.comp(T)<0},z.lt=z.lessThan,z.lessThanOrEqual=function(T){return this.comp(T)<=0},z.lte=z.lessThanOrEqual,z.le=z.lessThanOrEqual,z.greaterThan=function(T){return this.comp(T)>0},z.gt=z.greaterThan,z.greaterThanOrEqual=function(T){return this.comp(T)>=0},z.gte=z.greaterThanOrEqual,z.ge=z.greaterThanOrEqual,z.compare=function(T){if(b(T)||(T=S(T)),this.eq(T))return 0;var $=this.isNegative(),U=T.isNegative();return $&&!U?-1:!$&&U?1:this.unsigned?T.high>>>0>this.high>>>0||T.high===this.high&&T.low>>>0>this.low>>>0?-1:1:this.sub(T).isNegative()?-1:1},z.comp=z.compare,z.negate=function(){return!this.unsigned&&this.eq(ie)?ie:this.not().add(te)},z.neg=z.negate,z.add=function(T){b(T)||(T=S(T));var ye=0,ue=0,_e=0,de=0;return _e+=(de+=(65535&this.low)+(65535&T.low))>>>16,ue+=(_e+=(this.low>>>16)+(T.low>>>16))>>>16,ye+=(ue+=(65535&this.high)+(65535&T.high))>>>16,ye+=(this.high>>>16)+(T.high>>>16),D((_e&=65535)<<16|(de&=65535),(ye&=65535)<<16|(ue&=65535),this.unsigned)},z.subtract=function(T){return b(T)||(T=S(T)),this.add(T.neg())},z.sub=z.subtract,z.multiply=function(T){if(this.isZero())return this;if(b(T)||(T=S(T)),f)return D(f.mul(this.low,this.high,T.low,T.high),f.get_high(),this.unsigned);if(T.isZero())return this.unsigned?G:H;if(this.eq(ie))return T.isOdd()?ie:H;if(T.eq(ie))return this.isOdd()?ie:H;if(this.isNegative())return T.isNegative()?this.neg().mul(T.neg()):this.neg().mul(T).neg();if(T.isNegative())return this.mul(T.neg()).neg();if(this.lt(q)&&T.lt(q))return C(this.toNumber()*T.toNumber(),this.unsigned);var U=65535&this.high,W=this.low>>>16,se=65535&this.low,Me=65535&T.high,Ee=T.low>>>16,ye=65535&T.low,ue=0,_e=0,de=0,k=0;return de+=(k+=se*ye)>>>16,_e+=(de+=W*ye)>>>16,de&=65535,_e+=(de+=se*Ee)>>>16,ue+=(_e+=U*ye)>>>16,_e&=65535,ue+=(_e+=W*Ee)>>>16,_e&=65535,ue+=(_e+=se*Me)>>>16,ue+=(this.high>>>16)*ye+U*Ee+W*Me+se*(T.high>>>16),D((de&=65535)<<16|(k&=65535),(ue&=65535)<<16|(_e&=65535),this.unsigned)},z.mul=z.multiply,z.divide=function(T){if(b(T)||(T=S(T)),T.isZero())throw Error("division by zero");var $,U,W;if(f)return this.unsigned||-2147483648!==this.high||-1!==T.low||-1!==T.high?D((this.unsigned?f.div_u:f.div_s)(this.low,this.high,T.low,T.high),f.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?G:H;if(this.unsigned){if(T.unsigned||(T=T.toUnsigned()),T.gt(this))return G;if(T.gt(this.shru(1)))return Z;W=G}else{if(this.eq(ie))return T.eq(te)||T.eq(j)?ie:T.eq(ie)?te:($=this.shr(1).div(T).shl(1)).eq(H)?T.isNegative()?te:j:(U=this.sub(T.mul($)),W=$.add(U.div(T)));if(T.eq(ie))return this.unsigned?G:H;if(this.isNegative())return T.isNegative()?this.neg().div(T.neg()):this.neg().div(T).neg();if(T.isNegative())return this.div(T.neg()).neg();W=H}for(U=this;U.gte(T);){$=Math.max(1,Math.floor(U.toNumber()/T.toNumber()));for(var se=Math.ceil(Math.log($)/Math.LN2),le=se<=48?1:A(2,se-48),Me=C($),Ee=Me.mul(T);Ee.isNegative()||Ee.gt(U);)Ee=(Me=C($-=le,this.unsigned)).mul(T);Me.isZero()&&(Me=te),W=W.add(Me),U=U.sub(Ee)}return W},z.div=z.divide,z.modulo=function(T){return b(T)||(T=S(T)),f?D((this.unsigned?f.rem_u:f.rem_s)(this.low,this.high,T.low,T.high),f.get_high(),this.unsigned):this.sub(this.div(T).mul(T))},z.mod=z.modulo,z.rem=z.modulo,z.not=function(){return D(~this.low,~this.high,this.unsigned)},z.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},z.clz=z.countLeadingZeros,z.countTrailingZeros=function(){return this.low?p(this.low):p(this.high)+32},z.ctz=z.countTrailingZeros,z.and=function(T){return b(T)||(T=S(T)),D(this.low&T.low,this.high&T.high,this.unsigned)},z.or=function(T){return b(T)||(T=S(T)),D(this.low|T.low,this.high|T.high,this.unsigned)},z.xor=function(T){return b(T)||(T=S(T)),D(this.low^T.low,this.high^T.high,this.unsigned)},z.shiftLeft=function(T){return b(T)&&(T=T.toInt()),0==(T&=63)?this:T<32?D(this.low<<T,this.high<<T|this.low>>>32-T,this.unsigned):D(0,this.low<<T-32,this.unsigned)},z.shl=z.shiftLeft,z.shiftRight=function(T){return b(T)&&(T=T.toInt()),0==(T&=63)?this:T<32?D(this.low>>>T|this.high<<32-T,this.high>>T,this.unsigned):D(this.high>>T-32,this.high>=0?0:-1,this.unsigned)},z.shr=z.shiftRight,z.shiftRightUnsigned=function(T){return b(T)&&(T=T.toInt()),0==(T&=63)?this:T<32?D(this.low>>>T|this.high<<32-T,this.high>>>T,this.unsigned):D(32===T?this.high:this.high>>>T-32,0,this.unsigned)},z.shru=z.shiftRightUnsigned,z.shr_u=z.shiftRightUnsigned,z.rotateLeft=function(T){var $;return b(T)&&(T=T.toInt()),0==(T&=63)?this:32===T?D(this.high,this.low,this.unsigned):T<32?D(this.low<<T|this.high>>>($=32-T),this.high<<T|this.low>>>$,this.unsigned):($=32-(T-=32),D(this.high<<T|this.low>>>$,this.low<<T|this.high>>>$,this.unsigned))},z.rotl=z.rotateLeft,z.rotateRight=function(T){var $;return b(T)&&(T=T.toInt()),0==(T&=63)?this:32===T?D(this.high,this.low,this.unsigned):T<32?D(this.high<<($=32-T)|this.low>>>T,this.low<<$|this.high>>>T,this.unsigned):($=32-(T-=32),D(this.low<<$|this.high>>>T,this.high<<$|this.low>>>T,this.unsigned))},z.rotr=z.rotateRight,z.toSigned=function(){return this.unsigned?D(this.low,this.high,!1):this},z.toUnsigned=function(){return this.unsigned?this:D(this.low,this.high,!0)},z.toBytes=function(T){return T?this.toBytesLE():this.toBytesBE()},z.toBytesLE=function(){var T=this.high,$=this.low;return[255&$,$>>>8&255,$>>>16&255,$>>>24,255&T,T>>>8&255,T>>>16&255,T>>>24]},z.toBytesBE=function(){var T=this.high,$=this.low;return[T>>>24,T>>>16&255,T>>>8&255,255&T,$>>>24,$>>>16&255,$>>>8&255,255&$]},m.fromBytes=function(T,$,U){return U?m.fromBytesLE(T,$):m.fromBytesBE(T,$)},m.fromBytesLE=function(T,$){return new m(T[0]|T[1]<<8|T[2]<<16|T[3]<<24,T[4]|T[5]<<8|T[6]<<16|T[7]<<24,$)},m.fromBytesBE=function(T,$){return new m(T[4]<<24|T[5]<<16|T[6]<<8|T[7],T[0]<<24|T[1]<<16|T[2]<<8|T[3],$)},_.default=m,"default"in _?_.default:_}({});void 0===(c=function(){return h}.apply(B,[]))||(E.exports=c)}},to={};function Ft(E){var B=to[E];if(void 0!==B)return B.exports;var c=to[E]={exports:{}};return _l[E].call(c.exports,c,c.exports,Ft),c.exports}return Ft.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(E){if("object"==typeof window)return window}}(),Ft(6010)})()}},gl=>{gl(gl.s=355)}]);