<mat-card>
  <mat-card-header>
    <header>
      <span class="title">Subscribers</span>
      <span class="sub-title">Subscribe to a topic or queue to receive messages published to that destination.</span>
    </header>
    <div class="divider">
      <mat-divider></mat-divider>
      <button mat-fab color="primary" class="add" (click)="onSubscriptionAdd()" matTooltip="Click to add a subscription">
        <mat-icon>add</mat-icon>
      </button>
    </div>
  </mat-card-header>

  <mat-card-content>
    <mat-tab-group *ngIf="subscriptions.length" animationDuration="0ms" [(selectedIndex)]="selectedTabIndex">
      <mat-tab *ngFor="let subscription of subscriptions">
        <ng-template mat-tab-label>
          <div class="tab" (mousedown)="onTabMouseDown($event, subscription)">
            <input matInput
                   [(ngModel)]="subscription.name"
                   [style.width.em]="subscription.name.length / 2"
                   class="tab-name">
            <button mat-icon-button class="delete" (click)="onSubscriptionDelete(subscription)">
              <mat-icon>close</mat-icon>
            </button>
          </div>
        </ng-template>
        <sci-viewport>
          <app-subscriber></app-subscriber>
        </sci-viewport>
      </mat-tab>
    </mat-tab-group>
  </mat-card-content>
</mat-card>
